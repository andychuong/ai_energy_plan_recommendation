/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var YL=Object.create;var Va=Object.defineProperty;var XL=Object.getOwnPropertyDescriptor;var QL=Object.getOwnPropertyNames;var JL=Object.getPrototypeOf,ZL=Object.prototype.hasOwnProperty;var me=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var w=(e,t)=>()=>(e&&(t=e(e=0)),t);var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ht=(e,t)=>{for(var r in t)Va(e,r,{get:t[r],enumerable:!0})},XE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QL(t))!ZL.call(e,o)&&o!==r&&Va(e,o,{get:()=>t[o],enumerable:!(n=XL(t,o))||n.enumerable});return e};var A=(e,t,r)=>(r=e!=null?YL(JL(e)):{},XE(t||!e||!e.__esModule?Va(r,"default",{value:e,enumerable:!0}):r,e)),ae=e=>XE(Va({},"__esModule",{value:!0}),e);import{createRequire as eM}from"node:module";import tM from"node:path";import rM from"node:url";var c=w(()=>{global.require=eM(import.meta.url);global.__filename=rM.fileURLToPath(import.meta.url);global.__dirname=tM.dirname(__filename)});var tn=v(Ae=>{"use strict";c();Ae.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Ae.HttpAuthLocation||(Ae.HttpAuthLocation={}));Ae.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Ae.HttpApiKeyAuthLocation||(Ae.HttpApiKeyAuthLocation={}));Ae.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Ae.EndpointURLScheme||(Ae.EndpointURLScheme={}));Ae.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Ae.AlgorithmId||(Ae.AlgorithmId={}));var nM=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>Ae.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>Ae.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},oM=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},sM=e=>nM(e),iM=e=>oM(e);Ae.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Ae.FieldPosition||(Ae.FieldPosition={}));var aM="__smithy_context";Ae.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Ae.IniSectionType||(Ae.IniSectionType={}));Ae.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Ae.RequestHandlerProtocol||(Ae.RequestHandlerProtocol={}));Ae.SMITHY_CONTEXT_KEY=aM;Ae.getDefaultClientConfiguration=sM;Ae.resolveDefaultRuntimeConfig=iM});var it=v(Gp=>{"use strict";c();var QE=tn(),cM=e=>e[QE.SMITHY_CONTEXT_KEY]||(e[QE.SMITHY_CONTEXT_KEY]={}),lM=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Gp.getSmithyContext=cM;Gp.normalizeProvider=lM});function wo(e){return JE.includes(e)}var Ms,JE,Wa=w(()=>{c();Ms="preferred",JE=["disabled","preferred","required"]});var ZE,uM,eS=w(()=>{c();ZE=A(it());Wa();uM=e=>{let{accountIdEndpointMode:t}=e,r=(0,ZE.normalizeProvider)(t??Ms);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!wo(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var tS,rS,nS,oS,dM,sS=w(()=>{c();Wa();tS="Invalid AccountIdEndpointMode value",rS=e=>{throw new Error(e)},nS="AWS_ACCOUNT_ID_ENDPOINT_MODE",oS="account_id_endpoint_mode",dM={environmentVariableSelector:e=>{let t=e[nS];return t&&!wo(t)&&rS(tS),t},configFileSelector:e=>{let t=e[oS];return t&&!wo(t)&&rS(tS),t},default:Ms}});var jp={};ht(jp,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>JE,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>oS,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>Ms,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>nS,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>dM,resolveAccountIdEndpointModeConfig:()=>uM,validateAccountIdEndpointMode:()=>wo});var qp=w(()=>{c();eS();Wa();sS()});var Te=v(rn=>{"use strict";c();var pM=tn(),fM=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),mM=e=>({httpHandler:e.httpHandler()}),Hp=class{name;kind;values;constructor({name:t,kind:r=pM.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},zp=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},Vp=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=hM(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function hM(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var Wp=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function gM(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}rn.Field=Hp;rn.Fields=zp;rn.HttpRequest=Vp;rn.HttpResponse=Wp;rn.getHttpHandlerExtensionConfiguration=fM;rn.isValidHostname=gM;rn.resolveHttpHandlerRuntimeConfig=mM});var aS=v((dre,iS)=>{c();function wr(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}wr.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(wr.prototype[Symbol.iterator]=function(){return this});wr.of=function(){var e=arguments,t=e.length,r=0;return new wr(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};wr.empty=function(){var e=new wr(null);return e.done=!0,e};wr.is=function(e){return e instanceof wr?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};iS.exports=wr});var Kp=v((fre,dS)=>{c();var cS=typeof ArrayBuffer<"u",lS=typeof Symbol<"u";function uS(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||cS&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(lS&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}uS.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||cS&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(lS&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};dS.exports=uS});var Yp=v(Zt=>{c();var yM=Math.pow(2,8)-1,EM=Math.pow(2,16)-1,SM=Math.pow(2,32)-1,bM=Math.pow(2,7)-1,_M=Math.pow(2,15)-1,TM=Math.pow(2,31)-1;Zt.getPointerArray=function(e){var t=e-1;return t<=yM?Uint8Array:t<=EM?Uint16Array:t<=SM?Uint32Array:Float64Array};Zt.getSignedPointerArray=function(e){var t=e-1;return t<=bM?Int8Array:t<=_M?Int16Array:t<=TM?Int32Array:Float64Array};Zt.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var wM={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Zt.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,a,l;for(a=0,l=e.length;a<l;a++)i=t?t(e[a]):e[a],s=Zt.getNumberType(i),o=wM[s.name],o>n&&(n=o,r=s);return r};Zt.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};Zt.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};Zt.indices=function(e){for(var t=Zt.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var mS=v(ks=>{c();var pS=Kp(),fS=Yp();function IM(e){return Array.isArray(e)||fS.isTypedArray(e)}function Xp(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function AM(e){var t=Xp(e),r=typeof t=="number"?new Array(t):[],n=0;return pS(e,function(o){r[n++]=o}),r}function xM(e){var t=Xp(e),r=typeof t=="number"?fS.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return pS(e,function(i){n[s]=i,o[s]=s++}),[n,o]}ks.isArrayLike=IM;ks.guessLength=Xp;ks.toArray=AM;ks.toArrayWithIndices=xM});var gS=v((Sre,hS)=>{c();var Qp=aS(),CM=Kp(),vM=Yp(),RM=mS();function je(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=vM.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}je.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};je.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};je.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};je.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};je.prototype.has=function(e){return e in this.items};je.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};je.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};je.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[o],s[o],this),o=a[o],r++};je.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new Qp(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};je.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new Qp(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};je.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new Qp(function(){if(e>=t)return{done:!0};var i=n[r],a=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(je.prototype[Symbol.iterator]=je.prototype.entries);je.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:je,enumerable:!1}),e};typeof Symbol<"u"&&(je.prototype[Symbol.for("nodejs.util.inspect.custom")]=je.prototype.inspect);je.from=function(e,t,r,n){if(arguments.length<2){if(n=RM.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new je(t,r,n);return CM(e,function(s,i){o.set(i,s)}),o};hS.exports=je});var bS=v((_re,SS)=>{"use strict";c();var PM=Object.create,Us=Object.defineProperty,DM=Object.getOwnPropertyDescriptor,NM=Object.getOwnPropertyNames,OM=Object.getPrototypeOf,LM=Object.prototype.hasOwnProperty,MM=(e,t)=>Us(e,"name",{value:t,configurable:!0}),kM=(e,t)=>{for(var r in t)Us(e,r,{get:t[r],enumerable:!0})},yS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of NM(t))!LM.call(e,o)&&o!==r&&Us(e,o,{get:()=>t[o],enumerable:!(n=DM(t,o))||n.enumerable});return e},UM=(e,t,r)=>(r=e!=null?PM(OM(e)):{},yS(t||!e||!e.__esModule?Us(r,"default",{value:e,enumerable:!0}):r,e)),BM=e=>yS(Us({},"__esModule",{value:!0}),e),ES={};kM(ES,{EndpointCache:()=>$M});SS.exports=BM(ES);var FM=UM(gS()),$M=class{static{MM(this,"EndpointCache")}cache;constructor(e){this.cache=new FM.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(o=>r<o.Expires);if(n.length===0){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:n,CachePeriodInMinutes:o})=>({Address:n,Expires:r+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}}});var ef=v(Kn=>{"use strict";c();var GM=Te(),jM=bS(),_S=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Jp="endpoint_discovery_enabled",TS=e=>["false","0"].indexOf(e)>=0,qM={environmentVariableSelector:e=>{for(let t=0;t<_S.length;t++){let r=_S[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!TS(n)}}},configFileSelector:e=>{if(Jp in e){let t=e[Jp];if(t===void 0)throw Error(`Shared config entry ${Jp} can't be undefined, got "${t}"`);return!TS(t)}},default:void 0},HM=async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,a])=>({...s,[i]:a}),{})}})},Ir={},wS=async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:a}=t,l=o.get(s);if(l&&l.length===1&&l[0].Address==="")t.isDiscoveredEndpointRequired?(Ir[s]||(Ir[s]=[]),Ir[s].push({resolve:r,reject:n})):r();else if(l&&l.length>0)r();else{let u=[{Address:"",CachePeriodInMinutes:1}];o.set(s,u);let m=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});m.resolveMiddleware(t.clientStack,e,t.options)(m).then(y=>{o.set(s,y.output.Endpoints),Ir[s]&&(Ir[s].forEach(({resolve:g})=>{g()}),delete Ir[s]),r()}).catch(y=>{o.delete(s);let g=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:y});Ir[s]&&(Ir[s].forEach(({reject:S})=>{S(g)}),delete Ir[s]),t.isDiscoveredEndpointRequired?n(g):(o.set(s,u),r())})}}),Zp=(e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,l=n.clientName,u=n.commandName,m=await e.endpointDiscoveryEnabled(),h=await HM(u,e,{identifiers:a});if(i){if(m===!1)throw new Error(`Endpoint Discovery is disabled but ${u} on ${l} requires it. Please check your configurations.`);await wS(e,{...t,commandName:u,cacheKey:h,endpointDiscoveryCommandCtor:s})}else m&&wS(e,{...t,commandName:u,cacheKey:h,endpointDiscoveryCommandCtor:s});let{request:y}=o;if(h&&GM.HttpRequest.isInstance(y)){let g=e.endpointCache.getEndpoint(h);g&&(y.hostname=g)}return r(o)},Ka={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},zM=(e,t)=>({applyToStack:r=>{r.add(Zp(e,t),Ka)}}),VM=(e,t)=>({applyToStack:r=>{r.add(Zp(e,{...t,isDiscoveredEndpointRequired:!0}),Ka)}}),WM=(e,t)=>({applyToStack:r=>{r.add(Zp(e,{...t,isDiscoveredEndpointRequired:!1}),Ka)}}),KM=(e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new jM.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})};Kn.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS=qM;Kn.endpointDiscoveryMiddlewareOptions=Ka;Kn.getEndpointDiscoveryOptionalPlugin=WM;Kn.getEndpointDiscoveryPlugin=zM;Kn.getEndpointDiscoveryRequiredPlugin=VM;Kn.resolveEndpointDiscoveryConfig=KM});var Fs=v(Bs=>{"use strict";c();var YM=Te();function XM(e){return e}var IS=e=>t=>async r=>{if(!YM.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},AS={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},QM=e=>({applyToStack:t=>{t.add(IS(e),AS)}});Bs.getHostHeaderPlugin=QM;Bs.hostHeaderMiddleware=IS;Bs.hostHeaderMiddlewareOptions=AS;Bs.resolveHostHeaderConfig=XM});var $s=v(Ya=>{"use strict";c();var xS=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=a,m=l??t.inputFilterSensitiveLog,h=u??t.outputFilterSensitiveLog,{$metadata:y,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:m(r.input),output:h(g),metadata:y}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l}=a,u=l??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:u(r.input),error:n,metadata:n.$metadata}),n}},CS={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},JM=e=>({applyToStack:t=>{t.add(xS(),CS)}});Ya.getLoggerPlugin=JM;Ya.loggerMiddleware=xS;Ya.loggerMiddlewareOptions=CS});var vS={};ht(vS,{InvokeStore:()=>tk});import{AsyncLocalStorage as ZM}from"async_hooks";var tf,ek,rf,Xa,tk,RS=w(()=>{c();tf=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";tf||(globalThis.awslambda=globalThis.awslambda||{});ek={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol("_AWS_LAMBDA_TENANT_ID")},rf=class{static storage=new ZM;static PROTECTED_KEYS=ek;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){return this.storage.getStore()?.[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static getTenantId(){return this.get(this.PROTECTED_KEYS.TENANT_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}};!tf&&globalThis.awslambda?.InvokeStore?Xa=globalThis.awslambda.InvokeStore:(Xa=rf,!tf&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=Xa));tk=Xa});var PS=v(Qa=>{"use strict";c();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.recursionDetectionMiddleware=void 0;var rk=(RS(),ae(vS)),nk=Te(),nf="X-Amzn-Trace-Id",ok="AWS_LAMBDA_FUNCTION_NAME",sk="_X_AMZN_TRACE_ID",ik=()=>e=>async t=>{let{request:r}=t;if(!nk.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(u=>u.toLowerCase()===nf.toLowerCase())??nf;if(r.headers.hasOwnProperty(n))return e(t);let o=process.env[ok],s=process.env[sk],a=rk.InvokeStore.getXRayTraceId()??s,l=u=>typeof u=="string"&&u.length>0;return l(o)&&l(a)&&(r.headers[nf]=a),e({...t,request:r})};Qa.recursionDetectionMiddleware=ik});var Gs=v(Ja=>{"use strict";c();var of=PS(),ak={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},ck=e=>({applyToStack:t=>{t.add(of.recursionDetectionMiddleware(),ak)}});Ja.getRecursionDetectionPlugin=ck;Object.keys(of).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ja,e)&&Object.defineProperty(Ja,e,{enumerable:!0,get:function(){return of[e]}})})});var sf,lk,DS=w(()=>{c();sf=A(tn()),lk=e=>e[sf.SMITHY_CONTEXT_KEY]||(e[sf.SMITHY_CONTEXT_KEY]={})});var NS,OS=w(()=>{c();NS=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function uk(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var LS,js,Za=w(()=>{c();LS=A(it());OS();js=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=NS(s,i),l=uk(e.httpAuthSchemes),u=(0,LS.getSmithyContext)(n),m=[];for(let h of a){let y=l.get(h.schemeId);if(!y){m.push(`HttpAuthScheme \`${h.schemeId}\` was not enabled for this service.`);continue}let g=y.identityProvider(await t.identityProviderConfigProvider(e));if(!g){m.push(`HttpAuthScheme \`${h.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:S={},signingProperties:x={}}=h.propertiesExtractor?.(e,n)||{};h.identityProperties=Object.assign(h.identityProperties||{},S),h.signingProperties=Object.assign(h.signingProperties||{},x),u.selectedHttpAuthScheme={httpAuthOption:h,identity:await g(h.identityProperties),signer:y.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(m.join(`
`));return r(o)}});var MS,qs,kS=w(()=>{c();Za();MS={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},qs=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(js(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),MS)}})});var Yn=v(Io=>{"use strict";c();var dk=Te(),US=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(dk.HttpResponse.isInstance(s)){let{headers:l={}}=s,u=Object.entries(l);i.$metadata={httpStatusCode:s.statusCode,requestId:af(/^x-[\w-]+-request-?id$/,u),extendedRequestId:af(/^x-[\w-]+-id-2$/,u),cfId:af(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},af=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],BS=(e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},FS={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},$S={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function pk(e,t,r){return{applyToStack:n=>{n.add(US(e,r),FS),n.add(BS(e,t),$S)}}}Io.deserializerMiddleware=US;Io.deserializerMiddlewareOption=FS;Io.getSerdePlugin=pk;Io.serializerMiddleware=BS;Io.serializerMiddlewareOption=$S});var GS,jS,fk,qS=w(()=>{c();GS=A(Yn());Za();jS={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:GS.serializerMiddlewareOption.name},fk=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(js(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),jS)}})});var HS=w(()=>{c();Za();kS();qS()});var zS,VS,mk,hk,cf,lf=w(()=>{c();zS=A(Te()),VS=A(it()),mk=e=>t=>{throw t},hk=(e,t)=>{},cf=e=>(t,r)=>async n=>{if(!zS.HttpRequest.isInstance(n.request))return t(n);let s=(0,VS.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=s,u=await t({...n,request:await l.sign(n.request,a,i)}).catch((l.errorHandler||mk)(i));return(l.successHandler||hk)(u.response,i),u}});var WS,Hs,KS=w(()=>{c();lf();WS={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Hs=e=>({applyToStack:t=>{t.addRelativeTo(cf(e),WS)}})});var YS=w(()=>{c();lf();KS()});var nn,XS=w(()=>{c();nn=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function QS(e,t,r,n,o){return async function*(i,a,...l){let u=a,m=i.startingToken??u[r],h=!0,y;for(;h;){if(u[r]=m,o&&(u[o]=u[o]??i.pageSize),i.client instanceof e)y=await gk(t,i.client,a,i.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield y;let g=m;m=yk(y,n),h=!!(m&&(!i.stopOnSameToken||m!==g))}return void 0}}var gk,yk,JS=w(()=>{c();gk=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};yk=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var uf=v(ZS=>{"use strict";c();var Ek=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";ZS.isArrayBuffer=Ek});var Ve=v(pf=>{"use strict";c();var Sk=uf(),df=me("buffer"),bk=(e,t=0,r=e.byteLength-t)=>{if(!Sk.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return df.Buffer.from(e,t,r)},_k=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?df.Buffer.from(e,t):df.Buffer.from(e)};pf.fromArrayBuffer=bk;pf.fromString=_k});var eb=v(ec=>{"use strict";c();Object.defineProperty(ec,"__esModule",{value:!0});ec.fromBase64=void 0;var Tk=Ve(),wk=/^[A-Za-z0-9+/]*={0,2}$/,Ik=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!wk.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Tk.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};ec.fromBase64=Ik});var ve=v(tc=>{"use strict";c();var tb=Ve(),rb=e=>{let t=tb.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},Ak=e=>typeof e=="string"?rb(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),xk=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return tb.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};tc.fromUtf8=rb;tc.toUint8Array=Ak;tc.toUtf8=xk});var nb=v(rc=>{"use strict";c();Object.defineProperty(rc,"__esModule",{value:!0});rc.toBase64=void 0;var Ck=Ve(),vk=ve(),Rk=e=>{let t;if(typeof e=="string"?t=(0,vk.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Ck.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};rc.toBase64=Rk});var Vs=v(zs=>{"use strict";c();var ob=eb(),sb=nb();Object.keys(ob).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(zs,e)&&Object.defineProperty(zs,e,{enumerable:!0,get:function(){return ob[e]}})});Object.keys(sb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(zs,e)&&Object.defineProperty(zs,e,{enumerable:!0,get:function(){return sb[e]}})})});var mf=v(nc=>{"use strict";c();Object.defineProperty(nc,"__esModule",{value:!0});nc.ChecksumStream=void 0;var Pk=Vs(),Dk=me("stream"),ff=class extends Dk.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=s??Pk.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};nc.ChecksumStream=ff});var on=v(Ao=>{"use strict";c();Object.defineProperty(Ao,"__esModule",{value:!0});Ao.isBlob=Ao.isReadableStream=void 0;var Nk=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);Ao.isReadableStream=Nk;var Ok=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);Ao.isBlob=Ok});var ib=v(oc=>{"use strict";c();Object.defineProperty(oc,"__esModule",{value:!0});oc.ChecksumStream=void 0;var Lk=typeof ReadableStream=="function"?ReadableStream:function(){},hf=class extends Lk{};oc.ChecksumStream=hf});var ab=v(sc=>{"use strict";c();Object.defineProperty(sc,"__esModule",{value:!0});sc.createChecksumStream=void 0;var Mk=Vs(),kk=on(),Uk=ib(),Bk=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{if(!(0,kk.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=o??Mk.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(l,u){t.update(l),u.enqueue(l)},async flush(l){let u=await t.digest(),m=s(u);if(e!==m){let h=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);l.error(h)}else l.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,Uk.ChecksumStream.prototype),a};sc.createChecksumStream=Bk});var cb=v(gf=>{"use strict";c();Object.defineProperty(gf,"__esModule",{value:!0});gf.createChecksumStream=jk;var Fk=on(),$k=mf(),Gk=ab();function jk(e){return typeof ReadableStream=="function"&&(0,Fk.isReadableStream)(e.source)?(0,Gk.createChecksumStream)(e):new $k.ChecksumStream(e)}});var Ef=v(ic=>{"use strict";c();Object.defineProperty(ic,"__esModule",{value:!0});ic.ByteArrayCollector=void 0;var yf=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};ic.ByteArrayCollector=yf});var pb=v(Ar=>{"use strict";c();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.createBufferedReadable=void 0;Ar.createBufferedReadableStream=lb;Ar.merge=ub;Ar.flush=ac;Ar.sizeOf=xo;Ar.modeOf=db;var qk=Ef();function lb(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new qk.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,l=async u=>{let{value:m,done:h}=await n.read(),y=m;if(h){if(a!==-1){let g=ac(i,a);xo(g)>0&&u.enqueue(g)}u.close()}else{let g=db(y,!1);if(a!==g&&(a>=0&&u.enqueue(ac(i,a)),a=g),a===-1){u.enqueue(y);return}let S=xo(y);s+=S;let x=xo(i[a]);if(S>=t&&x===0)u.enqueue(y);else{let R=ub(i,a,y);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${t}, automatically buffering.`)),R>=t?u.enqueue(ac(i,a)):await l(u)}}};return new ReadableStream({pull:l})}Ar.createBufferedReadable=lb;function ub(e,t,r){switch(t){case 0:return e[0]+=r,xo(e[0]);case 1:case 2:return e[t].push(r),xo(e[t])}}function ac(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function xo(e){return e?.byteLength??e?.length??0}function db(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var mb=v(Sf=>{"use strict";c();Object.defineProperty(Sf,"__esModule",{value:!0});Sf.createBufferedReadable=Vk;var Hk=me("node:stream"),fb=Ef(),xr=pb(),zk=on();function Vk(e,t,r){if((0,zk.isReadableStream)(e))return(0,xr.createBufferedReadableStream)(e,t,r);let n=new Hk.Readable({read(){}}),o=!1,s=0,i=["",new fb.ByteArrayCollector(l=>new Uint8Array(l)),new fb.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],a=-1;return e.on("data",l=>{let u=(0,xr.modeOf)(l,!0);if(a!==u&&(a>=0&&n.push((0,xr.flush)(i,a)),a=u),a===-1){n.push(l);return}let m=(0,xr.sizeOf)(l);s+=m;let h=(0,xr.sizeOf)(i[a]);if(m>=t&&h===0)n.push(l);else{let y=(0,xr.merge)(i,a,l);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${t}, automatically buffering.`)),y>=t&&n.push((0,xr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let l=(0,xr.flush)(i,a);(0,xr.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var hb=v(cc=>{"use strict";c();Object.defineProperty(cc,"__esModule",{value:!0});cc.getAwsChunkedEncodingStream=void 0;var Wk=me("stream"),Kk=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,l=a?i(o,e):void 0,u=new Wk.Readable({read:()=>{}});return e.on("data",m=>{let h=n(m)||0;u.push(`${h.toString(16)}\r
`),u.push(m),u.push(`\r
`)}),e.on("end",async()=>{if(u.push(`0\r
`),a){let m=r(await l);u.push(`${s}:${m}\r
`),u.push(`\r
`)}u.push(null)}),u};cc.getAwsChunkedEncodingStream=Kk});var gb=v(bf=>{"use strict";c();Object.defineProperty(bf,"__esModule",{value:!0});bf.headStream=Yk;async function Yk(e,t){let r=0,n=[],o=e.getReader(),s=!1;for(;!s;){let{done:l,value:u}=await o.read();if(u&&(n.push(u),r+=u?.byteLength??0),r>=t)break;s=l}o.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let l of n){if(l.byteLength>i.byteLength-a){i.set(l.subarray(0,i.byteLength-a),a);break}else i.set(l,a);a+=l.length}return i}});var yb=v(lc=>{"use strict";c();Object.defineProperty(lc,"__esModule",{value:!0});lc.headStream=void 0;var Xk=me("stream"),Qk=gb(),Jk=on(),Zk=(e,t)=>(0,Jk.isReadableStream)(e)?(0,Qk.headStream)(e,t):new Promise((r,n)=>{let o=new _f;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});lc.headStream=Zk;var _f=class extends Xk.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var wf=v(Tf=>{"use strict";c();var Eb=e=>encodeURIComponent(e).replace(/[!'()*]/g,eU),eU=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,tU=e=>e.split("/").map(Eb).join("/");Tf.escapeUri=Eb;Tf.escapeUriPath=tU});var Af=v(Sb=>{"use strict";c();var If=wf();function rU(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=If.escapeUri(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${If.escapeUri(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${If.escapeUri(n)}`),t.push(o)}}return t.join("&")}Sb.buildQueryString=rU});var Xn=v(Ws=>{"use strict";c();var wb=Te(),Ib=Af(),uc=me("http"),dc=me("https"),Ab=me("stream"),xf=me("http2"),nU=["ECONNRESET","EPIPE","ETIMEDOUT"],xb=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},at={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},bb=1e3,oU=(e,t,r=0)=>{if(!r)return-1;let n=o=>{let s=at.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-o),i=a=>{a?.connecting?a.on("connect",()=>{at.clearTimeout(s)}):at.clearTimeout(s)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):at.setTimeout(n.bind(null,bb),bb)},sU=(e,t,r=0,n,o)=>r?at.setTimeout(()=>{let s=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(s)},r):-1,iU=3e3,aU=(e,{keepAlive:t,keepAliveMsecs:r},n=iU)=>{if(t!==!0)return-1;let o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})};return n===0?(o(),0):at.setTimeout(o,n)},_b=3e3,cU=(e,t,r=0)=>{let n=o=>{let s=r-o,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)};return 0<r&&r<6e3?(n(0),0):at.setTimeout(n.bind(null,r===0?0:_b),_b)},Tb=6e3;async function Cb(e,t,r=Tb,n=!1){let o=t.headers??{},s=o.Expect||o.expect,i=-1,a=!0;!n&&s==="100-continue"&&(a=await Promise.race([new Promise(l=>{i=Number(at.setTimeout(()=>l(!0),Math.max(Tb,r)))}),new Promise(l=>{e.on("continue",()=>{at.clearTimeout(i),l(!0)}),e.on("response",()=>{at.clearTimeout(i),l(!1)}),e.on("error",()=>{at.clearTimeout(i),l(!1)})})])),a&&lU(e,t.body)}function lU(e,t){if(t instanceof Ab.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var uU=0,Cf=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let l in o){let u=o[l]?.length??0,m=s[l]?.length??0;if(u>=i&&m>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${m} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:l}=t||{},u=!0,m=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:l,httpAgent:i instanceof uc.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new uc.Agent({keepAlive:u,maxSockets:m,...i}),httpsAgent:a instanceof dc.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new dc.Agent({keepAlive:u,maxSockets:m,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i=this.config,a,l=[],u=async ne=>{await a,l.forEach(at.clearTimeout),o(ne)},m=async ne=>{await a,l.forEach(at.clearTimeout),s(ne)};if(r?.aborted){let ne=new Error("Request aborted");ne.name="AbortError",m(ne);return}let h=t.protocol==="https:",y=t.headers??{},g=(y.Expect??y.expect)==="100-continue",S=h?i.httpsAgent:i.httpAgent;g&&!this.externalAgent&&(S=new(h?dc.Agent:uc.Agent)({keepAlive:!1,maxSockets:1/0})),l.push(at.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(S,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let x=Ib.buildQueryString(t.query||{}),R;if(t.username!=null||t.password!=null){let ne=t.username??"",ue=t.password??"";R=`${ne}:${ue}`}let P=t.path;x&&(P+=`?${x}`),t.fragment&&(P+=`#${t.fragment}`);let O=t.hostname??"";O[0]==="["&&O.endsWith("]")?O=t.hostname.slice(1,-1):O=t.hostname;let z={headers:t.headers,host:O,method:t.method,path:P,port:t.port,agent:S,auth:R},Z=(h?dc.request:uc.request)(z,ne=>{let ue=new wb.HttpResponse({statusCode:ne.statusCode||-1,reason:ne.statusMessage,headers:xb(ne.headers),body:ne});u({response:ue})});if(Z.on("error",ne=>{nU.includes(ne.code)?m(Object.assign(ne,{name:"TimeoutError"})):m(ne)}),r){let ne=()=>{Z.destroy();let ue=new Error("Request aborted");ue.name="AbortError",m(ue)};if(typeof r.addEventListener=="function"){let ue=r;ue.addEventListener("abort",ne,{once:!0}),Z.once("close",()=>ue.removeEventListener("abort",ne))}else r.onabort=ne}let Ie=n??i.requestTimeout;l.push(oU(Z,m,i.connectionTimeout)),l.push(sU(Z,m,Ie,i.throwOnRequestTimeout,i.logger??console)),l.push(cU(Z,m,i.socketTimeout));let Me=z.agent;typeof Me=="object"&&"keepAlive"in Me&&l.push(aU(Z,{keepAlive:Me.keepAlive,keepAliveMsecs:Me.keepAliveMsecs})),a=Cb(Z,t,Ie,this.externalAgent).catch(ne=>(l.forEach(at.clearTimeout),s(ne)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},vf=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},Rf=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let l=o.poll();if(l&&!this.config.disableConcurrency)return l}let s=xf.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=()=>{s.destroy(),this.deleteSession(n,s)};s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new vf;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},Pf=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new Rf({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,l)=>{let u=!1,m,h=async _e=>{await m,a(_e)},y=async _e=>{await m,l(_e)};if(r?.aborted){u=!0;let _e=new Error("Request aborted");_e.name="AbortError",y(_e);return}let{hostname:g,method:S,port:x,protocol:R,query:P}=t,O="";if(t.username!=null||t.password!=null){let _e=t.username??"",ke=t.password??"";O=`${_e}:${ke}@`}let z=`${R}//${O}${g}${x?`:${x}`:""}`,W={destination:new URL(z)},Z=this.connectionManager.lease(W,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),Ie=_e=>{s&&this.destroySession(Z),u=!0,y(_e)},Me=Ib.buildQueryString(P||{}),ne=t.path;Me&&(ne+=`?${Me}`),t.fragment&&(ne+=`#${t.fragment}`);let ue=Z.request({...t.headers,[xf.constants.HTTP2_HEADER_PATH]:ne,[xf.constants.HTTP2_HEADER_METHOD]:S});if(Z.ref(),ue.on("response",_e=>{let ke=new wb.HttpResponse({statusCode:_e[":status"]||-1,headers:xb(_e),body:ue});u=!0,h({response:ke}),s&&(Z.close(),this.connectionManager.deleteSession(z,Z))}),i&&ue.setTimeout(i,()=>{ue.close();let _e=new Error(`Stream timed out because of no activity for ${i} ms`);_e.name="TimeoutError",Ie(_e)}),r){let _e=()=>{ue.close();let ke=new Error("Request aborted");ke.name="AbortError",Ie(ke)};if(typeof r.addEventListener=="function"){let ke=r;ke.addEventListener("abort",_e,{once:!0}),ue.once("close",()=>ke.removeEventListener("abort",_e))}else r.onabort=_e}ue.on("frameError",(_e,ke,To)=>{Ie(new Error(`Frame type id ${_e} in stream id ${To} has failed with code ${ke}.`))}),ue.on("error",Ie),ue.on("aborted",()=>{Ie(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ue.rstCode}.`))}),ue.on("close",()=>{Z.unref(),s&&Z.destroy(),u||Ie(new Error("Unexpected error: http2 request did not get a response"))}),m=Cb(ue,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Df=class extends Ab.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},dU=e=>pU(e)?fU(e):new Promise((t,r)=>{let n=new Df;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),pU=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function fU(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Ws.DEFAULT_REQUEST_TIMEOUT=uU;Ws.NodeHttp2Handler=Pf;Ws.NodeHttpHandler=Cf;Ws.streamCollector=dU});var vb=v(pc=>{"use strict";c();Object.defineProperty(pc,"__esModule",{value:!0});pc.fromBase64=void 0;var mU=Ve(),hU=/^[A-Za-z0-9+/]*={0,2}$/,gU=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!hU.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,mU.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};pc.fromBase64=gU});var Rb=v(fc=>{"use strict";c();Object.defineProperty(fc,"__esModule",{value:!0});fc.toBase64=void 0;var yU=Ve(),EU=ve(),SU=e=>{let t;if(typeof e=="string"?t=(0,EU.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,yU.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};fc.toBase64=SU});var Nb=v(Ks=>{"use strict";c();var Pb=vb(),Db=Rb();Object.keys(Pb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ks,e)&&Object.defineProperty(Ks,e,{enumerable:!0,get:function(){return Pb[e]}})});Object.keys(Db).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ks,e)&&Object.defineProperty(Ks,e,{enumerable:!0,get:function(){return Db[e]}})})});var Mb=v(hc=>{"use strict";c();var Ob=Te(),bU=Af(),_U=Nb();function Lb(e,t){return new Request(e,t)}function TU(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var mc={supported:void 0},Nf=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),mc.supported===void 0&&(mc.supported=typeof Request<"u"&&"keepalive"in Lb("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let O=new Error("Request aborted");return O.name="AbortError",Promise.reject(O)}let a=t.path,l=bU.buildQueryString(t.query||{});l&&(a+=`?${l}`),t.fragment&&(a+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let O=t.username??"",z=t.password??"";u=`${O}:${z}@`}let{port:m,method:h}=t,y=`${t.protocol}//${u}${t.hostname}${m?`:${m}`:""}${a}`,g=h==="GET"||h==="HEAD"?void 0:t.body,S={body:g,headers:new Headers(t.headers),method:h,credentials:i};this.config?.cache&&(S.cache=this.config.cache),g&&(S.duplex="half"),typeof AbortController<"u"&&(S.signal=r),mc.supported&&(S.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(S,this.config.requestInit(t));let x=()=>{},R=Lb(y,S),P=[fetch(R).then(O=>{let z=O.headers,W={};for(let Ie of z.entries())W[Ie[0]]=Ie[1];return O.body!=null?{response:new Ob.HttpResponse({headers:W,reason:O.statusText,statusCode:O.status,body:O.body})}:O.blob().then(Ie=>({response:new Ob.HttpResponse({headers:W,reason:O.statusText,statusCode:O.status,body:Ie})}))}),TU(o)];return r&&P.push(new Promise((O,z)=>{let W=()=>{let Z=new Error("Request aborted");Z.name="AbortError",z(Z)};if(typeof r.addEventListener=="function"){let Z=r;Z.addEventListener("abort",W,{once:!0}),x=()=>Z.removeEventListener("abort",W)}else r.onabort=W})),Promise.race(P).finally(x)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},wU=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):IU(e):AU(e);async function IU(e){let t=await xU(e),r=_U.fromBase64(t);return new Uint8Array(r)}async function AU(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}function xU(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}hc.FetchHttpHandler=Nf;hc.keepAliveSupport=mc;hc.streamCollector=wU});var Mf=v(Lf=>{"use strict";c();var kb={},Of={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),kb[e]=t,Of[t]=e}function CU(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Of)t[r/2]=Of[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function vU(e){let t="";for(let r=0;r<e.byteLength;r++)t+=kb[e[r]];return t}Lf.fromHex=CU;Lf.toHex=vU});var $b=v(gc=>{"use strict";c();Object.defineProperty(gc,"__esModule",{value:!0});gc.sdkStreamMixin=void 0;var RU=Mb(),PU=Vs(),DU=Mf(),NU=ve(),Ub=on(),Bb="The stream has already been transformed.",OU=e=>{if(!Fb(e)&&!(0,Ub.isReadableStream)(e)){let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(Bb);return t=!0,await(0,RU.streamCollector)(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let s=await r();if(o==="base64")return(0,PU.toBase64)(s);if(o==="hex")return(0,DU.toHex)(s);if(o===void 0||o==="utf8"||o==="utf-8")return(0,NU.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(Bb);if(t=!0,Fb(e))return n(e);if((0,Ub.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};gc.sdkStreamMixin=OU;var Fb=e=>typeof Blob=="function"&&e instanceof Blob});var jb=v(yc=>{"use strict";c();Object.defineProperty(yc,"__esModule",{value:!0});yc.sdkStreamMixin=void 0;var LU=Xn(),MU=Ve(),kf=me("stream"),kU=$b(),Gb="The stream has already been transformed.",UU=e=>{if(!(e instanceof kf.Readable))try{return(0,kU.sdkStreamMixin)(e)}catch{let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(Gb);return t=!0,await(0,LU.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();return n===void 0||Buffer.isEncoding(n)?(0,MU.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(n):new TextDecoder(n).decode(o)},transformToWebStream:()=>{if(t)throw new Error(Gb);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof kf.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,kf.Readable.toWeb(e)}})};yc.sdkStreamMixin=UU});var qb=v(Uf=>{"use strict";c();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.splitStream=BU;async function BU(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var Vb=v(Bf=>{"use strict";c();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.splitStream=$U;var Hb=me("stream"),FU=qb(),zb=on();async function $U(e){if((0,zb.isReadableStream)(e)||(0,zb.isBlob)(e))return(0,FU.splitStream)(e);let t=new Hb.PassThrough,r=new Hb.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Ec=v(We=>{"use strict";c();var Wb=Vs(),Kb=ve(),Yb=mf(),Xb=cb(),Qb=mb(),Jb=hb(),Zb=yb(),e_=jb(),t_=Vb(),r_=on(),Ff=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(Wb.fromBase64(t)):e.mutate(Kb.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?Wb.toBase64(this):Kb.toUtf8(this)}};We.Uint8ArrayBlobAdapter=Ff;Object.keys(Yb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return Yb[e]}})});Object.keys(Xb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return Xb[e]}})});Object.keys(Qb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return Qb[e]}})});Object.keys(Jb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return Jb[e]}})});Object.keys(Zb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return Zb[e]}})});Object.keys(e_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return e_[e]}})});Object.keys(t_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return t_[e]}})});Object.keys(r_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return r_[e]}})})});var Sc,jt,bc=w(()=>{c();Sc=A(Ec()),jt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Sc.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Sc.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Sc.Uint8ArrayBlobAdapter.mutate(await r)}});function er(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var _c=w(()=>{c()});var qt,$f=w(()=>{c();qt=e=>typeof e=="function"?e():e});var Ys,Tc=w(()=>{c();Ys=(e,t,r,n,o)=>({name:t,namespace:e,traits:r,input:n,output:o})});var n_,o_,s_,Gf,i_=w(()=>{c();n_=A(Te()),o_=A(it());Tc();s_=e=>(t,r)=>async n=>{let{response:o}=await t(n),{operationSchema:s}=(0,o_.getSmithyContext)(r),[,i,a,l,u,m]=s??[];try{let h=await e.protocol.deserializeResponse(Ys(i,a,l,u,m),{...e,...r},o);return{response:o,output:h}}catch(h){if(Object.defineProperty(h,"$response",{value:o}),!("$metadata"in h)){let y="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{h.message+=`
  `+y}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(y):r.logger?.warn?.(y)}typeof h.$responseBodyText<"u"&&h.$response&&(h.$response.body=h.$responseBodyText);try{if(n_.HttpResponse.isInstance(o)){let{headers:g={}}=o,S=Object.entries(g);h.$metadata={httpStatusCode:o.statusCode,requestId:Gf(/^x-[\w-]+-request-?id$/,S),extendedRequestId:Gf(/^x-[\w-]+-id-2$/,S),cfId:Gf(/^x-[\w-]+-cf-id$/,S)}}}catch{}}throw h}},Gf=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var a_,c_,l_=w(()=>{c();a_=A(it());Tc();c_=e=>(t,r)=>async n=>{let{operationSchema:o}=(0,a_.getSmithyContext)(r),[,s,i,a,l,u]=o??[],m=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,h=await e.protocol.serializeRequest(Ys(s,i,a,l,u),n.input,{...e,...r,endpoint:m});return t({...n,request:h})}});function GU(e){return{applyToStack:t=>{t.add(c_(e),d_),t.add(s_(e),u_),e.protocol.setSerdeContext(e)}}}var u_,d_,p_=w(()=>{c();i_();l_();u_={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},d_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ue,sn=w(()=>{c();Ue=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var wc,jU,f_=w(()=>{c();sn();wc=class e extends Ue{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},jU=(e,t,r,n)=>Ue.assign(new wc,{name:t,namespace:e,traits:r,valueSchema:n})});var Ic,qU,m_=w(()=>{c();sn();Ic=class e extends Ue{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},qU=(e,t,r,n,o)=>Ue.assign(new Ic,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:o})});var Ac,HU,h_=w(()=>{c();sn();Ac=class e extends Ue{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},HU=(e,t,r,n,o)=>Ue.assign(new Ac,{name:t,namespace:e,traits:r,input:n,output:o})});var Co,zU,jf=w(()=>{c();sn();Co=class e extends Ue{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},zU=(e,t,r,n,o)=>Ue.assign(new Co,{name:t,namespace:e,traits:r,memberNames:n,memberList:o})});var xc,VU,g_=w(()=>{c();sn();jf();xc=class e extends Co{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},VU=(e,t,r,n,o,s)=>Ue.assign(new xc,{name:t,namespace:e,traits:r,memberNames:n,memberList:o,ctor:null})});function tr(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var qf=w(()=>{c()});function Xs(e,t){if(e instanceof j)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=j;return new r(e,t)}var j,Hf,y_,E_=w(()=>{c();$f();qf();j=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Hf(o);)n.push(o[1]),o=o[0],s=qt(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,tr(a))}}else this.memberTraits=0;if(s instanceof e){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=qt(s),y_(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=qt(t);if(r instanceof e)return r;if(Hf(r)){let[n,o]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),tr(o)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();return t[0]===3||t[0]===-3}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=s=>(s&4)===4||!!s?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:o}=this;return t(r)||t(n)||t(o)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return tr(this.memberTraits)}getOwnTraits(){return tr(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),o=t?15:n[4]??0;return Xs([o,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,o]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||o)?t[3+t[0]]:r?15:void 0;if(s!=null)return Xs([s,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),o=r[5][n];return Xs(Hf(o)?o:[o,0],t)}if(this.isDocumentSchema())return Xs([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],Xs([t[5][r],0],t[4][r])]}};Hf=e=>Array.isArray(e)&&e.length===2,y_=e=>Array.isArray(e)&&e.length>=5});var Qs,WU,KU,S_=w(()=>{c();sn();Qs=class e extends Ue{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},WU=(e,t,r,n)=>Ue.assign(new Qs,{name:t,namespace:e,traits:n,schemaRef:r}),KU=(e,t,r,n)=>Ue.assign(new Qs,{name:t,namespace:e,traits:r,schemaRef:n})});var YU,b_=w(()=>{c();YU={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var He,__=w(()=>{c();He=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,o=e.for(n[1]);o.schemas.set(n[1]+"#"+n[2],n),o.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,o=r+"#"+n;if(o.startsWith("smithy.ts.sdk.synthetic.")&&o.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var zf={};ht(zf,{ErrorSchema:()=>xc,ListSchema:()=>wc,MapSchema:()=>Ic,NormalizedSchema:()=>j,OperationSchema:()=>Ac,SCHEMA:()=>YU,Schema:()=>Ue,SimpleSchema:()=>Qs,StructureSchema:()=>Co,TypeRegistry:()=>He,deref:()=>qt,deserializerMiddlewareOption:()=>u_,error:()=>VU,getSchemaSerdePlugin:()=>GU,isStaticSchema:()=>y_,list:()=>jU,map:()=>qU,op:()=>HU,operation:()=>Ys,serializerMiddlewareOption:()=>d_,sim:()=>WU,simAdapter:()=>KU,struct:()=>zU,translateTraits:()=>tr});var Re=w(()=>{c();$f();p_();f_();m_();h_();Tc();g_();E_();sn();S_();jf();b_();qf();__()});var XU,T_=w(()=>{c();XU=(e,t,r=n=>n)=>e});var QU,JU,Js,ZU,Cc,Zs,eB,Vf,Wf,Kf,Yf,tB,rB,w_,nB,oB,Rc,sB,Xf,iB,vo,Qf,aB,cB,lB,I_,A_,uB,dB,Qn,Jf,vc,ei,Zf=w(()=>{c();QU=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},JU=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ei.warn(vc(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ei.warn(vc(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Js=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ei.warn(vc(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},ZU=Math.ceil(34028234663852886e22),Cc=e=>{let t=Js(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>ZU)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Zs=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},eB=Zs,Vf=e=>Yf(e,32),Wf=e=>Yf(e,16),Kf=e=>Yf(e,8),Yf=(e,t)=>{let r=Zs(e);if(r!==void 0&&tB(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},tB=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},rB=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},w_=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},nB=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ei.warn(vc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},oB=e=>{if(e==null)return;let t=w_(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Rc=e=>Js(typeof e=="string"?vo(e):e),sB=Rc,Xf=e=>Cc(typeof e=="string"?vo(e):e),iB=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,vo=e=>{let t=e.match(iB);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Qf=e=>typeof e=="string"?I_(e):Js(e),aB=Qf,cB=Qf,lB=e=>typeof e=="string"?I_(e):Cc(e),I_=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},A_=e=>Zs(typeof e=="string"?vo(e):e),uB=A_,dB=e=>Vf(typeof e=="string"?vo(e):e),Qn=e=>Wf(typeof e=="string"?vo(e):e),Jf=e=>Kf(typeof e=="string"?vo(e):e),vc=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ei={warn:console.warn}});function ri(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),l=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,m=i<10?`0${i}`:`${i}`,h=a<10?`0${a}`:`${a}`;return`${pB[n]}, ${l} ${tm[r]} ${t} ${u}:${m}:${h} GMT`}var pB,tm,fB,mB,hB,rm,gB,yB,EB,nm,om,ti,SB,bB,_B,em,TB,wB,IB,rr,AB,xB,Ro,x_=w(()=>{c();Zf();pB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],tm=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];fB=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),mB=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=fB.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,l,u]=t,m=Qn(Ro(n)),h=rr(o,"month",1,12),y=rr(s,"day",1,31);return ti(m,h,y,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u})},hB=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),rm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=hB.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,l,u,m]=t,h=Qn(Ro(n)),y=rr(o,"month",1,12),g=rr(s,"day",1,31),S=ti(h,y,g,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u});return m.toUpperCase()!="Z"&&S.setTime(S.getTime()-xB(m)),S},gB=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),yB=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),EB=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),nm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=gB.exec(e);if(t){let[r,n,o,s,i,a,l,u]=t;return ti(Qn(Ro(s)),em(o),rr(n,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u})}if(t=yB.exec(e),t){let[r,n,o,s,i,a,l,u]=t;return _B(ti(SB(s),em(o),rr(n,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u}))}if(t=EB.exec(e),t){let[r,n,o,s,i,a,l,u]=t;return ti(Qn(Ro(u)),em(n),rr(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},om=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Rc(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},ti=(e,t,r,n)=>{let o=t-1;return wB(e,o,r),new Date(Date.UTC(e,o,r,rr(n.hours,"hour",0,23),rr(n.minutes,"minute",0,59),rr(n.seconds,"seconds",0,60),AB(n.fractionalMilliseconds)))},SB=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Qn(Ro(e));return r<t?r+100:r},bB=50*365*24*60*60*1e3,_B=e=>e.getTime()-new Date().getTime()>bB?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,em=e=>{let t=tm.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},TB=[31,28,31,30,31,30,31,31,30,31,30,31],wB=(e,t,r)=>{let n=TB[t];if(t===1&&IB(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${tm[t]} in ${e}: ${r}`)},IB=e=>e%4===0&&(e%100!==0||e%400===0),rr=(e,t,r,n)=>{let o=Jf(Ro(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},AB=e=>e==null?0:Xf("0."+e)*1e3,xB=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Ro=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var ni={};ht(ni,{__addDisposableResource:()=>Q_,__assign:()=>Pc,__asyncDelegator:()=>q_,__asyncGenerator:()=>j_,__asyncValues:()=>H_,__await:()=>Po,__awaiter:()=>k_,__classPrivateFieldGet:()=>K_,__classPrivateFieldIn:()=>X_,__classPrivateFieldSet:()=>Y_,__createBinding:()=>Nc,__decorate:()=>R_,__disposeResources:()=>J_,__esDecorate:()=>D_,__exportStar:()=>B_,__extends:()=>C_,__generator:()=>U_,__importDefault:()=>W_,__importStar:()=>V_,__makeTemplateObject:()=>z_,__metadata:()=>M_,__param:()=>P_,__propKey:()=>O_,__read:()=>am,__rest:()=>v_,__rewriteRelativeImportExtension:()=>Z_,__runInitializers:()=>N_,__setFunctionName:()=>L_,__spread:()=>F_,__spreadArray:()=>G_,__spreadArrays:()=>$_,__values:()=>Dc,default:()=>RB});function C_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");sm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function v_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function R_(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function P_(e,t){return function(r,n){t(r,n,e)}}function D_(e,t,r,n,o,s){function i(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,m=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,y=!1,g=r.length-1;g>=0;g--){var S={};for(var x in n)S[x]=x==="access"?{}:n[x];for(var x in n.access)S.access[x]=n.access[x];S.addInitializer=function(P){if(y)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(P||null))};var R=(0,r[g])(a==="accessor"?{get:m.get,set:m.set}:m[l],S);if(a==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(h=i(R.get))&&(m.get=h),(h=i(R.set))&&(m.set=h),(h=i(R.init))&&o.unshift(h)}else(h=i(R))&&(a==="field"?o.unshift(h):m[l]=h)}u&&Object.defineProperty(u,n.name,m),y=!0}function N_(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function O_(e){return typeof e=="symbol"?e:"".concat(e)}function L_(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function M_(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function k_(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(m){try{u(n.next(m))}catch(h){i(h)}}function l(m){try{u(n.throw(m))}catch(h){i(h)}}function u(m){m.done?s(m.value):o(m.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function U_(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(m){return l([u,m])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(m){u=[6,m],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function B_(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Nc(t,e,r)}function Dc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function am(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function F_(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(am(arguments[t]));return e}function $_(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function G_(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Po(e){return this instanceof Po?(this.v=e,this):new Po(e)}function j_(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(g){return function(S){return Promise.resolve(S).then(g,h)}}function a(g,S){n[g]&&(o[g]=function(x){return new Promise(function(R,P){s.push([g,x,R,P])>1||l(g,x)})},S&&(o[g]=S(o[g])))}function l(g,S){try{u(n[g](S))}catch(x){y(s[0][3],x)}}function u(g){g.value instanceof Po?Promise.resolve(g.value.v).then(m,h):y(s[0][2],g)}function m(g){l("next",g)}function h(g){l("throw",g)}function y(g,S){g(S),s.shift(),s.length&&l(s[0][0],s[0][1])}}function q_(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:Po(e[o](i)),done:!1}:s?s(i):i}:s}}function H_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Dc=="function"?Dc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,l){i=e[s](i),o(a,l,i.done,i.value)})}}function o(s,i,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},i)}}function z_(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function V_(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=im(e),n=0;n<r.length;n++)r[n]!=="default"&&Nc(t,e,r[n]);return CB(t,e),t}function W_(e){return e&&e.__esModule?e:{default:e}}function K_(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Y_(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function X_(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Q_(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function J_(e){function t(s){e.error=e.hasError?new vB(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function Z_(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var sm,Pc,Nc,CB,im,vB,RB,oi=w(()=>{c();sm=function(e,t){return sm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},sm(e,t)};Pc=function(){return Pc=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Pc.apply(this,arguments)};Nc=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};CB=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},im=function(e){return im=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},im(e)};vB=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};RB={__extends:C_,__assign:Pc,__rest:v_,__decorate:R_,__param:P_,__esDecorate:D_,__runInitializers:N_,__propKey:O_,__setFunctionName:L_,__metadata:M_,__awaiter:k_,__generator:U_,__createBinding:Nc,__exportStar:B_,__values:Dc,__read:am,__spread:F_,__spreadArrays:$_,__spreadArray:G_,__await:Po,__asyncGenerator:j_,__asyncDelegator:q_,__asyncValues:H_,__makeTemplateObject:z_,__importStar:V_,__importDefault:W_,__classPrivateFieldGet:K_,__classPrivateFieldSet:Y_,__classPrivateFieldIn:X_,__addDisposableResource:Q_,__disposeResources:J_,__rewriteRelativeImportExtension:Z_}});var tT=v(Oc=>{"use strict";c();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.randomUUID=void 0;var PB=(oi(),ae(ni)),eT=PB.__importDefault(me("crypto"));Oc.randomUUID=eT.default.randomUUID.bind(eT.default)});var cm=v(nT=>{"use strict";c();var rT=tT(),Ze=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),DB=()=>{if(rT.randomUUID)return rT.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Ze[e[0]]+Ze[e[1]]+Ze[e[2]]+Ze[e[3]]+"-"+Ze[e[4]]+Ze[e[5]]+"-"+Ze[e[6]]+Ze[e[7]]+"-"+Ze[e[8]]+Ze[e[9]]+"-"+Ze[e[10]]+Ze[e[11]]+Ze[e[12]]+Ze[e[13]]+Ze[e[14]]+Ze[e[15]]};nT.v4=DB});var nr,oT=w(()=>{c();nr=A(cm())});var ct,sT=w(()=>{c();ct=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};ct.from=e=>e&&typeof e=="object"&&(e instanceof ct||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?ct(String(e)):ct(JSON.stringify(e));ct.fromObject=ct.from});function lm(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var iT=w(()=>{c()});function Cr(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var um,dm,pm,aT,cT,NB,OB,LB,MB,kB,si,fm,mm,lT=w(()=>{c();um="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",dm="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",pm="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",aT="(\\d?\\d)",cT="(\\d{4})",NB=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),OB=new RegExp(`^${um}, ${aT} ${dm} ${cT} ${pm} GMT$`),LB=new RegExp(`^${um}, ${aT}-${dm}-(\\d\\d) ${pm} GMT$`),MB=new RegExp(`^${um} ${dm} ( [1-9]|\\d\\d) ${pm} ${cT}$`),kB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],si=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},fm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=NB.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,o,s,i,a,,l,u]=t;Cr(n,1,12),Cr(o,1,31),Cr(s,0,23),Cr(i,0,59),Cr(a,0,60);let m=new Date(Date.UTC(Number(r),Number(n)-1,Number(o),Number(s),Number(i),Number(a),Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0));if(m.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,h,y,g]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],S=h==="-"?1:-1;m.setTime(m.getTime()+S*(Number(y)*60*60*1e3+Number(g)*60*1e3))}return m},mm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,o,s,i,a,l;if((l=OB.exec(e))?[,t,r,n,o,s,i,a]=l:(l=LB.exec(e))?([,t,r,n,o,s,i,a]=l,n=(Number(n)+1900).toString()):(l=MB.exec(e))&&([,r,t,o,s,i,a,n]=l),n&&i){let u=Date.UTC(Number(n),kB.indexOf(r),Number(t),Number(o),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Cr(t,1,31),Cr(o,0,23),Cr(s,0,59),Cr(i,0,60);let m=new Date(u);return m.setUTCFullYear(Number(n)),m}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function hm(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var uT=w(()=>{c()});var ii,dT=w(()=>{c();ii=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function gm(e){return new Pe(String(e),"bigDecimal")}var pT,Pe,fT=w(()=>{c();pT=/^-?\d*(\.\d+)?$/,Pe=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!pT.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&pT.test(r.string)}}});var mT={};ht(mT,{LazyJsonString:()=>ct,NumericValue:()=>Pe,_parseEpochTimestamp:()=>si,_parseRfc3339DateTimeWithOffset:()=>fm,_parseRfc7231DateTime:()=>mm,copyDocumentWithTransform:()=>XU,dateToUtcString:()=>ri,expectBoolean:()=>JU,expectByte:()=>Kf,expectFloat32:()=>Cc,expectInt:()=>eB,expectInt32:()=>Vf,expectLong:()=>Zs,expectNonNull:()=>rB,expectNumber:()=>Js,expectObject:()=>w_,expectShort:()=>Wf,expectString:()=>nB,expectUnion:()=>oB,generateIdempotencyToken:()=>nr.v4,handleFloat:()=>aB,limitedParseDouble:()=>Qf,limitedParseFloat:()=>cB,limitedParseFloat32:()=>lB,logger:()=>ei,nv:()=>gm,parseBoolean:()=>QU,parseEpochTimestamp:()=>om,parseRfc3339DateTime:()=>mB,parseRfc3339DateTimeWithOffset:()=>rm,parseRfc7231DateTime:()=>nm,quoteHeader:()=>lm,splitEvery:()=>hm,splitHeader:()=>ii,strictParseByte:()=>Jf,strictParseDouble:()=>Rc,strictParseFloat:()=>sB,strictParseFloat32:()=>Xf,strictParseInt:()=>uB,strictParseInt32:()=>dB,strictParseLong:()=>A_,strictParseShort:()=>Qn});var gt=w(()=>{c();T_();x_();oT();sT();Zf();iT();lT();uT();dT();fT()});var lt,Do=w(()=>{c();lt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var hT,ym,gT=w(()=>{c();hT=A(ve()),ym=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:o,defaultContentType:s}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=o,this.defaultContentType=s}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let o=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,l=this.defaultContentType,u=Symbol("initialRequestMarker"),m={async*[Symbol.asyncIterator](){if(n){let h={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};a.write(r,n);let y=a.flush();yield{[u]:!0,headers:h,body:y}}for await(let h of t)yield h}};return o.serialize(m,h=>{if(h[u])return{headers:h.headers,body:h.body};let y=Object.keys(h).find(O=>O!=="__type")??"",{additionalHeaders:g,body:S,eventType:x,explicitPayloadContentType:R}=this.writeEventBody(y,i,h);return{headers:{":event-type":{type:"string",value:x},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:R??l},...g},body:S}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let o=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),l=Symbol("initialResponseMarker"),u=o.deserialize(t.body,async y=>{let g=Object.keys(y).find(S=>S!=="__type")??"";if(g==="initial-response"){let S=await this.deserializer.read(r,y[g].body);return delete S[s],{[l]:!0,...S}}else if(g in a){let S=a[g];return{[g]:await this.deserializer.read(S,y[g].body)}}else return{$unknown:y}}),m=u[Symbol.asyncIterator](),h=await m.next();if(h.done)return u;if(h.value?.[l]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[y,g]of Object.entries(h.value))n[y]=g}return{async*[Symbol.asyncIterator](){for(h?.value?.[l]||(yield h.value);;){let{done:y,value:g}=await m.next();if(y)break;yield g}}}}writeEventBody(t,r,n){let o=this.serializer,s=t,i=null,a,l=r.getSchema()[4].includes(t),u={};if(l){let y=r.getMemberSchema(t);if(y.isStructSchema()){for(let[g,S]of y.structIterator()){let{eventHeader:x,eventPayload:R}=S.getMergedTraits();if(R){i=g;break}else if(x){let P=n[t][g],O="binary";S.isNumericSchema()?(-2)**31<=P&&P<=2**31-1?O="integer":O="long":S.isTimestampSchema()?O="timestamp":S.isStringSchema()?O="string":S.isBooleanSchema()&&(O="boolean"),P!=null&&(u[g]={type:O,value:P},delete n[t][g])}}if(i!==null){let g=y.getMemberSchema(i);g.isBlobSchema()?a="application/octet-stream":g.isStringSchema()&&(a="text/plain"),o.write(g,n[t][i])}else o.write(y,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[y,g]=n[t];s=y,o.write(15,g)}let m=o.flush();return{body:typeof m=="string"?(this.serdeContext?.utf8Decoder??hT.fromUtf8)(m):m,eventType:s,explicitPayloadContentType:a,additionalHeaders:u}}}});var yT={};ht(yT,{EventStreamSerde:()=>ym});var ET=w(()=>{c();gT()});var Lc,Jn,Mc=w(()=>{c();Re();Lc=A(Te());Do();Jn=class extends lt{options;constructor(t){super(),this.options=t}getRequestType(){return Lc.HttpRequest}getResponseType(){return Lc.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,o]of r.url.searchParams.entries())t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=j.of(r.input),s=tr(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...o.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of a){let u=n[l];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);i=i.replace(`{${l}}`,u)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(ET(),yT));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,o,s){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var ST,bT,Zn,_T=w(()=>{c();Re();gt();ST=A(Te()),bT=A(Ec());bc();_c();Mc();Zn=class extends Jn{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},l=await n.endpoint(),u=j.of(t?.input),m=u.getSchema(),h=!1,y,g=new ST.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(l){this.updateServiceEndpoint(g,l),this.setHostPrefix(g,t,o);let S=tr(t.traits);if(S.http){g.method=S.http[0];let[x,R]=S.http[1].split("?");g.path=="/"?g.path=x:g.path+=x;let P=new URLSearchParams(R??"");Object.assign(i,Object.fromEntries(P))}}for(let[S,x]of u.structIterator()){let R=x.getMergedTraits()??{},P=o[S];if(P!=null)if(R.httpPayload)x.isStreaming()?x.isStructSchema()?o[S]&&(y=await this.serializeEventStream({eventStream:o[S],requestSchema:u})):y=P:(s.write(x,P),y=s.flush()),delete o[S];else if(R.httpLabel){s.write(x,P);let O=s.flush();g.path.includes(`{${S}+}`)?g.path=g.path.replace(`{${S}+}`,O.split("/").map(er).join("/")):g.path.includes(`{${S}}`)&&(g.path=g.path.replace(`{${S}}`,er(O))),delete o[S]}else if(R.httpHeader)s.write(x,P),a[R.httpHeader.toLowerCase()]=String(s.flush()),delete o[S];else if(typeof R.httpPrefixHeaders=="string"){for(let[O,z]of Object.entries(P)){let W=R.httpPrefixHeaders+O;s.write([x.getValueSchema(),{httpHeader:W}],z),a[W.toLowerCase()]=s.flush()}delete o[S]}else R.httpQuery||R.httpQueryParams?(this.serializeQuery(x,P,i),delete o[S]):h=!0}return h&&o&&(s.write(m,o),y=s.flush()),g.headers=a,g.query=i,g.body=y,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let l=t.getValueSchema();Object.assign(l.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(l,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let l of r){o.write([t.getValueSchema(),s],l);let u=o.flush();(i||u!==void 0)&&a.push(u)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=j.of(t.output),i={};if(n.statusCode>=300){let l=await jt(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(15,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await jt(n.body,r);if(l.byteLength>0){let u=await o.read(s,l);for(let m of a)i[m]=u[m]}}return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,l=j.of(t),u=[];for(let[m,h]of l.structIterator()){let y=h.getMemberTraits();if(y.httpPayload){if(h.isStreaming())h.isStructSchema()?i[m]=await this.deserializeEventStream({response:n,responseSchema:l}):i[m]=(0,bT.sdkStreamMixin)(n.body);else if(n.body){let S=await jt(n.body,r);S.byteLength>0&&(i[m]=await a.read(h,S))}}else if(y.httpHeader){let g=String(y.httpHeader).toLowerCase(),S=n.headers[g];if(S!=null)if(h.isListSchema()){let x=h.getValueSchema();x.getMergedTraits().httpHeader=g;let R;x.isTimestampSchema()&&x.getSchema()===4?R=hm(S,",",2):R=ii(S);let P=[];for(let O of R)P.push(await a.read(x,O.trim()));i[m]=P}else i[m]=await a.read(h,S)}else if(y.httpPrefixHeaders!==void 0){i[m]={};for(let[g,S]of Object.entries(n.headers))if(g.startsWith(y.httpPrefixHeaders)){let x=h.getValueSchema();x.getMergedTraits().httpHeader=g,i[m][g.slice(y.httpPrefixHeaders.length)]=await a.read(x,S)}}else y.httpResponseCode?i[m]=n.statusCode:u.push(m)}return u}}});var TT,vr,wT=w(()=>{c();Re();TT=A(Te());bc();Mc();vr=class extends Jn{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=j.of(t?.input),u=l.getSchema(),m,h=new TT.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(h,a),this.setHostPrefix(h,t,r));let y={...r};if(r){let g=l.getEventStreamMember();if(g){if(y[g]){let S={};for(let[x,R]of l.structIterator())x!==g&&y[x]&&(o.write(R,y[x]),S[x]=o.flush());m=await this.serializeEventStream({eventStream:y[g],requestSchema:l,initialRequest:S})}}else o.write(u,y),m=o.flush()}return h.headers=i,h.query=s,h.body=m,h.method="POST",h}async deserializeResponse(t,r,n){let o=this.deserializer,s=j.of(t.output),i={};if(n.statusCode>=300){let l=await jt(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(15,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:s,initialResponseContainer:i});else{let l=await jt(n.body,r);l.byteLength>0&&Object.assign(i,await o.read(s,l))}return i.$metadata=this.deserializeMetadata(n),i}}});var Em,Sm=w(()=>{c();_c();Em=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>er(a)).join("/"):er(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function ai(e,t){return new kc(e,t)}var IT,kc,AT=w(()=>{c();IT=A(Te());Sm();kc=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new IT.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=Em(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});var xT=v(Uc=>{"use strict";c();Object.defineProperty(Uc,"__esModule",{value:!0});Uc.fromBase64=void 0;var UB=Ve(),BB=/^[A-Za-z0-9+/]*={0,2}$/,FB=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!BB.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,UB.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Uc.fromBase64=FB});var CT=v(Bc=>{"use strict";c();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.toBase64=void 0;var $B=Ve(),GB=ve(),jB=e=>{let t;if(typeof e=="string"?t=(0,GB.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,$B.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Bc.toBase64=jB});var Fc=v(ci=>{"use strict";c();var vT=xT(),RT=CT();Object.keys(vT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ci,e)&&Object.defineProperty(ci,e,{enumerable:!0,get:function(){return vT[e]}})});Object.keys(RT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ci,e)&&Object.defineProperty(ci,e,{enumerable:!0,get:function(){return RT[e]}})})});function wt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?6:s||r?5:void 0:void 0)??t.timestampFormat.default}var $c=w(()=>{c()});var bm,PT,eo,_m=w(()=>{c();Re();gt();bm=A(Fc()),PT=A(ve());Do();$c();eo=class extends lt{settings;constructor(t){super(),this.settings=t}read(t,r){let n=j.of(t);if(n.isListSchema())return ii(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??bm.fromBase64)(r);if(n.isTimestampSchema())switch(wt(n,this.settings)){case 5:return fm(r);case 6:return mm(r);case 7:return si(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=ct.from(s)),s}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Pe(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??PT.toUtf8)((this.serdeContext?.base64Decoder??bm.fromBase64)(t))}}});var Gc,to,DT=w(()=>{c();Re();Gc=A(ve());Do();_m();to=class extends lt{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new eo(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=j.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??Gc.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Gc.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Tm,li,wm=w(()=>{c();Re();gt();Tm=A(Fc());Do();$c();li=class extends lt{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=j.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(wt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=ri(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Tm.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let l=this.flush(),u=n.getValueSchema().isTimestampSchema()?l:lm(l);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=ct.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Tm.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var ro,NT=w(()=>{c();Re();wm();ro=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new li(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=j.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var OT={};ht(OT,{FromStringShapeDeserializer:()=>eo,HttpBindingProtocol:()=>Zn,HttpInterceptingShapeDeserializer:()=>to,HttpInterceptingShapeSerializer:()=>ro,HttpProtocol:()=>Jn,RequestBuilder:()=>kc,RpcProtocol:()=>vr,SerdeContext:()=>lt,ToStringShapeSerializer:()=>li,collectBody:()=>jt,determineTimestampFormat:()=>wt,extendedEncodeURIComponent:()=>er,requestBuilder:()=>ai,resolvedPath:()=>Em});var yt=w(()=>{c();bc();_c();_T();Mc();wT();AT();Sm();_m();DT();NT();wm();$c();Do()});var LT=w(()=>{c();yt()});function qB(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var MT=w(()=>{c()});var no,kT=w(()=>{c();no=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var UT,Im,Am,BT=w(()=>{c();UT=A(Te()),Im=A(tn()),Am=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=UT.HttpRequest.clone(t);if(n.in===Im.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Im.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var FT,xm,$T=w(()=>{c();FT=A(Te()),xm=class{async sign(t,r,n){let o=FT.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Rr,GT=w(()=>{c();Rr=class{async sign(t,r,n){return t}}});var jT=w(()=>{c();BT();$T();GT()});var qT,HB,Cm,jc,vm,HT=w(()=>{c();qT=e=>function(r){return jc(r)&&r.expiration.getTime()-Date.now()<e},HB=3e5,Cm=qT(3e5),jc=e=>e.expiration!==void 0,vm=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,l=async u=>{s||(s=n(u));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async u=>((!i||u?.forceRefresh)&&(o=await l(u)),o):async u=>((!i||u?.forceRefresh)&&(o=await l(u)),a?o:r(o)?(t(o)&&await l(u),o):(a=!0,o))}});var zT=w(()=>{c();kT();jT();HT()});var oo={};ht(oo,{DefaultIdentityProviderConfig:()=>no,EXPIRATION_MS:()=>HB,HttpApiKeyAuthSigner:()=>Am,HttpBearerAuthSigner:()=>xm,NoAuthSigner:()=>Rr,createIsIdentityExpiredFunction:()=>qT,createPaginator:()=>QS,doesIdentityRequireRefresh:()=>jc,getHttpAuthSchemeEndpointRuleSetPlugin:()=>qs,getHttpAuthSchemePlugin:()=>fk,getHttpSigningPlugin:()=>Hs,getSmithyContext:()=>lk,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>MS,httpAuthSchemeMiddleware:()=>js,httpAuthSchemeMiddlewareOptions:()=>jS,httpSigningMiddleware:()=>cf,httpSigningMiddlewareOptions:()=>WS,isIdentityExpired:()=>Cm,memoizeIdentityProvider:()=>vm,normalizeProvider:()=>nn,requestBuilder:()=>ai,setFeature:()=>qB});var ut=w(()=>{c();DS();HS();YS();XS();JS();LT();MT();zT()});var io=v(so=>{"use strict";c();var Pm=tn(),Dm=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),s=0;for(;;){let{value:i,done:a}=o.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let s=String(t[o]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}},zB=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),VT=e=>zB.test(e)||e.startsWith("[")&&e.endsWith("]"),VB=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Om=(e,t=!1)=>{if(!t)return VB.test(e);let r=e.split(".");for(let n of r)if(!Om(n))return!1;return!0},Nm={},ui="endpoints";function an(e){return typeof e!="object"||e==null?e:"ref"in e?`$${an(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(an).join(", ")})`:JSON.stringify(e,null,2)}var et=class extends Error{constructor(t){super(t),this.name="EndpointError"}},WB=(e,t)=>e===t,KB=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new et(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new et(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},WT=(e,t)=>KB(t).reduce((r,n)=>{if(typeof r!="object")throw new et(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),YB=e=>e!=null,XB=e=>!e,Rm={[Pm.EndpointURLScheme.HTTP]:80,[Pm.EndpointURLScheme.HTTPS]:443},QB=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:g,protocol:S="",path:x="",query:R={}}=e,P=new URL(`${S}//${y}${g?`:${g}`:""}${x}`);return P.search=Object.entries(R).map(([O,z])=>`${O}=${z}`).join("&"),P}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let l=i.slice(0,-1);if(!Object.values(Pm.EndpointURLScheme).includes(l))return null;let u=VT(o),m=r.includes(`${n}:${Rm[l]}`)||typeof e=="string"&&e.includes(`${n}:${Rm[l]}`),h=`${n}${m?`:${Rm[l]}`:""}`;return{scheme:l,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},JB=(e,t)=>e===t,ZB=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),eF=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),tF={booleanEquals:WB,getAttr:WT,isSet:YB,isValidHostLabel:Om,not:XB,parseURL:QB,stringEquals:JB,substring:ZB,uriEncode:eF},KT=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[l,u]=a.split("#");r.push(WT(n[l],u))}else r.push(n[a]);o=i+1}return r.join("")},rF=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],qc=(e,t,r)=>{if(typeof e=="string")return KT(e,r);if(e.fn)return XT.callFunction(e,r);if(e.ref)return rF(e,r);throw new et(`'${t}': ${String(e)} is not a string, function or reference.`)},YT=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:XT.evaluateExpression(s,"arg",r)),o=e.split(".");return o[0]in Nm&&o[1]!=null?Nm[o[0]][o[1]](...n):tF[e](...n)},XT={evaluateExpression:qc,callFunction:YT},nF=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new et(`'${e}' is already defined in Reference Record.`);let n=YT(t,r);return r.logger?.debug?.(`${ui} evaluateCondition: ${an(t)} = ${an(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Lm=(e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=nF(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${ui} assign: ${s.name} := ${an(s.value)}`))}return{result:!0,referenceRecord:r}},oF=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=qc(s,"Header value entry",t);if(typeof i!="string")throw new et(`Header '${n}' value '${i}' is not a string`);return i})}),{}),QT=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:ZT.getEndpointProperty(o,t)}),{}),JT=(e,t)=>{if(Array.isArray(e))return e.map(r=>JT(r,t));switch(typeof e){case"string":return KT(e,t);case"object":if(e===null)throw new et(`Unexpected endpoint property: ${e}`);return ZT.getEndpointProperties(e,t);case"boolean":return e;default:throw new et(`Unexpected endpoint property type: ${typeof e}`)}},ZT={getEndpointProperty:JT,getEndpointProperties:QT},sF=(e,t)=>{let r=qc(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new et(`Endpoint URL must be a string, got ${typeof r}`)},iF=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=Lm(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:l,headers:u}=n;return t.logger?.debug?.(`${ui} Resolving endpoint from template: ${an(n)}`),{...u!=null&&{headers:oF(u,i)},...l!=null&&{properties:QT(l,i)},url:sF(a,i)}},aF=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Lm(r,t);if(o)throw new et(qc(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},ew=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=iF(r,t);if(n)return n}else if(r.type==="error")aF(r,t);else if(r.type==="tree"){let n=tw.evaluateTreeRule(r,t);if(n)return n}else throw new et(`Unknown endpoint rule: ${r}`);throw new et("Rules evaluation failed")},cF=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Lm(r,t);if(o)return tw.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},tw={evaluateRules:ew,evaluateTreeRule:cF},lF=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${ui} Initial EndpointParams: ${an(r)}`);let i=Object.entries(o).filter(([,u])=>u.default!=null).map(([u,m])=>[u,m.default]);if(i.length>0)for(let[u,m]of i)r[u]=r[u]??m;let a=Object.entries(o).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new et(`Missing required parameter: '${u}'`);let l=ew(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${ui} Resolved endpoint: ${an(l)}`),l};so.EndpointCache=Dm;so.EndpointError=et;so.customEndpointFunctions=Nm;so.isIpAddress=VT;so.isValidHostLabel=Om;so.resolveEndpoint=lF});var nw=v(rw=>{"use strict";c();function uF(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}rw.parseQueryString=uF});var cn=v(sw=>{"use strict";c();var dF=nw(),ow=e=>{if(typeof e=="string")return ow(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=dF.parseQueryString(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};sw.parseUrl=ow});var Oo=v(Ht=>{"use strict";c();var No=io(),pF=cn(),aw=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!aw(r))return!1;return!0}return!(!No.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||No.isIpAddress(e))},iw=":",fF="/",mF=e=>{let t=e.split(iw);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(iw)==="")return null;let l=a.map(u=>u.split(fF)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:l}},hF=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],gF="1.1",cw={partitions:hF,version:gF},lw=cw,uw="",dw=e=>{let{partitions:t}=lw;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},pw=(e,t="")=>{lw=e,uw=t},yF=()=>{pw(cw,"")},EF=()=>uw,fw={isVirtualHostableS3Bucket:aw,parseArn:mF,partition:dw};No.customEndpointFunctions.aws=fw;var SF=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>mw(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},mw=e=>pF.parseUrl(e.url);Object.defineProperty(Ht,"EndpointError",{enumerable:!0,get:function(){return No.EndpointError}});Object.defineProperty(Ht,"isIpAddress",{enumerable:!0,get:function(){return No.isIpAddress}});Object.defineProperty(Ht,"resolveEndpoint",{enumerable:!0,get:function(){return No.resolveEndpoint}});Ht.awsEndpointFunctions=fw;Ht.getUserAgentPrefix=EF;Ht.partition=dw;Ht.resolveDefaultAwsRegionalEndpointsConfig=SF;Ht.setPartitionInfo=pw;Ht.toEndpointV1=mw;Ht.useDefaultPartitionInfo=yF});var Hc,Lo,hw=w(()=>{c();Hc={warningEmitted:!1},Lo=e=>{e&&!Hc.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Hc.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function ln(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var gw=w(()=>{c()});function yw(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Ew=w(()=>{c()});function Sw(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var bw=w(()=>{c()});var un={};ht(un,{emitWarningIfUnsupportedVersion:()=>Lo,setCredentialFeature:()=>ln,setFeature:()=>yw,setTokenFeature:()=>Sw,state:()=>Hc});var zt=w(()=>{c();hw();gw();Ew();bw()});var _w,Mm,Tw=w(()=>{c();_w=A(Te()),Mm=e=>_w.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Mo,km=w(()=>{c();Mo=e=>new Date(Date.now()+e)});var ww,Iw=w(()=>{c();km();ww=(e,t)=>Math.abs(Mo(t).getTime()-e)>=3e5});var Um,Aw=w(()=>{c();Iw();Um=(e,t)=>{let r=Date.parse(e);return ww(r,t)?r-Date.now():t}});var Bm=w(()=>{c();Tw();km();Aw()});var xw,di,ko,Et,Fm,$m=w(()=>{c();xw=A(Te());Bm();di=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},ko=async e=>{let t=di("context",e.context),r=di("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await di("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,l=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:l}},Et=class{async sign(t,r,n){if(!xw.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await ko(n),{config:s,signer:i}=o,{signingRegion:a,signingName:l}=o,u=n.context;if(u?.authSchemes?.length??!1){let[h,y]=u.authSchemes;h?.name==="sigv4a"&&y?.name==="sigv4"&&(a=y?.signingRegion??a,l=y?.signingName??l)}return await i.sign(t,{signingDate:Mo(s.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(t){return r=>{let n=r.ServerTime??Mm(r.$response);if(n){let o=di("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Um(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Mm(t);if(n){let o=di("config",r.config);o.systemClockOffset=Um(n,o.systemClockOffset)}}},Fm=Et});var Cw,pi,vw=w(()=>{c();Cw=A(Te());Bm();$m();pi=class extends Et{async sign(t,r,n){if(!Cw.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:l}=await ko(n),m=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:Mo(o.systemClockOffset),signingRegion:m,signingService:l})}}});var Gm,Rw=w(()=>{c();Gm=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var zc,jm=w(()=>{c();zc=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var Pw,Dw,Uo,Nw=w(()=>{c();Rw();jm();Pw="AWS_AUTH_SCHEME_PREFERENCE",Dw="auth_scheme_preference",Uo={environmentVariableSelector:(e,t)=>{if(t?.signingName&&zc(t.signingName)in e)return["httpBearerAuth"];if(Pw in e)return Gm(e[Pw])},configFileSelector:e=>{if(Dw in e)return Gm(e[Dw])},default:[]}});var dt=v(ao=>{"use strict";c();var Bo=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.tryNextLink=o,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},qm=class e extends Bo{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Hm=class e extends Bo{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},bF=(...e)=>async()=>{if(e.length===0)throw new Bo("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},_F=e=>()=>Promise.resolve(e),TF=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async l=>((!s||l?.forceRefresh)&&(n=await a()),n):async l=>((!s||l?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};ao.CredentialsProviderError=qm;ao.ProviderError=Bo;ao.TokenProviderError=Hm;ao.chain=bF;ao.fromStatic=_F;ao.memoize=TF});var zm,Ow,Lw,Mw=w(()=>{c();ut();zm=A(dt()),Ow=e=>(e.sigv4aSigningRegionSet=nn(e.sigv4aSigningRegionSet),e),Lw={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new zm.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new zm.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var sI=v(ee=>{"use strict";c();var dn=Mf(),co=ve(),wF=uf(),Fw=Te(),kw=it(),Vc=wf(),$w="X-Amz-Algorithm",Gw="X-Amz-Credential",Qm="X-Amz-Date",jw="X-Amz-SignedHeaders",qw="X-Amz-Expires",Jm="X-Amz-Signature",Zm="X-Amz-Security-Token",IF="X-Amz-Region-Set",eh="authorization",th=Qm.toLowerCase(),Hw="date",zw=[eh,th,Hw],Vw=Jm.toLowerCase(),Qc="x-amz-content-sha256",Ww=Zm.toLowerCase(),AF="host",Kw={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Yw=/^proxy-/,Xw=/^sec-/,xF=[/^proxy-/i,/^sec-/i],Wc="AWS4-HMAC-SHA256",CF="AWS4-ECDSA-P256-SHA256",Qw="AWS4-HMAC-SHA256-PAYLOAD",Jw="UNSIGNED-PAYLOAD",Zw=50,rh="aws4_request",eI=60*60*24*7,Fo={},Kc=[],Yc=(e,t,r)=>`${e}/${t}/${r}/${rh}`,tI=async(e,t,r,n,o)=>{let s=await Uw(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${dn.toHex(s)}:${t.sessionToken}`;if(i in Fo)return Fo[i];for(Kc.push(i);Kc.length>Zw;)delete Fo[Kc.shift()];let a=`AWS4${t.secretAccessKey}`;for(let l of[r,n,o,rh])a=await Uw(e,a,l);return Fo[i]=a},vF=()=>{Kc.length=0,Object.keys(Fo).forEach(e=>{delete Fo[e]})},Uw=(e,t,r)=>{let n=new e(t);return n.update(co.toUint8Array(r)),n.digest()},Vm=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in Kw||t?.has(s)||Yw.test(s)||Xw.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},Xc=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Qc)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||wF.isArrayBuffer(t)){let n=new r;return n.update(co.toUint8Array(t)),dn.toHex(await n.digest())}return Jw},Wm=class{format(t){let r=[];for(let s of Object.keys(t)){let i=co.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=co.fromUtf8(t.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);let u=new Uint8Array(l.buffer);return u.set(a,3),u;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(Km.fromNumber(t.value.valueOf()).bytes,1),m;case"uuid":if(!RF.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(dn.fromHex(t.value.replace(/\-/g,"")),1),h}}},RF=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Km=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Bw(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Bw(t),parseInt(dn.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Bw(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var rI=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},nI=(e,t={})=>{let{headers:r,query:n={}}=Fw.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},Ym=e=>{e=Fw.HttpRequest.clone(e);for(let t of Object.keys(e.headers))zw.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},oI=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===Vw)continue;let o=Vc.escapeUri(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${Vc.escapeUri(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${Vc.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},PF=e=>DF(e).toISOString().replace(/\.\d{3}Z$/,"Z"),DF=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Jc=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=kw.normalizeProvider(n),this.credentialProvider=kw.normalizeProvider(r)}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${oI(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n,o){let s=new this.sha256;s.update(co.toUint8Array(n));let i=await s.digest();return`${o}
${t}
${r}
${dn.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Vc.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=PF(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},Xm=class extends Jc{headerFormatter=new Wm;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:l,signingRegion:u,signingService:m}=r,h=await this.credentialProvider();this.validateResolvedCredentials(h);let y=u??await this.regionProvider(),{longDate:g,shortDate:S}=this.formatDate(n);if(o>eI)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let x=Yc(S,y,m??this.service),R=nI(Ym(t),{unhoistableHeaders:i,hoistableHeaders:l});h.sessionToken&&(R.query[Zm]=h.sessionToken),R.query[$w]=Wc,R.query[Gw]=`${h.accessKeyId}/${x}`,R.query[Qm]=g,R.query[qw]=o.toString(10);let P=Vm(R,s,a);return R.query[jw]=this.getCanonicalHeaderList(P),R.query[Jm]=await this.getSignature(g,x,this.getSigningKey(h,y,S,m),this.createCanonicalRequest(R,P,await Xc(t,this.sha256))),R}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:l,longDate:u}=this.formatDate(n),m=Yc(l,a,i??this.service),h=await Xc({headers:{},body:r},this.sha256),y=new this.sha256;y.update(t);let g=dn.toHex(await y.digest()),S=[Qw,u,m,o,g,h].join(`
`);return this.signString(S,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),l=new this.sha256(await this.getSigningKey(s,i,a,o));return l.update(co.toUint8Array(t)),dn.toHex(await l.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let l=s??await this.regionProvider(),u=Ym(t),{longDate:m,shortDate:h}=this.formatDate(r),y=Yc(h,l,i??this.service);u.headers[th]=m,a.sessionToken&&(u.headers[Ww]=a.sessionToken);let g=await Xc(u,this.sha256);!rI(Qc,u.headers)&&this.applyChecksum&&(u.headers[Qc]=g);let S=Vm(u,o,n),x=await this.getSignature(m,y,this.getSigningKey(a,l,h,i),this.createCanonicalRequest(u,S,g));return u.headers[eh]=`${Wc} Credential=${a.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(S)}, Signature=${x}`,u}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o,Wc),i=new this.sha256(await n);return i.update(co.toUint8Array(s)),dn.toHex(await i.digest())}getSigningKey(t,r,n,o){return tI(this.sha256,t,n,r,o||this.service)}},NF={SignatureV4a:null};ee.ALGORITHM_IDENTIFIER=Wc;ee.ALGORITHM_IDENTIFIER_V4A=CF;ee.ALGORITHM_QUERY_PARAM=$w;ee.ALWAYS_UNSIGNABLE_HEADERS=Kw;ee.AMZ_DATE_HEADER=th;ee.AMZ_DATE_QUERY_PARAM=Qm;ee.AUTH_HEADER=eh;ee.CREDENTIAL_QUERY_PARAM=Gw;ee.DATE_HEADER=Hw;ee.EVENT_ALGORITHM_IDENTIFIER=Qw;ee.EXPIRES_QUERY_PARAM=qw;ee.GENERATED_HEADERS=zw;ee.HOST_HEADER=AF;ee.KEY_TYPE_IDENTIFIER=rh;ee.MAX_CACHE_SIZE=Zw;ee.MAX_PRESIGNED_TTL=eI;ee.PROXY_HEADER_PATTERN=Yw;ee.REGION_SET_PARAM=IF;ee.SEC_HEADER_PATTERN=Xw;ee.SHA256_HEADER=Qc;ee.SIGNATURE_HEADER=Vw;ee.SIGNATURE_QUERY_PARAM=Jm;ee.SIGNED_HEADERS_QUERY_PARAM=jw;ee.SignatureV4=Xm;ee.SignatureV4Base=Jc;ee.TOKEN_HEADER=Ww;ee.TOKEN_QUERY_PARAM=Zm;ee.UNSIGNABLE_PATTERNS=xF;ee.UNSIGNED_PAYLOAD=Jw;ee.clearCredentialCache=vF;ee.createScope=Yc;ee.getCanonicalHeaders=Vm;ee.getCanonicalQuery=oI;ee.getPayloadHash=Xc;ee.getSigningKey=tI;ee.hasHeader=rI;ee.moveHeadersToQuery=nI;ee.prepareRequest=Ym;ee.signatureV4aContainer=NF});function OF(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=vm(t,Cm,jc):r?n=nn(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function LF(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var nh,lo,iI,aI=w(()=>{c();zt();ut();nh=A(sI()),lo=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let m=OF(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),h=LF(e,m);r&&!h.attributed?(n=async y=>h(y).then(g=>ln(g,"CREDENTIALS_CODE","e")),n.memoized=h.memoized,n.configBound=h.configBound,n.attributed=!0):n=h},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=nn(e.signer):e.regionInfoProvider?a=()=>nn(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,m])=>{let{signingRegion:h,signingService:y}=u;e.signingRegion=e.signingRegion||h||m,e.signingName=e.signingName||y||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},S=e.signerConstructor||nh.SignatureV4;return new S(g)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await nn(e.region)(),properties:{}},u);let m=u.signingRegion,h=u.signingName;e.signingRegion=e.signingRegion||m,e.signingName=e.signingName||h||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||nh.SignatureV4;return new g(y)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},iI=lo});var cI=w(()=>{c();$m();vw();Nw();Mw();aI()});var lI={};ht(lI,{AWSSDKSigV4Signer:()=>Fm,AwsSdkSigV4ASigner:()=>pi,AwsSdkSigV4Signer:()=>Et,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Uo,NODE_SIGV4A_CONFIG_OPTIONS:()=>Lw,getBearerTokenEnvKey:()=>zc,resolveAWSSDKSigV4Config:()=>iI,resolveAwsSdkSigV4AConfig:()=>Ow,resolveAwsSdkSigV4Config:()=>lo,validateSigningProperties:()=>ko});var oh=w(()=>{c();cI();jm()});function pn(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Zc(e){return e[sh]=!0,e}var sh,el=w(()=>{c();sh=Symbol("@smithy/core/cbor::tagSymbol")});function pI(e){we=e,Dr=new DataView(we.buffer,we.byteOffset,we.byteLength)}function or(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(we[e]&224)>>5,n=we[e]&31;switch(r){case 0:case 1:case 6:let o,s;if(n<24)o=n,s=1;else switch(n){case 24:case 25:case 26:case 27:let i=mI[n],a=i+1;if(s=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let l=e+1;i===1?o=we[l]:i===2?o=Dr.getUint16(l):i===4?o=Dr.getUint32(l):o=Dr.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return oe=s,ih(o);if(r===1){let i;return typeof o=="bigint"?i=BigInt(-1)-o:i=-1-o,oe=s,ih(i)}else if(n===2||n===3){let i=gi(e+s,t),a=BigInt(0),l=e+s+oe;for(let u=l;u<l+i;++u)a=a<<BigInt(8)|BigInt(we[u]);return oe=s+oe+i,n===3?-a-BigInt(1):a}else if(n===4){let i=or(e+s,t),[a,l]=i,u=l<0?-1:1,m="0".repeat(Math.abs(a)+1)+String(BigInt(u)*BigInt(l)),h,y=l<0?"-":"";return h=a===0?m:m.slice(0,m.length+a)+"."+m.slice(a),h=h.replace(/^0+/g,""),h===""&&(h="0"),h[0]==="."&&(h="0"+h),h=y+h,oe=s+oe,gm(h)}else{let i=or(e+s,t);return oe=s+oe,Zc({tag:ih(o),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return GF(e,t);case 5:return VF(e,t);case 4:return HF(e,t);case 2:return jF(e,t)}else switch(r){case 3:return $F(e,t);case 5:return zF(e,t);case 4:return qF(e,t);case 2:return ph(e,t)}default:return WF(e,t)}}function fI(e,t,r){return UF&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):uI?uI.decode(e.subarray(t,r)):(0,dI.toUtf8)(e.subarray(t,r))}function BF(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function FF(e,t){let r=e>>7,n=(e&124)>>2,o=(e&3)<<8|t,s=r===0?1:-1,i,a;if(n===0){if(o===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return o===0?s*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=o/1024,s*(i*a)}function gi(e,t){let r=we[e]&31;if(r<24)return oe=1,r;if(r===24||r===25||r===26||r===27){let n=mI[r];if(oe=n+1,t-e<oe)throw new Error(`countLength ${n} greater than remaining buf len.`);let o=e+1;return n===1?we[o]:n===2?Dr.getUint16(o):n===4?Dr.getUint32(o):BF(Dr.getBigUint64(o))}throw new Error(`unexpected minor value ${r}.`)}function $F(e,t){let r=gi(e,t),n=oe;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let o=fI(we,e,e+r);return oe=n+r,o}function GF(e,t){e+=1;let r=[];for(let n=e;e<t;){if(we[e]===255){let l=pn(r.length);return l.set(r,0),oe=e-n+2,fI(l,0,l.length)}let o=(we[e]&224)>>5,s=we[e]&31;if(o!==3)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=ph(e,t);e+=oe;for(let l=0;l<i.length;++l)r.push(i[l])}throw new Error("expected break marker.")}function ph(e,t){let r=gi(e,t),n=oe;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let o=we.subarray(e,e+r);return oe=n+r,o}function jF(e,t){e+=1;let r=[];for(let n=e;e<t;){if(we[e]===255){let l=pn(r.length);return l.set(r,0),oe=e-n+2,l}let o=(we[e]&224)>>5,s=we[e]&31;if(o!==2)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=ph(e,t);e+=oe;for(let l=0;l<i.length;++l)r.push(i[l])}throw new Error("expected break marker.")}function qF(e,t){let r=gi(e,t),n=oe;e+=n;let o=e,s=Array(r);for(let i=0;i<r;++i){let a=or(e,t),l=oe;s[i]=a,e+=l}return oe=n+(e-o),s}function HF(e,t){e+=1;let r=[];for(let n=e;e<t;){if(we[e]===255)return oe=e-n+2,r;let o=or(e,t);e+=oe,r.push(o)}throw new Error("expected break marker.")}function zF(e,t){let r=gi(e,t),n=oe;e+=n;let o=e,s={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(we[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let l=or(e,t);e+=oe;let u=or(e,t);e+=oe,s[l]=u}return oe=n+(e-o),s}function VF(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(we[e]===255)return oe=e-r+2,n;let o=(we[e]&224)>>5;if(o!==3)throw new Error(`unexpected major type ${o} for map key.`);let s=or(e,t);e+=oe;let i=or(e,t);e+=oe,n[s]=i}throw new Error("expected break marker.")}function WF(e,t){let r=we[e]&31;switch(r){case 21:case 20:return oe=1,r===21;case 22:return oe=1,null;case 23:return oe=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return oe=3,FF(we[e+1],we[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return oe=5,Dr.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return oe=9,Dr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function ih(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var dI,kF,UF,we,Dr,uI,oe,mI,hI=w(()=>{c();gt();dI=A(ve());el();kF=typeof TextDecoder<"u",UF=typeof Buffer<"u",we=pn(0),Dr=new DataView(we.buffer,we.byteOffset,we.byteLength),uI=kF?new TextDecoder:null,oe=0;mI={[24]:1,[25]:2,[26]:4,[27]:8}});function mh(e){K.byteLength-q<e&&(q<16e6?rl(Math.max(K.byteLength*4,K.byteLength+e)):rl(K.byteLength+e+16e6))}function hh(){let e=pn(q);return e.set(K.subarray(0,q),0),q=0,e}function rl(e){let t=K;K=pn(e),t&&(t.copy?t.copy(K,0,0,t.byteLength):K.set(t,0)),Lr=new DataView(K.buffer,K.byteOffset,K.byteLength)}function Or(e,t){t<24?K[q++]=e<<5|t:t<256?(K[q++]=e<<5|24,K[q++]=t):t<65536?(K[q++]=e<<5|25,Lr.setUint16(q,t),q+=2):t<2**32?(K[q++]=e<<5|26,Lr.setUint32(q,t),q+=4):(K[q++]=e<<5|27,Lr.setBigUint64(q,typeof t=="bigint"?t:BigInt(t)),q+=8)}function EI(e){let t=[e];for(;t.length;){let r=t.pop();if(mh(typeof r=="string"?r.length*4:64),typeof r=="string"){if(gI)Or(3,Buffer.byteLength(r)),q+=K.write(r,q);else{let n=(0,yI.fromUtf8)(r);Or(3,n.byteLength),K.set(n,q),q+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,o=n?0:1,s=n?r:-r-1;s<24?K[q++]=o<<5|s:s<256?(K[q++]=o<<5|24,K[q++]=s):s<65536?(K[q++]=o<<5|25,K[q++]=s>>8,K[q++]=s):s<4294967296?(K[q++]=o<<5|26,Lr.setUint32(q,s),q+=4):(K[q++]=o<<5|27,Lr.setBigUint64(q,BigInt(s)),q+=8);continue}K[q++]=251,Lr.setFloat64(q,r),q+=8;continue}else if(typeof r=="bigint"){let n=r>=0,o=n?0:1,s=n?r:-r-BigInt(1),i=Number(s);if(i<24)K[q++]=o<<5|i;else if(i<256)K[q++]=o<<5|24,K[q++]=i;else if(i<65536)K[q++]=o<<5|25,K[q++]=i>>8,K[q++]=i&255;else if(i<4294967296)K[q++]=o<<5|26,Lr.setUint32(q,i),q+=4;else if(s<BigInt("18446744073709551616"))K[q++]=o<<5|27,Lr.setBigUint64(q,s),q+=8;else{let a=s.toString(2),l=new Uint8Array(Math.ceil(a.length/8)),u=s,m=0;for(;l.byteLength-++m>=0;)l[l.byteLength-m]=Number(u&BigInt(255)),u>>=BigInt(8);mh(l.byteLength*2),K[q++]=n?194:195,gI?Or(2,Buffer.byteLength(l)):Or(2,l.byteLength),K.set(l,q),q+=l.byteLength}continue}else if(r===null){K[q++]=246;continue}else if(typeof r=="boolean"){K[q++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);Or(4,r.length);continue}else if(typeof r.byteLength=="number"){mh(r.length*2),Or(2,r.length),K.set(r,q),q+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Pe){let o=r.string.indexOf("."),s=o===-1?0:o-r.string.length+1,i=BigInt(r.string.replace(".",""));K[q++]=196,t.push(i),t.push(s),Or(4,2);continue}if(r[sh])if("tag"in r&&"value"in r){t.push(r.value),Or(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let o=n.length-1;o>=0;--o){let s=n[o];t.push(r[s]),t.push(s)}Or(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var yI,gI,KF,K,Lr,q,SI=w(()=>{c();gt();yI=A(ve());el();gI=typeof Buffer<"u",KF=2048,K=pn(KF),Lr=new DataView(K.buffer,K.byteOffset,K.byteLength),q=0});var gh,bI=w(()=>{c();hI();SI();gh={deserialize(e){return pI(e),or(0,e.length)},serialize(e){try{return EI(e),hh()}catch(t){throw hh(),t}},resizeEncodingBuffer(e){rl(e)}}});var nl,ol,sl=w(()=>{c();el();nl=e=>Zc({tag:1,value:e.getTime()/1e3}),ol=(e,t)=>{let r=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(o=>o.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var Sh,il,yh,Eh,bh=w(()=>{c();yt();Re();gt();Sh=A(Fc());bI();sl();il=class extends lt{createSerializer(){let t=new yh;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Eh;return t.setSerdeContext(this.serdeContext),t}},yh=class extends lt{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=j.of(t);if(r==null)return n.isIdempotencyToken()?(0,nr.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??Sh.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?nl(new Date(Number(r)/1e3|0)):nl(r);if(typeof r=="function"||typeof r=="object"){let o=r;if(n.isListSchema()&&Array.isArray(o)){let i=!!n.getMergedTraits().sparse,a=[],l=0;for(let u of o){let m=this.serialize(n.getValueSchema(),u);(m!=null||i)&&(a[l++]=m)}return a}if(o instanceof Date)return nl(o);let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(o)){let l=this.serialize(n.getValueSchema(),o[a]);(l!=null||i)&&(s[a]=l)}}else if(n.isStructSchema())for(let[i,a]of n.structIterator()){let l=this.serialize(a,o[i]);l!=null&&(s[i]=l)}else if(n.isDocumentSchema())for(let i of Object.keys(o))s[i]=this.serialize(n.getValueSchema(),o[i]);return s}return r}flush(){let t=gh.serialize(this.value);return this.value=void 0,t}},Eh=class extends lt{read(t,r){let n=gh.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=j.of(t);if(n.isTimestampSchema()&&typeof r=="number")return si(r);if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??Sh.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let s=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let l of r){let u=this.readValue(i,l);(u!=null||a)&&s.push(u)}return s}let o={};if(n.isMapSchema()){let s=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let l=this.readValue(i,r[a]);(l!=null||s)&&(o[a]=l)}}else if(n.isStructSchema())for(let[s,i]of n.structIterator()){let a=this.readValue(i,r[s]);a!=null&&(o[s]=a)}return o}else return r}}});var _I,al,TI=w(()=>{c();yt();Re();_I=A(it());bh();sl();al=class extends vr{codec=new il;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);if(Object.assign(o.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),qt(t.input)==="unit")delete o.body,delete o.headers["content-type"];else{o.body||(this.serializer.write(15,{}),o.body=this.serializer.flush());try{o.headers["content-length"]=String(o.body.byteLength)}catch{}}let{service:s,operation:i}=(0,_I.getSmithyContext)(n),a=`/service/${s}/operation/${i}`;return o.path.endsWith("/")?o.path+=a.slice(1):o.path+=a,o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=ol(n,o)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let l={$metadata:s,$response:n,$fault:n.statusCode<=500?"client":"server"},u=He.for(a),m;try{m=u.getSchema(i)}catch{o.Message&&(o.message=o.Message);let P=He.for("smithy.ts.sdk.synthetic."+a),O=P.getBaseException();if(O){let z=P.getErrorCtor(O);throw Object.assign(new z({name:i}),l,o)}throw Object.assign(new Error(i),l,o)}let h=j.of(m),y=u.getErrorCtor(m),g=o.message??o.Message??"Unknown",S=new y(g),x={};for(let[R,P]of h.structIterator())x[R]=this.deserializer.readValue(P,o[R]);throw Object.assign(S,l,{$fault:h.getMergedTraits().error,message:g},x)}getDefaultContentType(){return"application/cbor"}}});var wI=w(()=>{c();sl();TI();bh()});var Rt,Go=w(()=>{c();Re();Rt=class{resolveRestContentType(t,r){let n=r.getMemberSchemas(),o=Object.values(n).find(s=>!!s.getMergedTraits().httpPayload);if(o){let s=o.getMergedTraits().mediaType;return s||(o.isStringSchema()?"text/plain":o.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:l,httpHeader:u,httpLabel:m,httpPrefixHeaders:h}=i.getMergedTraits();return!a&&!l&&!u&&!m&&h===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,o,s,i){let a=r,l=t;t.includes("#")&&([a,l]=t.split("#"));let u={$metadata:s,$response:n,$fault:n.statusCode<500?"client":"server"},m=He.for(a);try{return{errorSchema:i?.(m,l)??m.getSchema(t),errorMetadata:u}}catch{o.message=o.message??o.Message??"UnknownError";let y=He.for("smithy.ts.sdk.synthetic."+a),g=y.getBaseException();if(g){let S=y.getErrorCtor(g)??Error;throw Object.assign(new S({name:l}),u,o)}throw Object.assign(new Error(l),u,o)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,s]=n.split(";"),i=Object.entries(t),a={Code:o,Type:s};Object.assign(t,a);for(let[l,u]of i)a[l]=u;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var cl,II=w(()=>{c();wI();Re();Go();cl=class extends al{awsQueryCompatible;mixin=new Rt;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),o}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=ol(n,o)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=j.of(a),m=o.message??o.Message??"Unknown",h=He.for(a[1]).getErrorCtor(a)??Error,y=new h(m),g={};for(let[S,x]of u.structIterator())g[S]=this.deserializer.readValue(x,o[S]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,g),Object.assign(y,l,{$fault:u.getMergedTraits().error,message:m},g)}}});var AI,xI,CI,vI=w(()=>{c();AI=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},xI=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},CI=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var tt,gn=w(()=>{c();tt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var RI=v(ll=>{"use strict";c();Object.defineProperty(ll,"__esModule",{value:!0});ll.fromBase64=void 0;var YF=Ve(),XF=/^[A-Za-z0-9+/]*={0,2}$/,QF=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!XF.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,YF.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};ll.fromBase64=QF});var PI=v(ul=>{"use strict";c();Object.defineProperty(ul,"__esModule",{value:!0});ul.toBase64=void 0;var JF=Ve(),ZF=ve(),e$=e=>{let t;if(typeof e=="string"?t=(0,ZF.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,JF.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ul.toBase64=e$});var Ei=v(yi=>{"use strict";c();var DI=RI(),NI=PI();Object.keys(DI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(yi,e)&&Object.defineProperty(yi,e,{enumerable:!0,get:function(){return DI[e]}})});Object.keys(NI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(yi,e)&&Object.defineProperty(yi,e,{enumerable:!0,get:function(){return NI[e]}})})});function OI(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Pe(n,"bigDecimal"):BigInt(n)}return t}var LI=w(()=>{c();gt()});var BI=v(UI=>{"use strict";c();var uo=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},yn=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,_h=()=>{let e=[],t=[],r=!1,n=new Set,o=h=>h.sort((y,g)=>MI[g.step]-MI[y.step]||kI[g.priority||"normal"]-kI[y.priority||"normal"]),s=h=>{let y=!1,g=S=>{let x=uo(S.name,S.aliases);if(x.includes(h)){y=!0;for(let R of x)n.delete(R);return!1}return!0};return e=e.filter(g),t=t.filter(g),y},i=h=>{let y=!1,g=S=>{if(S.middleware===h){y=!0;for(let x of uo(S.name,S.aliases))n.delete(x);return!1}return!0};return e=e.filter(g),t=t.filter(g),y},a=h=>(e.forEach(y=>{h.add(y.middleware,{...y})}),t.forEach(y=>{h.addRelativeTo(y.middleware,{...y})}),h.identifyOnResolve?.(m.identifyOnResolve()),h),l=h=>{let y=[];return h.before.forEach(g=>{g.before.length===0&&g.after.length===0?y.push(g):y.push(...l(g))}),y.push(h),h.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?y.push(g):y.push(...l(g))}),y},u=(h=!1)=>{let y=[],g=[],S={};return e.forEach(R=>{let P={...R,before:[],after:[]};for(let O of uo(P.name,P.aliases))S[O]=P;y.push(P)}),t.forEach(R=>{let P={...R,before:[],after:[]};for(let O of uo(P.name,P.aliases))S[O]=P;g.push(P)}),g.forEach(R=>{if(R.toMiddleware){let P=S[R.toMiddleware];if(P===void 0){if(h)return;throw new Error(`${R.toMiddleware} is not found when adding ${yn(R.name,R.aliases)} middleware ${R.relation} ${R.toMiddleware}`)}R.relation==="after"&&P.after.push(R),R.relation==="before"&&P.before.push(R)}}),o(y).map(l).reduce((R,P)=>(R.push(...P),R),[])},m={add:(h,y={})=>{let{name:g,override:S,aliases:x}=y,R={step:"initialize",priority:"normal",middleware:h,...y},P=uo(g,x);if(P.length>0){if(P.some(O=>n.has(O))){if(!S)throw new Error(`Duplicate middleware name '${yn(g,x)}'`);for(let O of P){let z=e.findIndex(Z=>Z.name===O||Z.aliases?.some(Ie=>Ie===O));if(z===-1)continue;let W=e[z];if(W.step!==R.step||R.priority!==W.priority)throw new Error(`"${yn(W.name,W.aliases)}" middleware with ${W.priority} priority in ${W.step} step cannot be overridden by "${yn(g,x)}" middleware with ${R.priority} priority in ${R.step} step.`);e.splice(z,1)}}for(let O of P)n.add(O)}e.push(R)},addRelativeTo:(h,y)=>{let{name:g,override:S,aliases:x}=y,R={middleware:h,...y},P=uo(g,x);if(P.length>0){if(P.some(O=>n.has(O))){if(!S)throw new Error(`Duplicate middleware name '${yn(g,x)}'`);for(let O of P){let z=t.findIndex(Z=>Z.name===O||Z.aliases?.some(Ie=>Ie===O));if(z===-1)continue;let W=t[z];if(W.toMiddleware!==R.toMiddleware||W.relation!==R.relation)throw new Error(`"${yn(W.name,W.aliases)}" middleware ${W.relation} "${W.toMiddleware}" middleware cannot be overridden by "${yn(g,x)}" middleware ${R.relation} "${R.toMiddleware}" middleware.`);t.splice(z,1)}}for(let O of P)n.add(O)}t.push(R)},clone:()=>a(_h()),use:h=>{h.applyToStack(m)},remove:h=>typeof h=="string"?s(h):i(h),removeByTag:h=>{let y=!1,g=S=>{let{tags:x,name:R,aliases:P}=S;if(x&&x.includes(h)){let O=uo(R,P);for(let z of O)n.delete(z);return y=!0,!1}return!0};return e=e.filter(g),t=t.filter(g),y},concat:h=>{let y=a(_h());return y.use(h),y.identifyOnResolve(r||y.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),y},applyToStack:a,identify:()=>u(!0).map(h=>{let y=h.step??h.relation+" "+h.toMiddleware;return yn(h.name,h.aliases)+" - "+y}),identifyOnResolve(h){return typeof h=="boolean"&&(r=h),r},resolve:(h,y)=>{for(let g of u().map(S=>S.middleware).reverse())h=g(h,y);return r&&console.log(m.identify()),h}};return m},MI={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},kI={high:3,normal:2,low:1};UI.constructStack=_h});var te=v(Se=>{"use strict";c();var GI=BI(),Ph=(yt(),ae(OT)),wh=tn(),t$=(Re(),ae(zf)),FI=(gt(),ae(mT)),Ih=class{config;middlewareStack=GI.constructStack();initConfig;handlers;constructor(t){this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=o===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let l=this.handlers;l.has(t.constructor)?a=l.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),l.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(l=>s(null,l.output),l=>s(l)).catch(()=>{});else return a(t).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Th="***SensitiveInformation***";function Ah(e,t){if(t==null)return t;let r=t$.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Th;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Th}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Th}else if(r.isStructSchema()&&typeof t=="object"){let n=t,o={};for(let[s,i]of r.structIterator())n[s]!=null&&(o[s]=Ah(i,n[s]));return o}return t}var dl=class{middlewareStack=GI.constructStack();schema;static classBuilder(){return new xh}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:m,CommandCtor:h}){for(let R of o.bind(this)(h,t,r,n))this.middlewareStack.use(R);let y=t.concat(this.middlewareStack),{logger:g}=r,S={logger:g,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[wh.SMITHY_CONTEXT_KEY]:{commandInstance:this,...u},...m},{requestHandler:x}=r;return y.resolve(R=>x.handle(R.request,n||{}),S)}},xh=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends dl{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,o,s){let i=t._operationSchema,a=i?.[4]??i?.input,l=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,o,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?Ah.bind(null,a):u=>u),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?Ah.bind(null,l):u=>u),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},r$="***SensitiveInformation***",n$=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=async function(i,a,l){let u=new n(i);if(typeof a=="function")this.send(u,a);else if(typeof l=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},l)}else return this.send(u,a)},s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},Ch=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},jI=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},qI=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=s$(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw jI(i,t)},o$=e=>({output:t,parsedBody:r,errorCode:n})=>{qI({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},s$=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),i$=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},$I=!1,a$=e=>{e&&!$I&&parseInt(e.substring(1,e.indexOf(".")))<16&&($I=!0)},c$=e=>{let t=[];for(let r in wh.AlgorithmId){let n=wh.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},l$=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},u$=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),d$=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},HI=e=>Object.assign(c$(e),u$(e)),p$=HI,f$=e=>Object.assign(l$(e),d$(e)),m$=e=>Array.isArray(e)?e:[e],zI=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=zI(e[r]));return e},h$=e=>e!=null,vh=class{trace(){}debug(){}info(){}warn(){}error(){}};function VI(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,E$(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}WI(n,null,s,i)}return n}var g$=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},y$=(e,t)=>{let r={};for(let n in t)WI(r,e,t,n);return r},E$=(e,t,r)=>VI(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),WI=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=S$,l=b$,u=n]=i;(typeof a=="function"&&a(t[u])||typeof a!="function"&&a)&&(e[n]=l(t[u]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,l=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:l&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},S$=e=>e!=null,b$=e=>e,_$=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},T$=e=>e.toISOString().replace(".000Z","Z"),Rh=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Rh);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Rh(e[r]));return t}return e};Object.defineProperty(Se,"collectBody",{enumerable:!0,get:function(){return Ph.collectBody}});Object.defineProperty(Se,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return Ph.extendedEncodeURIComponent}});Object.defineProperty(Se,"resolvedPath",{enumerable:!0,get:function(){return Ph.resolvedPath}});Se.Client=Ih;Se.Command=dl;Se.NoOpLogger=vh;Se.SENSITIVE_STRING=r$;Se.ServiceException=Ch;Se._json=Rh;Se.convertMap=g$;Se.createAggregatedClient=n$;Se.decorateServiceException=jI;Se.emitWarningIfUnsupportedVersion=a$;Se.getArrayIfSingleItem=m$;Se.getDefaultClientConfiguration=p$;Se.getDefaultExtensionConfiguration=HI;Se.getValueFromTextNode=zI;Se.isSerializableHeaderValue=h$;Se.loadConfigsForDefaultMode=i$;Se.map=VI;Se.resolveDefaultRuntimeConfig=f$;Se.serializeDateTime=T$;Se.serializeFloat=_$;Se.take=y$;Se.throwDefaultError=qI;Se.withBaseException=o$;Object.keys(FI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Se,e)&&Object.defineProperty(Se,e,{enumerable:!0,get:function(){return FI[e]}})})});var KI,YI,pl,Dh=w(()=>{c();KI=A(te()),YI=A(ve()),pl=(e,t)=>(0,KI.collectBody)(e,t).then(r=>(t?.utf8Encoder??YI.toUtf8)(r))});var po,fl,En,Si=w(()=>{c();Dh();po=(e,t)=>pl(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),fl=async(e,t)=>{let r=await po(e,t);return r.message=r.message??r.Message,r},En=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var XI,jo,Nh=w(()=>{c();yt();Re();gt();XI=A(Ei());gn();LI();Si();jo=class extends tt{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,OI):await po(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=j.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],l=!!o.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&a.push(this._read(i,u));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},l=!!o.getMergedTraits().sparse;for(let[u,m]of Object.entries(r))(l||m!=null)&&(a[u]=this._read(i,m));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,l]of o.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??a:a,m=this._read(l,r[u]);m!=null&&(i[a]=m)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,XI.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return ct.from(r);if(o.isTimestampSchema()&&r!=null)switch(wt(o,this.settings)){case 5:return rm(r);case 6:return nm(r);case 7:return om(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null){if(r instanceof Pe)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new Pe(i.string,i.type):new Pe(String(r),"bigDecimal")}if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,l]of Object.entries(r))l instanceof Pe?i[a]=l:i[a]=this._read(o,l);return i}else return structuredClone(r);return r}}});var QI,ml,JI=w(()=>{c();gt();QI="\u039D",ml=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Pe){let n=`${QI+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${QI+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var ZI,qo,Oh=w(()=>{c();yt();Re();gt();ZI=A(Ei());gn();JI();qo=class extends tt{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=j.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=j.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new ml;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=j.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),a=[],l=!!s.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&a.push(this._write(i,u));return a}else if(s.isMapSchema()&&o){let i=s.getValueSchema(),a={},l=!!s.getMergedTraits().sparse;for(let[u,m]of Object.entries(r))(l||m!=null)&&(a[u]=this._write(i,m));return a}else if(s.isStructSchema()&&o){let i={};for(let[a,l]of s.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??a:a,m=this._write(l,r[a],s);m!==void 0&&(i[u]=m)}return i}if(!(r===null&&n?.isStructSchema())){if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||s.isDocumentSchema()&&r instanceof Uint8Array)return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??ZI.toBase64)(r);if((s.isTimestampSchema()||s.isDocumentSchema())&&r instanceof Date)switch(wt(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return ri(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return(0,nr.v4)();let i=s.getMergedTraits().mediaType;if(r!=null&&i&&(i==="application/json"||i.endsWith("+json")))return ct.from(r)}if(s.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,l]of Object.entries(r))l instanceof Pe?i[a]=l:i[a]=this._write(s,l);return i}else return structuredClone(r);return r}}}});var Sn,hl=w(()=>{c();gn();Nh();Oh();Sn=class extends tt{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new qo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new jo(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var bn,gl=w(()=>{c();yt();Re();Go();hl();Si();bn=class extends vr{serializer;deserializer;serviceTarget;codec;mixin=new Rt;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Sn({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),(qt(t.input)==="unit"||!o.body)&&(o.body="{}"),o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=En(n,o)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=j.of(a),m=o.message??o.Message??"Unknown",h=He.for(a[1]).getErrorCtor(a)??Error,y=new h(m),g={};for(let[S,x]of u.structIterator()){let R=x.getMergedTraits().jsonName??S;g[S]=this.codec.createDeserializer().readObject(x,o[R])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,g),Object.assign(y,l,{$fault:u.getMergedTraits().error,message:m},g)}}});var yl,eA=w(()=>{c();gl();yl=class extends bn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var El,tA=w(()=>{c();gl();El=class extends bn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Sl,rA=w(()=>{c();yt();Re();Go();hl();Si();Sl=class extends Zn{serializer;deserializer;codec;mixin=new Rt;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Sn(r),this.serializer=new ro(this.codec.createSerializer(),r),this.deserializer=new to(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=j.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return o.headers["content-type"]&&!o.body&&(o.body="{}"),o}async handleError(t,r,n,o,s){let i=En(n,o)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=j.of(a),m=o.message??o.Message??"Unknown",h=He.for(a[1]).getErrorCtor(a)??Error,y=new h(m);await this.deserializeHttpMessage(a,r,n,o);let g={};for(let[S,x]of u.structIterator()){let R=x.getMergedTraits().jsonName??S;g[S]=this.codec.createDeserializer().readObject(x,o[R])}throw Object.assign(y,l,{$fault:u.getMergedTraits().error,message:m},g)}getDefaultContentType(){return"application/json"}}});var nA,oA,sA=w(()=>{c();nA=A(te()),oA=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,nA.expectUnion)(e)}});var aA=v((Nde,iA)=>{c();(()=>{"use strict";var e={d:(p,f)=>{for(var E in f)e.o(f,E)&&!e.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:f[E]})},o:(p,f)=>Object.prototype.hasOwnProperty.call(p,f),r:p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Zr,XMLParser:()=>$L,XMLValidator:()=>KL});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function o(p,f){let E=[],T=f.exec(p);for(;T;){let b=[];b.startIndex=f.lastIndex-T[0].length;let _=T.length;for(let D=0;D<_;D++)b.push(T[D]);E.push(b),T=f.exec(p)}return E}let s=function(p){return n.exec(p)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(p,f){f=Object.assign({},i,f);let E=[],T=!1,b=!1;p[0]==="\uFEFF"&&(p=p.substr(1));for(let _=0;_<p.length;_++)if(p[_]==="<"&&p[_+1]==="?"){if(_+=2,_=u(p,_),_.err)return _}else{if(p[_]!=="<"){if(l(p[_]))continue;return P("InvalidChar","char '"+p[_]+"' is not expected.",z(p,_))}{let D=_;if(_++,p[_]==="!"){_=m(p,_);continue}{let C=!1;p[_]==="/"&&(C=!0,_++);let N="";for(;_<p.length&&p[_]!==">"&&p[_]!==" "&&p[_]!=="	"&&p[_]!==`
`&&p[_]!=="\r";_++)N+=p[_];if(N=N.trim(),N[N.length-1]==="/"&&(N=N.substring(0,N.length-1),_--),!s(N)){let H;return H=N.trim().length===0?"Invalid space after '<'.":"Tag '"+N+"' is an invalid name.",P("InvalidTag",H,z(p,_))}let M=g(p,_);if(M===!1)return P("InvalidAttr","Attributes for '"+N+"' have open quote.",z(p,_));let X=M.value;if(_=M.index,X[X.length-1]==="/"){let H=_-X.length;X=X.substring(0,X.length-1);let de=x(X,f);if(de!==!0)return P(de.err.code,de.err.msg,z(p,H+de.err.line));T=!0}else if(C){if(!M.tagClosed)return P("InvalidTag","Closing tag '"+N+"' doesn't have proper closing.",z(p,_));if(X.trim().length>0)return P("InvalidTag","Closing tag '"+N+"' can't have attributes or invalid starting.",z(p,D));if(E.length===0)return P("InvalidTag","Closing tag '"+N+"' has not been opened.",z(p,D));{let H=E.pop();if(N!==H.tagName){let de=z(p,H.tagStartPos);return P("InvalidTag","Expected closing tag '"+H.tagName+"' (opened in line "+de.line+", col "+de.col+") instead of closing tag '"+N+"'.",z(p,D))}E.length==0&&(b=!0)}}else{let H=x(X,f);if(H!==!0)return P(H.err.code,H.err.msg,z(p,_-X.length+H.err.line));if(b===!0)return P("InvalidXml","Multiple possible root nodes found.",z(p,_));f.unpairedTags.indexOf(N)!==-1||E.push({tagName:N,tagStartPos:D}),T=!0}for(_++;_<p.length;_++)if(p[_]==="<"){if(p[_+1]==="!"){_++,_=m(p,_);continue}if(p[_+1]!=="?")break;if(_=u(p,++_),_.err)return _}else if(p[_]==="&"){let H=R(p,_);if(H==-1)return P("InvalidChar","char '&' is not expected.",z(p,_));_=H}else if(b===!0&&!l(p[_]))return P("InvalidXml","Extra text at the end",z(p,_));p[_]==="<"&&_--}}}return T?E.length==1?P("InvalidTag","Unclosed tag '"+E[0].tagName+"'.",z(p,E[0].tagStartPos)):!(E.length>0)||P("InvalidXml","Invalid '"+JSON.stringify(E.map(_=>_.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):P("InvalidXml","Start tag expected.",1)}function l(p){return p===" "||p==="	"||p===`
`||p==="\r"}function u(p,f){let E=f;for(;f<p.length;f++)if(!(p[f]!="?"&&p[f]!=" ")){let T=p.substr(E,f-E);if(f>5&&T==="xml")return P("InvalidXml","XML declaration allowed only at the start of the document.",z(p,f));if(p[f]=="?"&&p[f+1]==">"){f++;break}}return f}function m(p,f){if(p.length>f+5&&p[f+1]==="-"&&p[f+2]==="-"){for(f+=3;f<p.length;f++)if(p[f]==="-"&&p[f+1]==="-"&&p[f+2]===">"){f+=2;break}}else if(p.length>f+8&&p[f+1]==="D"&&p[f+2]==="O"&&p[f+3]==="C"&&p[f+4]==="T"&&p[f+5]==="Y"&&p[f+6]==="P"&&p[f+7]==="E"){let E=1;for(f+=8;f<p.length;f++)if(p[f]==="<")E++;else if(p[f]===">"&&(E--,E===0))break}else if(p.length>f+9&&p[f+1]==="["&&p[f+2]==="C"&&p[f+3]==="D"&&p[f+4]==="A"&&p[f+5]==="T"&&p[f+6]==="A"&&p[f+7]==="["){for(f+=8;f<p.length;f++)if(p[f]==="]"&&p[f+1]==="]"&&p[f+2]===">"){f+=2;break}}return f}let h='"',y="'";function g(p,f){let E="",T="",b=!1;for(;f<p.length;f++){if(p[f]===h||p[f]===y)T===""?T=p[f]:T!==p[f]||(T="");else if(p[f]===">"&&T===""){b=!0;break}E+=p[f]}return T===""&&{value:E,index:f,tagClosed:b}}let S=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function x(p,f){let E=o(p,S),T={};for(let b=0;b<E.length;b++){if(E[b][1].length===0)return P("InvalidAttr","Attribute '"+E[b][2]+"' has no space in starting.",W(E[b]));if(E[b][3]!==void 0&&E[b][4]===void 0)return P("InvalidAttr","Attribute '"+E[b][2]+"' is without value.",W(E[b]));if(E[b][3]===void 0&&!f.allowBooleanAttributes)return P("InvalidAttr","boolean attribute '"+E[b][2]+"' is not allowed.",W(E[b]));let _=E[b][2];if(!O(_))return P("InvalidAttr","Attribute '"+_+"' is an invalid name.",W(E[b]));if(T.hasOwnProperty(_))return P("InvalidAttr","Attribute '"+_+"' is repeated.",W(E[b]));T[_]=1}return!0}function R(p,f){if(p[++f]===";")return-1;if(p[f]==="#")return function(T,b){let _=/\d/;for(T[b]==="x"&&(b++,_=/[\da-fA-F]/);b<T.length;b++){if(T[b]===";")return b;if(!T[b].match(_))break}return-1}(p,++f);let E=0;for(;f<p.length;f++,E++)if(!(p[f].match(/\w/)&&E<20)){if(p[f]===";")break;return-1}return f}function P(p,f,E){return{err:{code:p,msg:f,line:E.line||E,col:E.col}}}function O(p){return s(p)}function z(p,f){let E=p.substring(0,f).split(/\r?\n/);return{line:E.length,col:E[E.length-1].length+1}}function W(p){return p.startIndex+p[1].length}let Z={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(p,f){return f},attributeValueProcessor:function(p,f){return f},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(p,f,E){return p},captureMetaData:!1},Ie;Ie=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Me{constructor(f){this.tagname=f,this.child=[],this[":@"]={}}add(f,E){f==="__proto__"&&(f="#__proto__"),this.child.push({[f]:E})}addChild(f,E){f.tagname==="__proto__"&&(f.tagname="#__proto__"),f[":@"]&&Object.keys(f[":@"]).length>0?this.child.push({[f.tagname]:f.child,":@":f[":@"]}):this.child.push({[f.tagname]:f.child}),E!==void 0&&(this.child[this.child.length-1][Ie]={startIndex:E})}static getMetaDataSymbol(){return Ie}}function ne(p,f){let E={};if(p[f+3]!=="O"||p[f+4]!=="C"||p[f+5]!=="T"||p[f+6]!=="Y"||p[f+7]!=="P"||p[f+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{f+=9;let T=1,b=!1,_=!1,D="";for(;f<p.length;f++)if(p[f]!=="<"||_)if(p[f]===">"){if(_?p[f-1]==="-"&&p[f-2]==="-"&&(_=!1,T--):T--,T===0)break}else p[f]==="["?b=!0:D+=p[f];else{if(b&&Vn(p,"!ENTITY",f)){let C,N;f+=7,[C,N,f]=_e(p,f+1),N.indexOf("&")===-1&&(E[C]={regx:RegExp(`&${C};`,"g"),val:N})}else if(b&&Vn(p,"!ELEMENT",f)){f+=8;let{index:C}=SL(p,f+1);f=C}else if(b&&Vn(p,"!ATTLIST",f))f+=8;else if(b&&Vn(p,"!NOTATION",f)){f+=9;let{index:C}=ke(p,f+1);f=C}else{if(!Vn(p,"!--",f))throw new Error("Invalid DOCTYPE");_=!0}T++,D=""}if(T!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:f}}let ue=(p,f)=>{for(;f<p.length&&/\s/.test(p[f]);)f++;return f};function _e(p,f){f=ue(p,f);let E="";for(;f<p.length&&!/\s/.test(p[f])&&p[f]!=='"'&&p[f]!=="'";)E+=p[f],f++;if(Bp(E),f=ue(p,f),p.substring(f,f+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(p[f]==="%")throw new Error("Parameter entities are not supported");let T="";return[f,T]=To(p,f,"entity"),[E,T,--f]}function ke(p,f){f=ue(p,f);let E="";for(;f<p.length&&!/\s/.test(p[f]);)E+=p[f],f++;Bp(E),f=ue(p,f);let T=p.substring(f,f+6).toUpperCase();if(T!=="SYSTEM"&&T!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${T}"`);f+=T.length,f=ue(p,f);let b=null,_=null;if(T==="PUBLIC")[f,b]=To(p,f,"publicIdentifier"),p[f=ue(p,f)]!=='"'&&p[f]!=="'"||([f,_]=To(p,f,"systemIdentifier"));else if(T==="SYSTEM"&&([f,_]=To(p,f,"systemIdentifier"),!_))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:E,publicIdentifier:b,systemIdentifier:_,index:--f}}function To(p,f,E){let T="",b=p[f];if(b!=='"'&&b!=="'")throw new Error(`Expected quoted string, found "${b}"`);for(f++;f<p.length&&p[f]!==b;)T+=p[f],f++;if(p[f]!==b)throw new Error(`Unterminated ${E} value`);return[++f,T]}function SL(p,f){f=ue(p,f);let E="";for(;f<p.length&&!/\s/.test(p[f]);)E+=p[f],f++;if(!Bp(E))throw new Error(`Invalid element name: "${E}"`);let T="";if(p[f=ue(p,f)]==="E"&&Vn(p,"MPTY",f))f+=4;else if(p[f]==="A"&&Vn(p,"NY",f))f+=2;else{if(p[f]!=="(")throw new Error(`Invalid Element Expression, found "${p[f]}"`);for(f++;f<p.length&&p[f]!==")";)T+=p[f],f++;if(p[f]!==")")throw new Error("Unterminated content model")}return{elementName:E,contentModel:T.trim(),index:f}}function Vn(p,f,E){for(let T=0;T<f.length;T++)if(f[T]!==p[E+T+1])return!1;return!0}function Bp(p){if(s(p))return p;throw new Error(`Invalid entity name ${p}`)}let bL=/^[-+]?0x[a-fA-F0-9]+$/,_L=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,TL={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},wL=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function HE(p){return typeof p=="function"?p:Array.isArray(p)?f=>{for(let E of p)if(typeof E=="string"&&f===E||E instanceof RegExp&&E.test(f))return!0}:()=>!1}class IL{constructor(f){this.options=f,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(E,T)=>String.fromCodePoint(Number.parseInt(T,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(E,T)=>String.fromCodePoint(Number.parseInt(T,16))}},this.addExternalEntities=AL,this.parseXml=PL,this.parseTextData=xL,this.resolveNameSpace=CL,this.buildAttributesMap=RL,this.isItStopNode=LL,this.replaceEntitiesValue=NL,this.readStopNodeData=ML,this.saveTextToParentTag=OL,this.addChild=DL,this.ignoreAttributesFn=HE(this.options.ignoreAttributes)}}function AL(p){let f=Object.keys(p);for(let E=0;E<f.length;E++){let T=f[E];this.lastEntities[T]={regex:new RegExp("&"+T+";","g"),val:p[T]}}}function xL(p,f,E,T,b,_,D){if(p!==void 0&&(this.options.trimValues&&!T&&(p=p.trim()),p.length>0)){D||(p=this.replaceEntitiesValue(p));let C=this.options.tagValueProcessor(f,p,E,b,_);return C==null?p:typeof C!=typeof p||C!==p?C:this.options.trimValues||p.trim()===p?zE(p,this.options.parseTagValue,this.options.numberParseOptions):p}}function CL(p){if(this.options.removeNSPrefix){let f=p.split(":"),E=p.charAt(0)==="/"?"/":"";if(f[0]==="xmlns")return"";f.length===2&&(p=E+f[1])}return p}let vL=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function RL(p,f,E){if(this.options.ignoreAttributes!==!0&&typeof p=="string"){let T=o(p,vL),b=T.length,_={};for(let D=0;D<b;D++){let C=this.resolveNameSpace(T[D][1]);if(this.ignoreAttributesFn(C,f))continue;let N=T[D][4],M=this.options.attributeNamePrefix+C;if(C.length)if(this.options.transformAttributeName&&(M=this.options.transformAttributeName(M)),M==="__proto__"&&(M="#__proto__"),N!==void 0){this.options.trimValues&&(N=N.trim()),N=this.replaceEntitiesValue(N);let X=this.options.attributeValueProcessor(C,N,f);_[M]=X==null?N:typeof X!=typeof N||X!==N?X:zE(N,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(_[M]=!0)}if(!Object.keys(_).length)return;if(this.options.attributesGroupName){let D={};return D[this.options.attributesGroupName]=_,D}return _}}let PL=function(p){p=p.replace(/\r\n?/g,`
`);let f=new Me("!xml"),E=f,T="",b="";for(let _=0;_<p.length;_++)if(p[_]==="<")if(p[_+1]==="/"){let D=Wn(p,">",_,"Closing Tag is not closed."),C=p.substring(_+2,D).trim();if(this.options.removeNSPrefix){let X=C.indexOf(":");X!==-1&&(C=C.substr(X+1))}this.options.transformTagName&&(C=this.options.transformTagName(C)),E&&(T=this.saveTextToParentTag(T,E,b));let N=b.substring(b.lastIndexOf(".")+1);if(C&&this.options.unpairedTags.indexOf(C)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${C}>`);let M=0;N&&this.options.unpairedTags.indexOf(N)!==-1?(M=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):M=b.lastIndexOf("."),b=b.substring(0,M),E=this.tagsNodeStack.pop(),T="",_=D}else if(p[_+1]==="?"){let D=Fp(p,_,!1,"?>");if(!D)throw new Error("Pi Tag is not closed.");if(T=this.saveTextToParentTag(T,E,b),!(this.options.ignoreDeclaration&&D.tagName==="?xml"||this.options.ignorePiTags)){let C=new Me(D.tagName);C.add(this.options.textNodeName,""),D.tagName!==D.tagExp&&D.attrExpPresent&&(C[":@"]=this.buildAttributesMap(D.tagExp,b,D.tagName)),this.addChild(E,C,b,_)}_=D.closeIndex+1}else if(p.substr(_+1,3)==="!--"){let D=Wn(p,"-->",_+4,"Comment is not closed.");if(this.options.commentPropName){let C=p.substring(_+4,D-2);T=this.saveTextToParentTag(T,E,b),E.add(this.options.commentPropName,[{[this.options.textNodeName]:C}])}_=D}else if(p.substr(_+1,2)==="!D"){let D=ne(p,_);this.docTypeEntities=D.entities,_=D.i}else if(p.substr(_+1,2)==="!["){let D=Wn(p,"]]>",_,"CDATA is not closed.")-2,C=p.substring(_+9,D);T=this.saveTextToParentTag(T,E,b);let N=this.parseTextData(C,E.tagname,b,!0,!1,!0,!0);N==null&&(N=""),this.options.cdataPropName?E.add(this.options.cdataPropName,[{[this.options.textNodeName]:C}]):E.add(this.options.textNodeName,N),_=D+2}else{let D=Fp(p,_,this.options.removeNSPrefix),C=D.tagName,N=D.rawTagName,M=D.tagExp,X=D.attrExpPresent,H=D.closeIndex;this.options.transformTagName&&(C=this.options.transformTagName(C)),E&&T&&E.tagname!=="!xml"&&(T=this.saveTextToParentTag(T,E,b,!1));let de=E;de&&this.options.unpairedTags.indexOf(de.tagname)!==-1&&(E=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),C!==f.tagname&&(b+=b?"."+C:C);let Ee=_;if(this.isItStopNode(this.options.stopNodes,b,C)){let fe="";if(M.length>0&&M.lastIndexOf("/")===M.length-1)C[C.length-1]==="/"?(C=C.substr(0,C.length-1),b=b.substr(0,b.length-1),M=C):M=M.substr(0,M.length-1),_=D.closeIndex;else if(this.options.unpairedTags.indexOf(C)!==-1)_=D.closeIndex;else{let Jt=this.readStopNodeData(p,N,H+1);if(!Jt)throw new Error(`Unexpected end of ${N}`);_=Jt.i,fe=Jt.tagContent}let Ge=new Me(C);C!==M&&X&&(Ge[":@"]=this.buildAttributesMap(M,b,C)),fe&&(fe=this.parseTextData(fe,C,b,!0,X,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),Ge.add(this.options.textNodeName,fe),this.addChild(E,Ge,b,Ee)}else{if(M.length>0&&M.lastIndexOf("/")===M.length-1){C[C.length-1]==="/"?(C=C.substr(0,C.length-1),b=b.substr(0,b.length-1),M=C):M=M.substr(0,M.length-1),this.options.transformTagName&&(C=this.options.transformTagName(C));let fe=new Me(C);C!==M&&X&&(fe[":@"]=this.buildAttributesMap(M,b,C)),this.addChild(E,fe,b,Ee),b=b.substr(0,b.lastIndexOf("."))}else{let fe=new Me(C);this.tagsNodeStack.push(E),C!==M&&X&&(fe[":@"]=this.buildAttributesMap(M,b,C)),this.addChild(E,fe,b,Ee),E=fe}T="",_=H}}else T+=p[_];return f.child};function DL(p,f,E,T){this.options.captureMetaData||(T=void 0);let b=this.options.updateTag(f.tagname,E,f[":@"]);b===!1||(typeof b=="string"&&(f.tagname=b),p.addChild(f,T))}let NL=function(p){if(this.options.processEntities){for(let f in this.docTypeEntities){let E=this.docTypeEntities[f];p=p.replace(E.regx,E.val)}for(let f in this.lastEntities){let E=this.lastEntities[f];p=p.replace(E.regex,E.val)}if(this.options.htmlEntities)for(let f in this.htmlEntities){let E=this.htmlEntities[f];p=p.replace(E.regex,E.val)}p=p.replace(this.ampEntity.regex,this.ampEntity.val)}return p};function OL(p,f,E,T){return p&&(T===void 0&&(T=f.child.length===0),(p=this.parseTextData(p,f.tagname,E,!1,!!f[":@"]&&Object.keys(f[":@"]).length!==0,T))!==void 0&&p!==""&&f.add(this.options.textNodeName,p),p=""),p}function LL(p,f,E){let T="*."+E;for(let b in p){let _=p[b];if(T===_||f===_)return!0}return!1}function Wn(p,f,E,T){let b=p.indexOf(f,E);if(b===-1)throw new Error(T);return b+f.length-1}function Fp(p,f,E,T=">"){let b=function(H,de,Ee=">"){let fe,Ge="";for(let Jt=de;Jt<H.length;Jt++){let en=H[Jt];if(fe)en===fe&&(fe="");else if(en==='"'||en==="'")fe=en;else if(en===Ee[0]){if(!Ee[1])return{data:Ge,index:Jt};if(H[Jt+1]===Ee[1])return{data:Ge,index:Jt}}else en==="	"&&(en=" ");Ge+=en}}(p,f+1,T);if(!b)return;let _=b.data,D=b.index,C=_.search(/\s/),N=_,M=!0;C!==-1&&(N=_.substring(0,C),_=_.substring(C+1).trimStart());let X=N;if(E){let H=N.indexOf(":");H!==-1&&(N=N.substr(H+1),M=N!==b.data.substr(H+1))}return{tagName:N,tagExp:_,closeIndex:D,attrExpPresent:M,rawTagName:X}}function ML(p,f,E){let T=E,b=1;for(;E<p.length;E++)if(p[E]==="<")if(p[E+1]==="/"){let _=Wn(p,">",E,`${f} is not closed`);if(p.substring(E+2,_).trim()===f&&(b--,b===0))return{tagContent:p.substring(T,E),i:_};E=_}else if(p[E+1]==="?")E=Wn(p,"?>",E+1,"StopNode is not closed.");else if(p.substr(E+1,3)==="!--")E=Wn(p,"-->",E+3,"StopNode is not closed.");else if(p.substr(E+1,2)==="![")E=Wn(p,"]]>",E,"StopNode is not closed.")-2;else{let _=Fp(p,E,">");_&&((_&&_.tagName)===f&&_.tagExp[_.tagExp.length-1]!=="/"&&b++,E=_.closeIndex)}}function zE(p,f,E){if(f&&typeof p=="string"){let T=p.trim();return T==="true"||T!=="false"&&function(b,_={}){if(_=Object.assign({},TL,_),!b||typeof b!="string")return b;let D=b.trim();if(_.skipLike!==void 0&&_.skipLike.test(D))return b;if(b==="0")return 0;if(_.hex&&bL.test(D))return function(N){if(parseInt)return parseInt(N,16);if(Number.parseInt)return Number.parseInt(N,16);if(window&&window.parseInt)return window.parseInt(N,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(D);if(D.search(/.+[eE].+/)!==-1)return function(N,M,X){if(!X.eNotation)return N;let H=M.match(wL);if(H){let de=H[1]||"",Ee=H[3].indexOf("e")===-1?"E":"e",fe=H[2],Ge=de?N[fe.length+1]===Ee:N[fe.length]===Ee;return fe.length>1&&Ge?N:fe.length!==1||!H[3].startsWith(`.${Ee}`)&&H[3][0]!==Ee?X.leadingZeros&&!Ge?(M=(H[1]||"")+H[3],Number(M)):N:Number(M)}return N}(b,D,_);{let N=_L.exec(D);if(N){let M=N[1]||"",X=N[2],H=((C=N[3])&&C.indexOf(".")!==-1&&((C=C.replace(/0+$/,""))==="."?C="0":C[0]==="."?C="0"+C:C[C.length-1]==="."&&(C=C.substring(0,C.length-1))),C),de=M?b[X.length+1]===".":b[X.length]===".";if(!_.leadingZeros&&(X.length>1||X.length===1&&!de))return b;{let Ee=Number(D),fe=String(Ee);if(Ee===0||Ee===-0)return Ee;if(fe.search(/[eE]/)!==-1)return _.eNotation?Ee:b;if(D.indexOf(".")!==-1)return fe==="0"||fe===H||fe===`${M}${H}`?Ee:b;let Ge=X?H:D;return X?Ge===fe||M+Ge===fe?Ee:b:Ge===fe||Ge===M+fe?Ee:b}}return b}var C}(p,E)}return p!==void 0?p:""}let $p=Me.getMetaDataSymbol();function kL(p,f){return VE(p,f)}function VE(p,f,E){let T,b={};for(let _=0;_<p.length;_++){let D=p[_],C=UL(D),N="";if(N=E===void 0?C:E+"."+C,C===f.textNodeName)T===void 0?T=D[C]:T+=""+D[C];else{if(C===void 0)continue;if(D[C]){let M=VE(D[C],f,N),X=FL(M,f);D[$p]!==void 0&&(M[$p]=D[$p]),D[":@"]?BL(M,D[":@"],N,f):Object.keys(M).length!==1||M[f.textNodeName]===void 0||f.alwaysCreateTextNode?Object.keys(M).length===0&&(f.alwaysCreateTextNode?M[f.textNodeName]="":M=""):M=M[f.textNodeName],b[C]!==void 0&&b.hasOwnProperty(C)?(Array.isArray(b[C])||(b[C]=[b[C]]),b[C].push(M)):f.isArray(C,N,X)?b[C]=[M]:b[C]=M}}}return typeof T=="string"?T.length>0&&(b[f.textNodeName]=T):T!==void 0&&(b[f.textNodeName]=T),b}function UL(p){let f=Object.keys(p);for(let E=0;E<f.length;E++){let T=f[E];if(T!==":@")return T}}function BL(p,f,E,T){if(f){let b=Object.keys(f),_=b.length;for(let D=0;D<_;D++){let C=b[D];T.isArray(C,E+"."+C,!0,!0)?p[C]=[f[C]]:p[C]=f[C]}}}function FL(p,f){let{textNodeName:E}=f,T=Object.keys(p).length;return T===0||!(T!==1||!p[E]&&typeof p[E]!="boolean"&&p[E]!==0)}class $L{constructor(f){this.externalEntities={},this.options=function(E){return Object.assign({},Z,E)}(f)}parse(f,E){if(typeof f!="string"){if(!f.toString)throw new Error("XML data is accepted in String or Bytes[] form.");f=f.toString()}if(E){E===!0&&(E={});let _=a(f,E);if(_!==!0)throw Error(`${_.err.msg}:${_.err.line}:${_.err.col}`)}let T=new IL(this.options);T.addExternalEntities(this.externalEntities);let b=T.parseXml(f);return this.options.preserveOrder||b===void 0?b:kL(b,this.options)}addEntity(f,E){if(E.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(f.indexOf("&")!==-1||f.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(E==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[f]=E}static getMetaDataSymbol(){return Me.getMetaDataSymbol()}}function GL(p,f){let E="";return f.format&&f.indentBy.length>0&&(E=`
`),WE(p,f,"",E)}function WE(p,f,E,T){let b="",_=!1;for(let D=0;D<p.length;D++){let C=p[D],N=jL(C);if(N===void 0)continue;let M="";if(M=E.length===0?N:`${E}.${N}`,N===f.textNodeName){let Ee=C[N];qL(M,f)||(Ee=f.tagValueProcessor(N,Ee),Ee=YE(Ee,f)),_&&(b+=T),b+=Ee,_=!1;continue}if(N===f.cdataPropName){_&&(b+=T),b+=`<![CDATA[${C[N][0][f.textNodeName]}]]>`,_=!1;continue}if(N===f.commentPropName){b+=T+`<!--${C[N][0][f.textNodeName]}-->`,_=!0;continue}if(N[0]==="?"){let Ee=KE(C[":@"],f),fe=N==="?xml"?"":T,Ge=C[N][0][f.textNodeName];Ge=Ge.length!==0?" "+Ge:"",b+=fe+`<${N}${Ge}${Ee}?>`,_=!0;continue}let X=T;X!==""&&(X+=f.indentBy);let H=T+`<${N}${KE(C[":@"],f)}`,de=WE(C[N],f,M,X);f.unpairedTags.indexOf(N)!==-1?f.suppressUnpairedNode?b+=H+">":b+=H+"/>":de&&de.length!==0||!f.suppressEmptyNode?de&&de.endsWith(">")?b+=H+`>${de}${T}</${N}>`:(b+=H+">",de&&T!==""&&(de.includes("/>")||de.includes("</"))?b+=T+f.indentBy+de+T:b+=de,b+=`</${N}>`):b+=H+"/>",_=!0}return b}function jL(p){let f=Object.keys(p);for(let E=0;E<f.length;E++){let T=f[E];if(p.hasOwnProperty(T)&&T!==":@")return T}}function KE(p,f){let E="";if(p&&!f.ignoreAttributes)for(let T in p){if(!p.hasOwnProperty(T))continue;let b=f.attributeValueProcessor(T,p[T]);b=YE(b,f),b===!0&&f.suppressBooleanAttributes?E+=` ${T.substr(f.attributeNamePrefix.length)}`:E+=` ${T.substr(f.attributeNamePrefix.length)}="${b}"`}return E}function qL(p,f){let E=(p=p.substr(0,p.length-f.textNodeName.length-1)).substr(p.lastIndexOf(".")+1);for(let T in f.stopNodes)if(f.stopNodes[T]===p||f.stopNodes[T]==="*."+E)return!0;return!1}function YE(p,f){if(p&&p.length>0&&f.processEntities)for(let E=0;E<f.entities.length;E++){let T=f.entities[E];p=p.replace(T.regex,T.val)}return p}let HL={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(p,f){return f},attributeValueProcessor:function(p,f){return f},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Zr(p){this.options=Object.assign({},HL,p),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=HE(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=WL),this.processTextOrObjNode=zL,this.options.format?(this.indentate=VL,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function zL(p,f,E,T){let b=this.j2x(p,E+1,T.concat(f));return p[this.options.textNodeName]!==void 0&&Object.keys(p).length===1?this.buildTextValNode(p[this.options.textNodeName],f,b.attrStr,E):this.buildObjectNode(b.val,f,b.attrStr,E)}function VL(p){return this.options.indentBy.repeat(p)}function WL(p){return!(!p.startsWith(this.options.attributeNamePrefix)||p===this.options.textNodeName)&&p.substr(this.attrPrefixLen)}Zr.prototype.build=function(p){return this.options.preserveOrder?GL(p,this.options):(Array.isArray(p)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(p={[this.options.arrayNodeName]:p}),this.j2x(p,0,[]).val)},Zr.prototype.j2x=function(p,f,E){let T="",b="",_=E.join(".");for(let D in p)if(Object.prototype.hasOwnProperty.call(p,D))if(p[D]===void 0)this.isAttribute(D)&&(b+="");else if(p[D]===null)this.isAttribute(D)||D===this.options.cdataPropName?b+="":D[0]==="?"?b+=this.indentate(f)+"<"+D+"?"+this.tagEndChar:b+=this.indentate(f)+"<"+D+"/"+this.tagEndChar;else if(p[D]instanceof Date)b+=this.buildTextValNode(p[D],D,"",f);else if(typeof p[D]!="object"){let C=this.isAttribute(D);if(C&&!this.ignoreAttributesFn(C,_))T+=this.buildAttrPairStr(C,""+p[D]);else if(!C)if(D===this.options.textNodeName){let N=this.options.tagValueProcessor(D,""+p[D]);b+=this.replaceEntitiesValue(N)}else b+=this.buildTextValNode(p[D],D,"",f)}else if(Array.isArray(p[D])){let C=p[D].length,N="",M="";for(let X=0;X<C;X++){let H=p[D][X];if(H!==void 0)if(H===null)D[0]==="?"?b+=this.indentate(f)+"<"+D+"?"+this.tagEndChar:b+=this.indentate(f)+"<"+D+"/"+this.tagEndChar;else if(typeof H=="object")if(this.options.oneListGroup){let de=this.j2x(H,f+1,E.concat(D));N+=de.val,this.options.attributesGroupName&&H.hasOwnProperty(this.options.attributesGroupName)&&(M+=de.attrStr)}else N+=this.processTextOrObjNode(H,D,f,E);else if(this.options.oneListGroup){let de=this.options.tagValueProcessor(D,H);de=this.replaceEntitiesValue(de),N+=de}else N+=this.buildTextValNode(H,D,"",f)}this.options.oneListGroup&&(N=this.buildObjectNode(N,D,M,f)),b+=N}else if(this.options.attributesGroupName&&D===this.options.attributesGroupName){let C=Object.keys(p[D]),N=C.length;for(let M=0;M<N;M++)T+=this.buildAttrPairStr(C[M],""+p[D][C[M]])}else b+=this.processTextOrObjNode(p[D],D,f,E);return{attrStr:T,val:b}},Zr.prototype.buildAttrPairStr=function(p,f){return f=this.options.attributeValueProcessor(p,""+f),f=this.replaceEntitiesValue(f),this.options.suppressBooleanAttributes&&f==="true"?" "+p:" "+p+'="'+f+'"'},Zr.prototype.buildObjectNode=function(p,f,E,T){if(p==="")return f[0]==="?"?this.indentate(T)+"<"+f+E+"?"+this.tagEndChar:this.indentate(T)+"<"+f+E+this.closeTag(f)+this.tagEndChar;{let b="</"+f+this.tagEndChar,_="";return f[0]==="?"&&(_="?",b=""),!E&&E!==""||p.indexOf("<")!==-1?this.options.commentPropName!==!1&&f===this.options.commentPropName&&_.length===0?this.indentate(T)+`<!--${p}-->`+this.newLine:this.indentate(T)+"<"+f+E+_+this.tagEndChar+p+this.indentate(T)+b:this.indentate(T)+"<"+f+E+_+">"+p+b}},Zr.prototype.closeTag=function(p){let f="";return this.options.unpairedTags.indexOf(p)!==-1?this.options.suppressUnpairedNode||(f="/"):f=this.options.suppressEmptyNode?"/":`></${p}`,f},Zr.prototype.buildTextValNode=function(p,f,E,T){if(this.options.cdataPropName!==!1&&f===this.options.cdataPropName)return this.indentate(T)+`<![CDATA[${p}]]>`+this.newLine;if(this.options.commentPropName!==!1&&f===this.options.commentPropName)return this.indentate(T)+`<!--${p}-->`+this.newLine;if(f[0]==="?")return this.indentate(T)+"<"+f+E+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(f,p);return b=this.replaceEntitiesValue(b),b===""?this.indentate(T)+"<"+f+E+this.closeTag(f)+this.tagEndChar:this.indentate(T)+"<"+f+E+">"+b+"</"+f+this.tagEndChar}},Zr.prototype.replaceEntitiesValue=function(p){if(p&&p.length>0&&this.options.processEntities)for(let f=0;f<this.options.entities.length;f++){let E=this.options.entities[f];p=p.replace(E.regex,E.val)}return p};let KL={validate:a};iA.exports=t})()});var cA=v(Mh=>{"use strict";c();Object.defineProperty(Mh,"__esModule",{value:!0});Mh.parseXML=I$;var w$=aA(),Lh=new w$.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Lh.addEntity("#xD","\r");Lh.addEntity("#10",`
`);function I$(e){return Lh.parse(e,!0)}});var Tl=v(_l=>{"use strict";c();var A$=cA();function x$(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function C$(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var bl=class{value;constructor(t){this.value=t}toString(){return C$(""+this.value)}},kh=class e{name;children;attributes={};static of(t,r,n){let o=new e(t);return r!==void 0&&o.addChildNode(new bl(r)),n!==void 0&&o.withName(n),o}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=e.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new e(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${x$(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(_l,"parseXML",{enumerable:!0,get:function(){return A$.parseXML}});_l.XmlNode=kh;_l.XmlText=bl});var lA,uA,dA,_n,wl=w(()=>{c();lA=A(Tl());yt();Re();uA=A(te()),dA=A(ve());gn();_n=class extends tt{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new eo(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=j.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},m=Object.keys(s)[0];return s[m].isBlobSchema()?u[m]=r:u[m]=this.read(s[m],r),u}let a=(this.serdeContext?.utf8Encoder??dA.toUtf8)(r),l=this.parseXml(a);return this.readSchema(t,n?l[n]:l)}readSchema(t,r){let n=j.of(t);if(n.isUnitSchema())return;let o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),u=[],m=l.getMergedTraits().xmlName??"member",h=i?r:(r[0]??r)[m],y=Array.isArray(h)?h:[h];for(let g of y)(g!=null||s)&&u.push(this.readSchema(l,g));return u}let a={};if(n.isMapSchema()){let l=n.getKeySchema(),u=n.getValueSchema(),m;i?m=Array.isArray(r)?r:[r]:m=Array.isArray(r.entry)?r.entry:[r.entry];let h=l.getMergedTraits().xmlName??"key",y=u.getMergedTraits().xmlName??"value";for(let g of m){let S=g[h],x=g[y];(x!=null||s)&&(a[S]=this.readSchema(u,x))}return a}if(n.isStructSchema()){for(let[l,u]of n.structIterator()){let m=u.getMergedTraits(),h=m.httpPayload?m.xmlName??u.getName():u.getMemberTraits().xmlName??l;r[h]!=null&&(a[l]=this.readSchema(u,r[h]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,lA.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",o=Object.keys(r)[0],s=r[o];return s[n]&&(s[o]=s[n],delete s[n]),(0,uA.getValueFromTextNode)(s)}return{}}}});var pA,fA,Il,mA=w(()=>{c();yt();Re();gt();pA=A(te()),fA=A(Ei());gn();Il=class extends tt{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=j.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??fA.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,nr.v4)()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Pe?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),wt(o,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,pA.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let l of r){if(l==null)continue;let u=this.getKey("member",s.getMergedTraits().xmlName),m=i?`${n}${a}`:`${n}${u}.${a}`;this.write(s,l,m),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,l=1;for(let[u,m]of Object.entries(r)){if(m==null)continue;let h=this.getKey("key",s.getMergedTraits().xmlName),y=a?`${n}${l}.${h}`:`${n}entry.${l}.${h}`,g=this.getKey("value",i.getMergedTraits().xmlName),S=a?`${n}${l}.${g}`:`${n}entry.${l}.${g}`;this.write(s,u,y),this.write(i,m,S),++l}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null&&!i.isIdempotencyToken())continue;let a=this.getKey(s,i.getMergedTraits().xmlName),l=`${n}${a}`;this.write(i,r[s],l)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${er(t)}=`}writeValue(t){this.buffer+=er(t)}}});var Ho,Uh=w(()=>{c();yt();Re();Go();wl();mA();Ho=class extends vr{options;serializer;deserializer;mixin=new Rt;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Il(r),this.deserializer=new _n(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(qt(t.input)==="unit"||!o.body)&&(o.body="");let s=t.name.split("#")[1]??t.name;return o.body=`Action=${s}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1)),o}async deserializeResponse(t,r,n){let o=this.deserializer,s=j.of(t.output),i={};if(n.statusCode>=300){let h=await jt(n.body,r);h.byteLength>0&&Object.assign(i,await o.read(15,h)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let h in n.headers){let y=n.headers[h];delete n.headers[h],n.headers[h.toLowerCase()]=y}let a=t.name.split("#")[1]??t.name,l=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await jt(n.body,r);return u.byteLength>0&&Object.assign(i,await o.read(s,u,l)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.loadQueryError(o),l=this.loadQueryErrorMessage(o);a.message=l,a.Error={Type:a.Type,Code:a.Code,Message:l};let{errorSchema:u,errorMetadata:m}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,s,(x,R)=>{try{return x.getSchema(R)}catch{return x.find(O=>j.of(O).getMergedTraits().awsQueryError?.[0]===R)}}),h=j.of(u),y=He.for(u[1]).getErrorCtor(u)??Error,g=new y(l),S={Error:a.Error};for(let[x,R]of h.structIterator()){let P=R.getMergedTraits().xmlName??x,O=a[P]??o[P];S[x]=this.deserializer.readSchema(R,O)}throw Object.assign(g,m,{$fault:h.getMergedTraits().error,message:l},S)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Al,hA=w(()=>{c();Uh();Al=class extends Ho{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var gA,yA,zo,xl,Cl,Bh=w(()=>{c();gA=A(Tl()),yA=A(te());Dh();zo=(e,t)=>pl(e,t).then(r=>{if(r.length){let n;try{n=(0,gA.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,yA.getValueFromTextNode)(i)}return{}}),xl=async(e,t)=>{let r=await zo(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Cl=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Pt,Fh,vl,Vo,$h=w(()=>{c();Pt=A(Tl());yt();Re();gt();Fh=A(te()),vl=A(Ei());gn();Vo=class extends tt{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=j.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??vl.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Pt.XmlNode.of(s),[a,l]=this.getXmlnsAttribute(t,n);for(let[u,m]of t.structIterator()){let h=r[u];if(h!=null||m.isIdempotencyToken()){if(m.getMergedTraits().xmlAttribute){i.addAttribute(m.getMergedTraits().xmlName??u,this.writeSimple(m,h));continue}if(m.isListSchema())this.writeList(m,h,i,l);else if(m.isMapSchema())this.writeMap(m,h,i,l);else if(m.isStructSchema())i.addChildNode(this.writeStruct(m,h,l));else{let y=Pt.XmlNode.of(m.getMergedTraits().xmlName??m.getMemberName());this.writeSimpleInto(m,h,y,l),i.addChildNode(y)}}}return l&&i.addAttribute(a,l),i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),l=!!a.sparse,u=!!s.xmlFlattened,[m,h]=this.getXmlnsAttribute(t,o),y=(g,S)=>{if(i.isListSchema())this.writeList(i,Array.isArray(S)?S:[S],g,h);else if(i.isMapSchema())this.writeMap(i,S,g,h);else if(i.isStructSchema()){let x=this.writeStruct(i,S,h);g.addChildNode(x.withName(u?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let x=Pt.XmlNode.of(u?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,S,x,h),g.addChildNode(x)}};if(u)for(let g of r)(l||g!=null)&&y(n,g);else{let g=Pt.XmlNode.of(s.xmlName??t.getMemberName());h&&g.addAttribute(m,h);for(let S of r)(l||S!=null)&&y(g,S);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),u=a.getMergedTraits().xmlName??"key",m=t.getValueSchema(),h=m.getMergedTraits(),y=h.xmlName??"value",g=!!h.sparse,S=!!i.xmlFlattened,[x,R]=this.getXmlnsAttribute(t,o),P=(O,z,W)=>{let Z=Pt.XmlNode.of(u,z),[Ie,Me]=this.getXmlnsAttribute(a,R);Me&&Z.addAttribute(Ie,Me),O.addChildNode(Z);let ne=Pt.XmlNode.of(y);m.isListSchema()?this.writeList(m,W,ne,R):m.isMapSchema()?this.writeMap(m,W,ne,R,!0):m.isStructSchema()?ne=this.writeStruct(m,W,R):this.writeSimpleInto(m,W,ne,R),O.addChildNode(ne)};if(S){for(let[O,z]of Object.entries(r))if(g||z!=null){let W=Pt.XmlNode.of(i.xmlName??t.getMemberName());P(W,O,z),n.addChildNode(W)}}else{let O;s||(O=Pt.XmlNode.of(i.xmlName??t.getMemberName()),R&&O.addAttribute(x,R),n.addChildNode(O));for(let[z,W]of Object.entries(r))if(g||W!=null){let Z=Pt.XmlNode.of("entry");P(Z,z,W),(s?n:O).addChildNode(Z)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=j.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??vl.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(wt(n,this.settings)){case 5:o=r.toISOString().replace(".000Z","Z");break;case 6:o=(0,Fh.dateToUtcString)(r);break;case 7:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,Fh.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Pe?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=(0,nr.v4)():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=j.of(t),a=new Pt.XmlText(s),[l,u]=this.getXmlnsAttribute(i,o);u&&n.addAttribute(l,u),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var Wo,Gh=w(()=>{c();gn();wl();$h();Wo=class extends tt{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Vo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new _n(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Rl,EA=w(()=>{c();yt();Re();Go();Bh();Gh();Rl=class extends Zn{codec;serializer;deserializer;mixin=new Rt;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Wo(r),this.serializer=new ro(this.codec.createSerializer(),r),this.deserializer=new to(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=j.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return o.headers["content-type"]===this.getDefaultContentType()&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=Cl(n,o)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=j.of(a),m=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",h=He.for(a[1]).getErrorCtor(a)??Error,y=new h(m);await this.deserializeHttpMessage(a,r,n,o);let g={};for(let[S,x]of u.structIterator()){let R=x.getMergedTraits().xmlName??S,P=o.Error?.[R]??o[R];g[S]=this.codec.createDeserializer().readSchema(x,P)}throw Object.assign(y,l,{$fault:u.getMergedTraits().error,message:m},g)}getDefaultContentType(){return"application/xml"}}});var SA={};ht(SA,{AwsEc2QueryProtocol:()=>Al,AwsJson1_0Protocol:()=>yl,AwsJson1_1Protocol:()=>El,AwsJsonRpcProtocol:()=>bn,AwsQueryProtocol:()=>Ho,AwsRestJsonProtocol:()=>Sl,AwsRestXmlProtocol:()=>Rl,AwsSmithyRpcV2CborProtocol:()=>cl,JsonCodec:()=>Sn,JsonShapeDeserializer:()=>jo,JsonShapeSerializer:()=>qo,XmlCodec:()=>Wo,XmlShapeDeserializer:()=>_n,XmlShapeSerializer:()=>Vo,_toBool:()=>xI,_toNum:()=>CI,_toStr:()=>AI,awsExpectUnion:()=>oA,loadRestJsonErrorCode:()=>En,loadRestXmlErrorCode:()=>Cl,parseJsonBody:()=>po,parseJsonErrorBody:()=>fl,parseXmlBody:()=>zo,parseXmlErrorBody:()=>xl});var jh=w(()=>{c();II();vI();eA();tA();gl();rA();hl();Nh();Oh();sA();Si();hA();Uh();EA();Gh();wl();$h();Bh()});var sr={};ht(sr,{AWSSDKSigV4Signer:()=>Fm,AwsEc2QueryProtocol:()=>Al,AwsJson1_0Protocol:()=>yl,AwsJson1_1Protocol:()=>El,AwsJsonRpcProtocol:()=>bn,AwsQueryProtocol:()=>Ho,AwsRestJsonProtocol:()=>Sl,AwsRestXmlProtocol:()=>Rl,AwsSdkSigV4ASigner:()=>pi,AwsSdkSigV4Signer:()=>Et,AwsSmithyRpcV2CborProtocol:()=>cl,JsonCodec:()=>Sn,JsonShapeDeserializer:()=>jo,JsonShapeSerializer:()=>qo,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Uo,NODE_SIGV4A_CONFIG_OPTIONS:()=>Lw,XmlCodec:()=>Wo,XmlShapeDeserializer:()=>_n,XmlShapeSerializer:()=>Vo,_toBool:()=>xI,_toNum:()=>CI,_toStr:()=>AI,awsExpectUnion:()=>oA,emitWarningIfUnsupportedVersion:()=>Lo,getBearerTokenEnvKey:()=>zc,loadRestJsonErrorCode:()=>En,loadRestXmlErrorCode:()=>Cl,parseJsonBody:()=>po,parseJsonErrorBody:()=>fl,parseXmlBody:()=>zo,parseXmlErrorBody:()=>xl,resolveAWSSDKSigV4Config:()=>iI,resolveAwsSdkSigV4AConfig:()=>Ow,resolveAwsSdkSigV4Config:()=>lo,setCredentialFeature:()=>ln,setFeature:()=>yw,setTokenFeature:()=>Sw,state:()=>Hc,validateSigningProperties:()=>ko});var Ke=w(()=>{c();zt();oh();jh()});var Yo=v(Ko=>{"use strict";c();var v$=(ut(),ae(oo)),R$=Oo(),P$=Te(),ir=(Ke(),ae(sr)),wA=void 0;function D$(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function N$(e){let t=v$.normalizeProvider(e.userAgentAppId??wA),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!D$(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var O$=/\d{12}\.ddb/;async function L$(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&ir.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?ir.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):ir.setFeature(e,"RETRY_MODE_STANDARD","E"):ir.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(O$)&&ir.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":ir.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":ir.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":ir.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&ir.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))ir.setFeature(e,i,a)}}var bA="user-agent",qh="x-amz-user-agent",_A=" ",Hh="/",M$=/[^!$%&'*+\-.^_`|~\w]/g,k$=/[^!$%&'*+\-.^_`|~\w#]/g,TA="-",U$=1024;function B$(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=U$){t.length?t+=","+n:t+=n;continue}break}return t}var IA=e=>(t,r)=>async n=>{let{request:o}=n;if(!P$.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Pl)||[],a=(await e.defaultUserAgentProvider()).map(Pl);await L$(r,e,n);let l=r;a.push(`m/${B$(Object.assign({},r.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(Pl)||[],m=await e.userAgentAppId();m&&a.push(Pl(["app",`${m}`]));let h=R$.getUserAgentPrefix(),y=(h?[h]:[]).concat([...a,...i,...u]).join(_A),g=[...a.filter(S=>S.startsWith("aws-sdk-")),...u].join(_A);return e.runtime!=="browser"?(g&&(s[qh]=s[qh]?`${s[bA]} ${g}`:g),s[bA]=y):s[qh]=y,t({...n,request:o})},Pl=e=>{let t=e[0].split(Hh).map(i=>i.replace(M$,TA)).join(Hh),r=e[1]?.replace(k$,TA),n=t.indexOf(Hh),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,l)=>{switch(l){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},AA={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},F$=e=>({applyToStack:t=>{t.add(IA(e),AA)}});Ko.DEFAULT_UA_APP_ID=wA;Ko.getUserAgentMiddlewareOptions=AA;Ko.getUserAgentPlugin=F$;Ko.resolveUserAgentConfig=N$;Ko.userAgentMiddleware=IA});var xA=v(Xo=>{"use strict";c();var $$=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},G$=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};Xo.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Xo.SelectorType||(Xo.SelectorType={}));Xo.booleanSelector=$$;Xo.numberSelector=G$});var Dt=v(Xe=>{"use strict";c();var Tn=xA(),Dl=it(),j$=io(),RA="AWS_USE_DUALSTACK_ENDPOINT",PA="use_dualstack_endpoint",q$=!1,H$={environmentVariableSelector:e=>Tn.booleanSelector(e,RA,Tn.SelectorType.ENV),configFileSelector:e=>Tn.booleanSelector(e,PA,Tn.SelectorType.CONFIG),default:!1},DA="AWS_USE_FIPS_ENDPOINT",NA="use_fips_endpoint",z$=!1,V$={environmentVariableSelector:e=>Tn.booleanSelector(e,DA,Tn.SelectorType.ENV),configFileSelector:e=>Tn.booleanSelector(e,NA,Tn.SelectorType.CONFIG),default:!1},W$=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:Dl.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:Dl.normalizeProvider(o??!1)})},K$=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},Y$=e=>{let t=Dl.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?Dl.normalizeProvider(typeof r=="string"?o(r):r):()=>K$({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},OA="AWS_REGION",LA="region",X$={environmentVariableSelector:e=>e[OA],configFileSelector:e=>e[LA],default:()=>{throw new Error("Region is missing")}},Q$={preferredFile:"credentials"},CA=new Set,J$=(e,t=j$.isValidHostLabel)=>{if(!CA.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else CA.add(e)},MA=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),Z$=e=>MA(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,e2=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,o=Z$(n);return J$(o),o},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return MA(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},vA=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,t2=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),r2=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",n2=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},o2=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=r2(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,l={useFipsEndpoint:t,useDualstackEndpoint:r},u=vA(o[a]?.variants,l),m=vA(s[i]?.variants,l),h=t2(a,{regionHostname:u,partitionHostname:m});if(h===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let y=n2(h,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:h,...y&&{signingRegion:y},...o[a]?.signingService&&{signingService:o[a].signingService}}};Xe.CONFIG_USE_DUALSTACK_ENDPOINT=PA;Xe.CONFIG_USE_FIPS_ENDPOINT=NA;Xe.DEFAULT_USE_DUALSTACK_ENDPOINT=q$;Xe.DEFAULT_USE_FIPS_ENDPOINT=z$;Xe.ENV_USE_DUALSTACK_ENDPOINT=RA;Xe.ENV_USE_FIPS_ENDPOINT=DA;Xe.NODE_REGION_CONFIG_FILE_OPTIONS=Q$;Xe.NODE_REGION_CONFIG_OPTIONS=X$;Xe.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=H$;Xe.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=V$;Xe.REGION_ENV_NAME=OA;Xe.REGION_INI_NAME=LA;Xe.getRegionInfo=o2;Xe.resolveCustomEndpointsConfig=W$;Xe.resolveEndpointsConfig=Y$;Xe.resolveRegionConfig=e2});var bi=v(Nl=>{"use strict";c();var s2=Te(),kA="content-length";function UA(e){return t=>async r=>{let n=r.request;if(s2.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(kA)===-1)try{let i=e(o);n.headers={...n.headers,[kA]:String(i)}}catch{}}return t({...r,request:n})}}var BA={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},i2=e=>({applyToStack:t=>{t.add(UA(e.bodyLengthChecker),BA)}});Nl.contentLengthMiddleware=UA;Nl.contentLengthMiddlewareOptions=BA;Nl.getContentLengthPlugin=i2});var Vh=v(Ol=>{"use strict";c();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.getHomeDir=void 0;var a2=me("os"),c2=me("path"),zh={},l2=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",u2=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${c2.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=l2();return zh[o]||(zh[o]=(0,a2.homedir)()),zh[o]};Ol.getHomeDir=u2});var Wh=v(Ll=>{"use strict";c();Object.defineProperty(Ll,"__esModule",{value:!0});Ll.getSSOTokenFilepath=void 0;var d2=me("crypto"),p2=me("path"),f2=Vh(),m2=e=>{let r=(0,d2.createHash)("sha1").update(e).digest("hex");return(0,p2.join)((0,f2.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Ll.getSSOTokenFilepath=m2});var FA=v(wn=>{"use strict";c();Object.defineProperty(wn,"__esModule",{value:!0});wn.getSSOTokenFromFile=wn.tokenIntercept=void 0;var h2=me("fs/promises"),g2=Wh();wn.tokenIntercept={};var y2=async e=>{if(wn.tokenIntercept[e])return wn.tokenIntercept[e];let t=(0,g2.getSSOTokenFilepath)(e),r=await(0,h2.readFile)(t,"utf8");return JSON.parse(r)};wn.getSSOTokenFromFile=y2});var $A=v(It=>{"use strict";c();Object.defineProperty(It,"__esModule",{value:!0});It.readFile=It.fileIntercept=It.filePromises=void 0;var E2=me("node:fs/promises");It.filePromises={};It.fileIntercept={};var S2=(e,t)=>It.fileIntercept[e]!==void 0?It.fileIntercept[e]:((!It.filePromises[e]||t?.ignoreCache)&&(It.filePromises[e]=(0,E2.readFile)(e,"utf8")),It.filePromises[e]);It.readFile=S2});var Mr=v(pt=>{"use strict";c();var _i=Vh(),GA=Wh(),Kh=FA(),Ml=me("path"),kl=tn(),Qo=$A(),qA="AWS_PROFILE",HA="default",b2=e=>e.profile||process.env[qA]||HA,fo=".",_2=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(fo);return r===-1?!1:Object.values(kl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(fo),s=r.substring(0,o)===kl.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),T2="AWS_CONFIG_FILE",zA=()=>process.env[T2]||Ml.join(_i.getHomeDir(),".aws","config"),w2="AWS_SHARED_CREDENTIALS_FILE",I2=()=>process.env[w2]||Ml.join(_i.getHomeDir(),".aws","credentials"),A2=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,x2=["__proto__","profile __proto__"],Yh=e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),l=A2.exec(a);if(l){let[,u,,m]=l;Object.values(kl.IniSectionType).includes(u)&&(r=[u,m].join(fo))}else r=a;if(x2.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[l,u]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(u==="")n=l;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let m=n?[n,l].join(fo):l;t[r][m]=u}}}}return t},jA=()=>({}),VA=async(e={})=>{let{filepath:t=I2(),configFilepath:r=zA()}=e,n=_i.getHomeDir(),o="~/",s=t;t.startsWith(o)&&(s=Ml.join(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=Ml.join(n,r.slice(2)));let a=await Promise.all([Qo.readFile(i,{ignoreCache:e.ignoreCache}).then(Yh).then(_2).catch(jA),Qo.readFile(s,{ignoreCache:e.ignoreCache}).then(Yh).catch(jA)]);return{configFile:a[0],credentialsFile:a[1]}},C2=e=>Object.entries(e).filter(([t])=>t.startsWith(kl.IniSectionType.SSO_SESSION+fo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(fo)+1)]:n}),{}),v2=()=>({}),R2=async(e={})=>Qo.readFile(e.configFilepath??zA()).then(Yh).then(C2).catch(v2),P2=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},D2=async e=>{let t=await VA(e);return P2(t.configFile,t.credentialsFile)},N2={getFileRecord(){return Qo.fileIntercept},interceptFile(e,t){Qo.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return Kh.tokenIntercept},interceptToken(e,t){Kh.tokenIntercept[e]=t}};Object.defineProperty(pt,"getSSOTokenFromFile",{enumerable:!0,get:function(){return Kh.getSSOTokenFromFile}});Object.defineProperty(pt,"readFile",{enumerable:!0,get:function(){return Qo.readFile}});pt.CONFIG_PREFIX_SEPARATOR=fo;pt.DEFAULT_PROFILE=HA;pt.ENV_PROFILE=qA;pt.externalDataInterceptor=N2;pt.getProfileName=b2;pt.loadSharedConfigFiles=VA;pt.loadSsoSessionData=R2;pt.parseKnownFiles=D2;Object.keys(_i).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pt,e)&&Object.defineProperty(pt,e,{enumerable:!0,get:function(){return _i[e]}})});Object.keys(GA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pt,e)&&Object.defineProperty(pt,e,{enumerable:!0,get:function(){return GA[e]}})})});var kr=v(YA=>{"use strict";c();var Ti=dt(),WA=Mr();function KA(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var O2=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ti.CredentialsProviderError(r.message||`Not found in ENV: ${KA(e.toString())}`,{logger:t?.logger})}},L2=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=WA.getProfileName(r),{configFile:o,credentialsFile:s}=await WA.loadSharedConfigFiles(r),i=s[n]||{},a=o[n]||{},l=t==="config"?{...i,...a}:{...a,...i};try{let m=e(l,t==="config"?o:s);if(m===void 0)throw new Error;return m}catch(u){throw new Ti.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${KA(e.toString())}`,{logger:r.logger})}},M2=e=>typeof e=="function",k2=e=>M2(e)?async()=>await e():Ti.fromStatic(e),U2=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return Ti.memoize(Ti.chain(O2(e,i),L2(t,n),k2(r)))};YA.loadConfig=U2});var ZA=v(Ul=>{"use strict";c();Object.defineProperty(Ul,"__esModule",{value:!0});Ul.getEndpointUrlConfig=void 0;var XA=Mr(),QA="AWS_ENDPOINT_URL",JA="endpoint_url",B2=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[QA,...r].join("_")];if(n)return n;let o=t[QA];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(XA.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),JA].join(XA.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[JA];if(n)return n},default:void 0});Ul.getEndpointUrlConfig=B2});var ex=v(Bl=>{"use strict";c();Object.defineProperty(Bl,"__esModule",{value:!0});Bl.getEndpointFromConfig=void 0;var F2=kr(),$2=ZA(),G2=async e=>(0,F2.loadConfig)((0,$2.getEndpointUrlConfig)(e??""))();Bl.getEndpointFromConfig=G2});var In=v(Ur=>{"use strict";c();var rx=ex(),tx=cn(),j2=(ut(),ae(oo)),Fl=it(),q2=Yn(),H2=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Y2(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!K2(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},z2=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,V2=/(\d+\.){3}\d+/,W2=/\.\./,K2=e=>z2.test(e)&&!V2.test(e)&&!W2.test(e),Y2=e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},X2=(e,t,r)=>{let n=async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o};return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:l}=o;return`${s}//${i}${a?":"+a:""}${l}`}}return o}:n},Xh=e=>typeof e=="object"?"url"in e?tx.parseUrl(e.url):e:tx.parseUrl(e),nx=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await rx.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Xh(i)),r.isCustomEndpoint=!0)}let o=await ox(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},ox=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await X2(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await H2(n),n},sx=({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&j2.setFeature(n,"ENDPOINT_OVERRIDE","N");let s=await nx(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let l=Fl.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},ix={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:q2.serializerMiddlewareOption.name},Q2=(e,t)=>({applyToStack:r=>{r.addRelativeTo(sx({config:e,instructions:t}),ix)}}),J2=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>Xh(await Fl.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Fl.normalizeProvider(n??!1),useFipsEndpoint:Fl.normalizeProvider(o??!1)}),l;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=rx.getEndpointFromConfig(e.serviceId)),l),a},Z2=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Ur.endpointMiddleware=sx;Ur.endpointMiddlewareOptions=ix;Ur.getEndpointFromInstructions=nx;Ur.getEndpointPlugin=Q2;Ur.resolveEndpointConfig=J2;Ur.resolveEndpointRequiredConfig=Z2;Ur.resolveParams=ox;Ur.toEndpointV1=Xh});var Jh=v(An=>{"use strict";c();var eG=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],tG=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],rG=["TimeoutError","RequestTimeout","RequestTimeoutException"],nG=[500,502,503,504],oG=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],sG=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],ax=e=>e?.$retryable!==void 0,iG=e=>eG.includes(e.name),cx=e=>e.$metadata?.clockSkewCorrected,lx=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},aG=e=>e.$metadata?.httpStatusCode===429||tG.includes(e.name)||e.$retryable?.throttling==!0,Qh=(e,t=0)=>ax(e)||cx(e)||rG.includes(e.name)||oG.includes(e?.code||"")||sG.includes(e?.code||"")||nG.includes(e.$metadata?.httpStatusCode||0)||lx(e)||e.cause!==void 0&&t<=10&&Qh(e.cause,t+1),cG=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Qh(e)}return!1};An.isBrowserNetworkError=lx;An.isClockSkewCorrectedError=cx;An.isClockSkewError=iG;An.isRetryableByTrait=ax;An.isServerError=cG;An.isThrottlingError=aG;An.isTransientError=Qh});var Jo=v(Ne=>{"use strict";c();var lG=Jh();Ne.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ne.RETRY_MODES||(Ne.RETRY_MODES={}));var Zh=3,uG=Ne.RETRY_MODES.STANDARD,$l=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),lG.isThrottlingError(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},wi=100,ng=20*1e3,dx=500,eg=500,px=5,fx=10,mx=1,dG="amz-sdk-invocation-id",pG="amz-sdk-request",fG=()=>{let e=wi;return{computeNextBackoffDelay:n=>Math.floor(Math.min(ng,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},ux=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(ng,e),getRetryCost:()=>r}),Ii=class{maxAttempts;mode=Ne.RETRY_MODES.STANDARD;capacity=eg;retryBackoffStrategy=fG();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return ux({retryDelay:wi,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?dx:wi);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,ux({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(eg,this.capacity+(t.getRetryCost()??mx))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Zh}`),Zh}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?fx:px}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},tg=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ne.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new $l,this.standardRetryStrategy=new Ii(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},rg=class extends Ii{computeNextBackoffDelay;constructor(t,r=wi){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Ne.AdaptiveRetryStrategy=tg;Ne.ConfiguredRetryStrategy=rg;Ne.DEFAULT_MAX_ATTEMPTS=Zh;Ne.DEFAULT_RETRY_DELAY_BASE=wi;Ne.DEFAULT_RETRY_MODE=uG;Ne.DefaultRateLimiter=$l;Ne.INITIAL_RETRY_TOKENS=eg;Ne.INVOCATION_ID_HEADER=dG;Ne.MAXIMUM_RETRY_DELAY=ng;Ne.NO_RETRY_INCREMENT=mx;Ne.REQUEST_HEADER=pG;Ne.RETRY_COST=px;Ne.StandardRetryStrategy=Ii;Ne.THROTTLING_RETRY_DELAY_BASE=dx;Ne.TIMEOUT_RETRY_COST=fx});var hx=v(Gl=>{"use strict";c();Object.defineProperty(Gl,"__esModule",{value:!0});Gl.isStreamingPayload=void 0;var mG=me("stream"),hG=e=>e?.body instanceof mG.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Gl.isStreamingPayload=hG});var Br=v(ze=>{"use strict";c();var De=Jo(),Zo=Te(),xn=Jh(),yx=cm(),gx=it(),gG=te(),yG=hx(),EG=(e,t)=>{let r=e,n=De.NO_RETRY_INCREMENT,o=De.RETRY_COST,s=De.TIMEOUT_RETRY_COST,i=e,a=h=>h.name==="TimeoutError"?s:o,l=h=>a(h)<=i;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:h=>{if(!l(h))throw new Error("No retry token available");let y=a(h);return i-=y,y},releaseRetryTokens:h=>{i+=h??n,i=Math.min(i,r)}})},Ex=(e,t)=>Math.floor(Math.min(De.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),Sx=e=>e?xn.isRetryableByTrait(e)||xn.isClockSkewError(e)||xn.isThrottlingError(e)||xn.isTransientError(e):!1,bx=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),jl=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=De.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??Sx,this.delayDecider=r?.delayDecider??Ex,this.retryQuota=r?.retryQuota??EG(De.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=De.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:l}=r;for(Zo.HttpRequest.isInstance(l)&&(l.headers[De.INVOCATION_ID_HEADER]=yx.v4());;)try{Zo.HttpRequest.isInstance(l)&&(l.headers[De.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:u,output:m}=await t(r);return n?.afterRequest&&n.afterRequest(u),this.retryQuota.releaseRetryTokens(o),m.$metadata.attempts=s+1,m.$metadata.totalRetryDelay=i,{response:u,output:m}}catch(u){let m=bx(u);if(s++,this.shouldRetry(m,s,a)){o=this.retryQuota.retrieveRetryTokens(m);let h=this.delayDecider(xn.isThrottlingError(m)?De.THROTTLING_RETRY_DELAY_BASE:De.DEFAULT_RETRY_DELAY_BASE,s),y=SG(m.$response),g=Math.max(y||0,h);i+=g,await new Promise(S=>setTimeout(S,g));continue}throw m.$metadata||(m.$metadata={}),m.$metadata.attempts=s,m.$metadata.totalRetryDelay=i,m}}},SG=e=>{if(!Zo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},og=class extends jl{rateLimiter;constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new De.DefaultRateLimiter,this.mode=De.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},sg="AWS_MAX_ATTEMPTS",ig="max_attempts",bG={environmentVariableSelector:e=>{let t=e[sg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${sg} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[ig];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${ig} mast be a number, got "${t}"`);return r},default:De.DEFAULT_MAX_ATTEMPTS},_G=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=gx.normalizeProvider(n??De.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await gx.normalizeProvider(r)()===De.RETRY_MODES.ADAPTIVE?new De.AdaptiveRetryStrategy(o):new De.StandardRetryStrategy(o))})},_x="AWS_RETRY_MODE",Tx="retry_mode",TG={environmentVariableSelector:e=>e[_x],configFileSelector:e=>e[Tx],default:De.DEFAULT_RETRY_MODE},wx=()=>e=>async t=>{let{request:r}=t;return Zo.HttpRequest.isInstance(r)&&(delete r.headers[De.INVOCATION_ID_HEADER],delete r.headers[De.REQUEST_HEADER]),e(t)},Ix={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},wG=e=>({applyToStack:t=>{t.addRelativeTo(wx(),Ix)}}),Ax=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(IG(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,l=0,u=0,{request:m}=n,h=Zo.HttpRequest.isInstance(m);for(h&&(m.headers[De.INVOCATION_ID_HEADER]=yx.v4());;)try{h&&(m.headers[De.REQUEST_HEADER]=`attempt=${l+1}; max=${s}`);let{response:y,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=l+1,g.$metadata.totalRetryDelay=u,{response:y,output:g}}catch(y){let g=AG(y);if(a=bx(y),h&&yG.isStreamingPayload(m))throw(r.logger instanceof gG.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=l+1,a.$metadata.totalRetryDelay=u,a}l=i.getRetryCount();let S=i.getRetryDelay();u+=S,await new Promise(x=>setTimeout(x,S))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},IG=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",AG=e=>{let t={error:e,errorType:xG(e)},r=Cx(e.$response);return r&&(t.retryAfterHint=r),t},xG=e=>xn.isThrottlingError(e)?"THROTTLING":xn.isTransientError(e)?"TRANSIENT":xn.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",xx={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},CG=e=>({applyToStack:t=>{t.add(Ax(e),xx)}}),Cx=e=>{if(!Zo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};ze.AdaptiveRetryStrategy=og;ze.CONFIG_MAX_ATTEMPTS=ig;ze.CONFIG_RETRY_MODE=Tx;ze.ENV_MAX_ATTEMPTS=sg;ze.ENV_RETRY_MODE=_x;ze.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=bG;ze.NODE_RETRY_MODE_CONFIG_OPTIONS=TG;ze.StandardRetryStrategy=jl;ze.defaultDelayDecider=Ex;ze.defaultRetryDecider=Sx;ze.getOmitRetryHeadersPlugin=wG;ze.getRetryAfterHint=Cx;ze.getRetryPlugin=CG;ze.omitRetryHeadersMiddleware=wx;ze.omitRetryHeadersMiddlewareOptions=Ix;ze.resolveRetryConfig=_G;ze.retryMiddleware=Ax;ze.retryMiddlewareOptions=xx});var cg=v(Cn=>{"use strict";c();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.resolveHttpAuthSchemeConfig=Cn.defaultDynamoDBHttpAuthSchemeProvider=Cn.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var vG=(Ke(),ae(sr)),ag=it(),RG=async(e,t,r)=>({operation:(0,ag.getSmithyContext)(t).operation,region:await(0,ag.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Cn.defaultDynamoDBHttpAuthSchemeParametersProvider=RG;function PG(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var DG=e=>{let t=[];switch(e.operation){default:t.push(PG(e))}return t};Cn.defaultDynamoDBHttpAuthSchemeProvider=DG;var NG=e=>{let t=(0,vG.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,ag.normalizeProvider)(e.authSchemePreference??[])})};Cn.resolveHttpAuthSchemeConfig=NG});var vx=v((Dfe,OG)=>{OG.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.928.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.928.0","@aws-sdk/credential-provider-node":"3.928.0","@aws-sdk/middleware-endpoint-discovery":"3.922.0","@aws-sdk/middleware-host-header":"3.922.0","@aws-sdk/middleware-logger":"3.922.0","@aws-sdk/middleware-recursion-detection":"3.922.0","@aws-sdk/middleware-user-agent":"3.928.0","@aws-sdk/region-config-resolver":"3.925.0","@aws-sdk/types":"3.922.0","@aws-sdk/util-endpoints":"3.922.0","@aws-sdk/util-user-agent-browser":"3.922.0","@aws-sdk/util-user-agent-node":"3.928.0","@smithy/config-resolver":"^4.4.2","@smithy/core":"^3.17.2","@smithy/fetch-http-handler":"^5.3.5","@smithy/hash-node":"^4.2.4","@smithy/invalid-dependency":"^4.2.4","@smithy/middleware-content-length":"^4.2.4","@smithy/middleware-endpoint":"^4.3.6","@smithy/middleware-retry":"^4.4.6","@smithy/middleware-serde":"^4.2.4","@smithy/middleware-stack":"^4.2.4","@smithy/node-config-provider":"^4.3.4","@smithy/node-http-handler":"^4.4.4","@smithy/protocol-http":"^5.3.4","@smithy/smithy-client":"^4.9.2","@smithy/types":"^4.8.1","@smithy/url-parser":"^4.2.4","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.5","@smithy/util-defaults-mode-node":"^4.2.8","@smithy/util-endpoints":"^3.2.4","@smithy/util-middleware":"^4.2.4","@smithy/util-retry":"^4.2.4","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.4",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var lg=v(vn=>{"use strict";c();var LG=(zt(),ae(un)),MG=dt(),Rx="AWS_ACCESS_KEY_ID",Px="AWS_SECRET_ACCESS_KEY",Dx="AWS_SESSION_TOKEN",Nx="AWS_CREDENTIAL_EXPIRATION",Ox="AWS_CREDENTIAL_SCOPE",Lx="AWS_ACCOUNT_ID",kG=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Rx],r=process.env[Px],n=process.env[Dx],o=process.env[Nx],s=process.env[Ox],i=process.env[Lx];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return LG.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new MG.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};vn.ENV_ACCOUNT_ID=Lx;vn.ENV_CREDENTIAL_SCOPE=Ox;vn.ENV_EXPIRATION=Nx;vn.ENV_KEY=Rx;vn.ENV_SECRET=Px;vn.ENV_SESSION=Dx;vn.fromEnv=kG});var xi=v(rt=>{"use strict";c();var ar=dt(),UG=me("url"),BG=me("buffer"),FG=me("http"),mg=kr(),$G=cn();function Ai(e){return new Promise((t,r)=>{let n=FG.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new ar.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new ar.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new ar.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(BG.Buffer.concat(i)),n.destroy()})}),n.end()})}var Bx=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Fx=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),$x=1e3,Gx=0,hg=({maxRetries:e=Gx,timeout:t=$x})=>({maxRetries:e,timeout:t}),dg=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},ql="AWS_CONTAINER_CREDENTIALS_FULL_URI",Hl="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",pg="AWS_CONTAINER_AUTHORIZATION_TOKEN",GG=(e={})=>{let{timeout:t,maxRetries:r}=hg(e);return()=>dg(async()=>{let n=await VG({logger:e.logger}),o=JSON.parse(await jG(t,n));if(!Bx(o))throw new ar.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Fx(o)},r)},jG=async(e,t)=>(process.env[pg]&&(t.headers={...t.headers,Authorization:process.env[pg]}),(await Ai({...t,timeout:e})).toString()),qG="169.254.170.2",HG={localhost:!0,"127.0.0.1":!0},zG={"http:":!0,"https:":!0},VG=async({logger:e})=>{if(process.env[Hl])return{hostname:qG,path:process.env[Hl]};if(process.env[ql]){let t=UG.parse(process.env[ql]);if(!t.hostname||!(t.hostname in HG))throw new ar.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in zG))throw new ar.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new ar.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Hl} or ${ql} environment variable is set`,{tryNextLink:!1,logger:e})},fg=class e extends ar.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};rt.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(rt.Endpoint||(rt.Endpoint={}));var WG="AWS_EC2_METADATA_SERVICE_ENDPOINT",KG="ec2_metadata_service_endpoint",YG={environmentVariableSelector:e=>e[WG],configFileSelector:e=>e[KG],default:void 0},es;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(es||(es={}));var XG="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",QG="ec2_metadata_service_endpoint_mode",JG={environmentVariableSelector:e=>e[XG],configFileSelector:e=>e[QG],default:es.IPv4},jx=async()=>$G.parseUrl(await ZG()||await ej()),ZG=async()=>mg.loadConfig(YG)(),ej=async()=>{let e=await mg.loadConfig(JG)();switch(e){case es.IPv4:return rt.Endpoint.IPv4;case es.IPv6:return rt.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(es)}`)}},tj=5*60,rj=5*60,nj="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Mx=(e,t)=>{let r=tj+Math.floor(Math.random()*rj),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+nj);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},oj=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Mx(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Mx(n,r);else throw s}return n=o,o}},qx="/latest/meta-data/iam/security-credentials/",sj="/latest/api/token",ug="AWS_EC2_METADATA_V1_DISABLED",kx="ec2_metadata_v1_disabled",Ux="x-aws-ec2-metadata-token",ij=(e={})=>oj(aj(e),{logger:e.logger}),aj=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=hg(e),i=async(a,l)=>{if(t||l.headers?.[Ux]==null){let h=!1,y=!1,g=await mg.loadConfig({environmentVariableSelector:S=>{let x=S[ug];if(y=!!x&&x!=="false",x===void 0)throw new ar.CredentialsProviderError(`${ug} not set in env, checking config file next.`,{logger:e.logger});return y},configFileSelector:S=>{let x=S[kx];return h=!!x&&x!=="false",h},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),h&&S.push(`config file profile (${kx})`),y&&S.push(`process environment variable (${ug})`),new fg(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let m=(await dg(async()=>{let h;try{h=await lj(l)}catch(y){throw y.statusCode===401&&(t=!1),y}return h},a)).trim();return dg(async()=>{let h;try{h=await uj(m,l,e)}catch(y){throw y.statusCode===401&&(t=!1),y}return h},a)};return async()=>{let a=await jx();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let l;try{l=(await cj({...a,timeout:o})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[Ux]:l},timeout:o})}}},cj=async e=>Ai({...e,path:sj,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),lj=async e=>(await Ai({...e,path:qx})).toString(),uj=async(e,t,r)=>{let n=JSON.parse((await Ai({...t,path:qx+e})).toString());if(!Bx(n))throw new ar.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return Fx(n)};rt.DEFAULT_MAX_RETRIES=Gx;rt.DEFAULT_TIMEOUT=$x;rt.ENV_CMDS_AUTH_TOKEN=pg;rt.ENV_CMDS_FULL_URI=ql;rt.ENV_CMDS_RELATIVE_URI=Hl;rt.fromContainerMetadata=GG;rt.fromInstanceMetadata=ij;rt.getInstanceMetadataEndpoint=jx;rt.httpRequest=Ai;rt.providerConfigFromInit=hg});var Hx=v(zl=>{"use strict";c();Object.defineProperty(zl,"__esModule",{value:!0});zl.checkUrl=void 0;var dj=dt(),pj="169.254.170.2",fj="169.254.170.23",mj="[fd00:ec2::23]",hj=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===pj||e.hostname===fj||e.hostname===mj)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new dj.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};zl.checkUrl=hj});var zx=v(Vl=>{"use strict";c();Object.defineProperty(Vl,"__esModule",{value:!0});Vl.createGetRequest=Sj;Vl.getCredentials=bj;var gg=dt(),gj=Te(),yj=te(),Ej=Ec();function Sj(e){return new gj.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function bj(e,t){let n=await(0,Ej.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new gg.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,yj.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new gg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new gg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var Vx=v(Wl=>{"use strict";c();Object.defineProperty(Wl,"__esModule",{value:!0});Wl.retryWrapper=void 0;var _j=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};Wl.retryWrapper=_j});var Yx=v(Kl=>{"use strict";c();Object.defineProperty(Kl,"__esModule",{value:!0});Kl.fromHttp=void 0;var Tj=(oi(),ae(ni)),wj=(zt(),ae(un)),Ij=Xn(),Wx=dt(),Aj=Tj.__importDefault(me("fs/promises")),xj=Hx(),Kx=zx(),Cj=Vx(),vj="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Rj="http://169.254.170.2",Pj="AWS_CONTAINER_CREDENTIALS_FULL_URI",Dj="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",Nj="AWS_CONTAINER_AUTHORIZATION_TOKEN",Oj=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[vj],n=e.awsContainerCredentialsFullUri??process.env[Pj],o=e.awsContainerAuthorizationToken??process.env[Nj],s=e.awsContainerAuthorizationTokenFile??process.env[Dj],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${Rj}${r}`;else throw new Wx.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,xj.checkUrl)(a,e.logger);let l=Ij.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,Cj.retryWrapper)(async()=>{let u=(0,Kx.createGetRequest)(a);o?u.headers.Authorization=o:s&&(u.headers.Authorization=(await Aj.default.readFile(s)).toString());try{let m=await l.handle(u);return(0,Kx.getCredentials)(m.response).then(h=>(0,wj.setCredentialFeature)(h,"CREDENTIALS_HTTP","z"))}catch(m){throw new Wx.CredentialsProviderError(String(m),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Kl.fromHttp=Oj});var yg=v(Yl=>{"use strict";c();Object.defineProperty(Yl,"__esModule",{value:!0});Yl.fromHttp=void 0;var Lj=Yx();Object.defineProperty(Yl,"fromHttp",{enumerable:!0,get:function(){return Lj.fromHttp}})});function Mj(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function kj(e){return{schemeId:"smithy.api#noAuth"}}var Ci,Xx,Qx,Jx,Eg=w(()=>{c();Ke();Ci=A(it()),Xx=async(e,t,r)=>({operation:(0,Ci.getSmithyContext)(t).operation,region:await(0,Ci.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Qx=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(kj(e));break}default:t.push(Mj(e))}return t},Jx=e=>{let t=lo(e);return Object.assign(t,{authSchemePreference:(0,Ci.normalizeProvider)(e.authSchemePreference??[])})}});var Zx,e0,Sg=w(()=>{c();Zx=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),e0={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Xl,bg=w(()=>{Xl={name:"@aws-sdk/nested-clients",version:"3.928.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.928.0","@aws-sdk/middleware-host-header":"3.922.0","@aws-sdk/middleware-logger":"3.922.0","@aws-sdk/middleware-recursion-detection":"3.922.0","@aws-sdk/middleware-user-agent":"3.928.0","@aws-sdk/region-config-resolver":"3.925.0","@aws-sdk/types":"3.922.0","@aws-sdk/util-endpoints":"3.922.0","@aws-sdk/util-user-agent-browser":"3.922.0","@aws-sdk/util-user-agent-node":"3.928.0","@smithy/config-resolver":"^4.4.2","@smithy/core":"^3.17.2","@smithy/fetch-http-handler":"^5.3.5","@smithy/hash-node":"^4.2.4","@smithy/invalid-dependency":"^4.2.4","@smithy/middleware-content-length":"^4.2.4","@smithy/middleware-endpoint":"^4.3.6","@smithy/middleware-retry":"^4.4.6","@smithy/middleware-serde":"^4.2.4","@smithy/middleware-stack":"^4.2.4","@smithy/node-config-provider":"^4.3.4","@smithy/node-http-handler":"^4.4.4","@smithy/protocol-http":"^5.3.4","@smithy/smithy-client":"^4.9.2","@smithy/types":"^4.8.1","@smithy/url-parser":"^4.2.4","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.5","@smithy/util-defaults-mode-node":"^4.2.8","@smithy/util-endpoints":"^3.2.4","@smithy/util-middleware":"^4.2.4","@smithy/util-retry":"^4.2.4","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var vi=v(mo=>{"use strict";c();var t0=me("os"),_g=me("process"),Bj=Yo(),r0={isCrtAvailable:!1},Fj=()=>r0.isCrtAvailable?["md/crt-avail"]:null,n0=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${t0.platform()}`,t0.release()],["lang/js"],["md/nodejs",`${_g.versions.node}`]],o=Fj();o&&n.push(o),e&&n.push([`api/${e}`,t]),_g.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${_g.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},$j=n0,o0="AWS_SDK_UA_APP_ID",s0="sdk_ua_app_id",Gj="sdk-ua-app-id",jj={environmentVariableSelector:e=>e[o0],configFileSelector:e=>e[s0]??e[Gj],default:Bj.DEFAULT_UA_APP_ID};mo.NODE_APP_ID_CONFIG_OPTIONS=jj;mo.UA_APP_ID_ENV_NAME=o0;mo.UA_APP_ID_INI_NAME=s0;mo.createDefaultUserAgentProvider=n0;mo.crtAvailability=r0;mo.defaultUserAgent=$j});var Ri=v(c0=>{"use strict";c();var Tg=Ve(),qj=ve(),Hj=me("buffer"),i0=me("crypto"),wg=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(qj.toUint8Array(a0(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?i0.createHmac(this.algorithmIdentifier,a0(this.secret)):i0.createHash(this.algorithmIdentifier)}};function a0(e,t){return Hj.Buffer.isBuffer(e)?e:typeof e=="string"?Tg.fromString(e,t):ArrayBuffer.isView(e)?Tg.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Tg.fromArrayBuffer(e)}c0.Hash=wg});var Pi=v(l0=>{"use strict";c();var Ig=me("node:fs"),zj=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof Ig.ReadStream){if(e.path!=null)return Ig.lstatSync(e.path).size;if(typeof e.fd=="number")return Ig.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};l0.calculateBodyLength=zj});var u0=v(Ql=>{"use strict";c();Object.defineProperty(Ql,"__esModule",{value:!0});Ql.fromBase64=void 0;var Vj=Ve(),Wj=/^[A-Za-z0-9+/]*={0,2}$/,Kj=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Wj.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Vj.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ql.fromBase64=Kj});var d0=v(Jl=>{"use strict";c();Object.defineProperty(Jl,"__esModule",{value:!0});Jl.toBase64=void 0;var Yj=Ve(),Xj=ve(),Qj=e=>{let t;if(typeof e=="string"?t=(0,Xj.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Yj.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Jl.toBase64=Qj});var Ag=v(Di=>{"use strict";c();var p0=u0(),f0=d0();Object.keys(p0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Di,e)&&Object.defineProperty(Di,e,{enumerable:!0,get:function(){return p0[e]}})});Object.keys(f0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Di,e)&&Object.defineProperty(Di,e,{enumerable:!0,get:function(){return f0[e]}})})});var w0,Ot,Lt,ns,m0,Ni,ts,rs,Fr,xg,Cg,h0,g0,y0,I0,A0,Nt,E0,x0,S0,b0,_0,T0,Jj,C0,v0=w(()=>{c();w0="required",Ot="fn",Lt="argv",ns="ref",m0="isSet",Ni="booleanEquals",ts="error",rs="endpoint",Fr="tree",xg="PartitionResult",Cg="getAttr",h0={[w0]:!1,type:"string"},g0={[w0]:!0,default:!1,type:"boolean"},y0={[ns]:"Endpoint"},I0={[Ot]:Ni,[Lt]:[{[ns]:"UseFIPS"},!0]},A0={[Ot]:Ni,[Lt]:[{[ns]:"UseDualStack"},!0]},Nt={},E0={[Ot]:Cg,[Lt]:[{[ns]:xg},"supportsFIPS"]},x0={[ns]:xg},S0={[Ot]:Ni,[Lt]:[!0,{[Ot]:Cg,[Lt]:[x0,"supportsDualStack"]}]},b0=[I0],_0=[A0],T0=[{[ns]:"Region"}],Jj={version:"1.0",parameters:{Region:h0,UseDualStack:g0,UseFIPS:g0,Endpoint:h0},rules:[{conditions:[{[Ot]:m0,[Lt]:[y0]}],rules:[{conditions:b0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ts},{conditions:_0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ts},{endpoint:{url:y0,properties:Nt,headers:Nt},type:rs}],type:Fr},{conditions:[{[Ot]:m0,[Lt]:T0}],rules:[{conditions:[{[Ot]:"aws.partition",[Lt]:T0,assign:xg}],rules:[{conditions:[I0,A0],rules:[{conditions:[{[Ot]:Ni,[Lt]:[!0,E0]},S0],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},type:rs}],type:Fr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ts}],type:Fr},{conditions:b0,rules:[{conditions:[{[Ot]:Ni,[Lt]:[E0,!0]}],rules:[{conditions:[{[Ot]:"stringEquals",[Lt]:[{[Ot]:Cg,[Lt]:[x0,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Nt,headers:Nt},type:rs},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},type:rs}],type:Fr},{error:"FIPS is enabled but this partition does not support FIPS",type:ts}],type:Fr},{conditions:_0,rules:[{conditions:[S0],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},type:rs}],type:Fr},{error:"DualStack is enabled but this partition does not support DualStack",type:ts}],type:Fr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},type:rs}],type:Fr}],type:Fr},{error:"Invalid Configuration: Missing Region",type:ts}]},C0=Jj});var R0,os,Zj,P0,D0=w(()=>{c();R0=A(Oo()),os=A(io());v0();Zj=new os.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),P0=(e,t={})=>Zj.get(e,()=>(0,os.resolveEndpoint)(C0,{endpointParams:e,logger:t.logger}));os.customEndpointFunctions.aws=R0.awsEndpointFunctions});var N0,O0,Zl,eu,L0,M0=w(()=>{c();Ke();ut();N0=A(te()),O0=A(cn()),Zl=A(Ag()),eu=A(ve());Eg();D0();L0=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Zl.fromBase64,base64Encoder:e?.base64Encoder??Zl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??P0,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Qx,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Et},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Rr}],logger:e?.logger??new N0.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??O0.parseUrl,utf8Decoder:e?.utf8Decoder??eu.fromUtf8,utf8Encoder:e?.utf8Encoder??eu.toUtf8})});var Oi=v(F0=>{"use strict";c();var eq=Dt(),k0=kr(),tq=dt(),rq="AWS_EXECUTION_ENV",U0="AWS_REGION",B0="AWS_DEFAULT_REGION",nq="AWS_EC2_METADATA_DISABLED",oq=["in-region","cross-region","mobile","standard","legacy"],sq="/latest/meta-data/placement/region",iq="AWS_DEFAULTS_MODE",aq="defaults_mode",cq={environmentVariableSelector:e=>e[iq],configFileSelector:e=>e[aq],default:"legacy"},lq=({region:e=k0.loadConfig(eq.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=k0.loadConfig(cq)}={})=>tq.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return uq(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${oq.join(", ")}, got ${r}`)}}),uq=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await dq();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},dq=async()=>{if(process.env[rq]&&(process.env[U0]||process.env[B0]))return process.env[U0]??process.env[B0];if(!process.env[nq])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>A(xi())),r=await e();return(await t({...r,path:sq})).toString()}catch{}};F0.resolveDefaultsModeConfig=lq});var tu,Pn,$0,ru,Rn,nu,G0,j0,q0,H0,z0,V0,W0=w(()=>{c();bg();Ke();tu=A(vi()),Pn=A(Dt()),$0=A(Ri()),ru=A(Br()),Rn=A(kr()),nu=A(Xn()),G0=A(Pi()),j0=A(Jo());M0();q0=A(te()),H0=A(Oi()),z0=A(te()),V0=e=>{(0,z0.emitWarningIfUnsupportedVersion)(process.version);let t=(0,H0.resolveDefaultsModeConfig)(e),r=()=>t().then(q0.loadConfigsForDefaultMode),n=L0(e);Lo(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Rn.loadConfig)(Uo,o),bodyLengthChecker:e?.bodyLengthChecker??G0.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,tu.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Xl.version}),maxAttempts:e?.maxAttempts??(0,Rn.loadConfig)(ru.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Rn.loadConfig)(Pn.NODE_REGION_CONFIG_OPTIONS,{...Pn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:nu.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Rn.loadConfig)({...ru.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||j0.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??$0.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??nu.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Rn.loadConfig)(Pn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Rn.loadConfig)(Pn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Rn.loadConfig)(tu.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var Y0=v(ss=>{"use strict";c();Object.defineProperty(ss,"__esModule",{value:!0});ss.warning=void 0;ss.stsRegionDefaultResolver=fq;var K0=Dt(),pq=kr();function fq(e={}){return(0,pq.loadConfig)({...K0.NODE_REGION_CONFIG_OPTIONS,async default(){return ss.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...K0.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}ss.warning={silence:!1}});var is=v(cr=>{"use strict";c();var Li=Dt(),X0=Y0(),mq=e=>({setRegion(t){e.region=t},region(){return e.region}}),hq=e=>({region:e.region()});Object.defineProperty(cr,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Li.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(cr,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Li.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(cr,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Li.REGION_ENV_NAME}});Object.defineProperty(cr,"REGION_INI_NAME",{enumerable:!0,get:function(){return Li.REGION_INI_NAME}});Object.defineProperty(cr,"resolveRegionConfig",{enumerable:!0,get:function(){return Li.resolveRegionConfig}});cr.getAwsRegionExtensionConfiguration=mq;cr.resolveAwsRegionExtensionConfiguration=hq;Object.keys(X0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(cr,e)&&Object.defineProperty(cr,e,{enumerable:!0,get:function(){return X0[e]}})})});var Q0,J0,Z0=w(()=>{c();Q0=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},J0=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ou,su,iu,eC,tC=w(()=>{c();ou=A(is()),su=A(Te()),iu=A(te());Z0();eC=(e,t)=>{let r=Object.assign((0,ou.getAwsRegionExtensionConfiguration)(e),(0,iu.getDefaultExtensionConfiguration)(e),(0,su.getHttpHandlerExtensionConfiguration)(e),Q0(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,ou.resolveAwsRegionExtensionConfiguration)(r),(0,iu.resolveDefaultRuntimeConfig)(r),(0,su.resolveHttpHandlerRuntimeConfig)(r),J0(r))}});var au,rC,nC,cu,oC,sC,iC,lu,vg,Mi,Rg=w(()=>{c();au=A(Fs()),rC=A($s()),nC=A(Gs()),cu=A(Yo()),oC=A(Dt());ut();sC=A(bi()),iC=A(In()),lu=A(Br()),vg=A(te());Eg();Sg();W0();tC();Mi=class extends vg.Client{config;constructor(...[t]){let r=V0(t||{});super(r),this.initConfig=r;let n=Zx(r),o=(0,cu.resolveUserAgentConfig)(n),s=(0,lu.resolveRetryConfig)(o),i=(0,oC.resolveRegionConfig)(s),a=(0,au.resolveHostHeaderConfig)(i),l=(0,iC.resolveEndpointConfig)(a),u=Jx(l),m=eC(u,t?.extensions||[]);this.config=m,this.middlewareStack.use((0,cu.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,lu.getRetryPlugin)(this.config)),this.middlewareStack.use((0,sC.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,au.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,rC.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,nC.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(qs(this.config,{httpAuthSchemeParametersProvider:Xx,identityProviderConfigProvider:async h=>new no({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(Hs(this.config))}destroy(){super.destroy()}}});var aC,Ye,uu=w(()=>{c();aC=A(te()),Ye=class e extends aC.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var ho,gq,ki,Ui,Pg,Dg,Bi,Fi,$i,Gi,yq,ji,qi,Hi,zi,Vi,du=w(()=>{c();ho=A(te());uu();gq={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},ki=class e extends Ye{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Ui=class e extends Ye{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Pg=e=>({...e,...e.clientSecret&&{clientSecret:ho.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:ho.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:ho.SENSITIVE_STRING}}),Dg=e=>({...e,...e.accessToken&&{accessToken:ho.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:ho.SENSITIVE_STRING},...e.idToken&&{idToken:ho.SENSITIVE_STRING}}),Bi=class e extends Ye{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Fi=class e extends Ye{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},$i=class e extends Ye{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Gi=class e extends Ye{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},yq={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},ji=class e extends Ye{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},qi=class e extends Ye{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Hi=class e extends Ye{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zi=class e extends Ye{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Vi=class e extends Ye{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var L,cC,lC,Eq,Sq,bq,_q,Tq,wq,Iq,Aq,xq,Cq,vq,Rq,Pq,Mt,uC=w(()=>{c();Ke();ut();L=A(te());du();uu();cC=async(e,t)=>{let r=ai(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,L.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,L._json)(s)})),r.m("POST").h(n).b(o),r.build()},lC=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Eq(e,t);let r=(0,L.map)({$metadata:Mt(e)}),n=(0,L.expectNonNull)((0,L.expectObject)(await po(e.body,t)),"body"),o=(0,L.take)(n,{accessToken:L.expectString,expiresIn:L.expectInt32,idToken:L.expectString,refreshToken:L.expectString,tokenType:L.expectString});return Object.assign(r,o),r},Eq=async(e,t)=>{let r={...e,body:await fl(e.body,t)},n=En(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await bq(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await _q(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Tq(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await wq(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Iq(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Aq(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await xq(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Cq(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await vq(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Rq(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Pq(r,t);default:let o=r.body;return Sq({output:e,parsedBody:o,errorCode:n})}},Sq=(0,L.withBaseException)(Ye),bq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString,reason:L.expectString});Object.assign(r,o);let s=new ki({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},_q=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Ui({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},Tq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Bi({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},wq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Fi({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},Iq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new $i({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},Aq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Gi({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},xq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString,reason:L.expectString});Object.assign(r,o);let s=new ji({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},Cq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new qi({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},vq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Hi({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},Rq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new zi({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},Pq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Vi({$metadata:Mt(e),...r});return(0,L.decorateServiceException)(s,e.body)},Mt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var dC,pC,Ng,Wi,Og=w(()=>{c();dC=A(In()),pC=A(Yn()),Ng=A(te());Sg();du();uC();Wi=class extends Ng.Command.classBuilder().ep(e0).m(function(t,r,n,o){return[(0,pC.getSerdePlugin)(n,this.serialize,this.deserialize),(0,dC.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Pg,Dg).ser(cC).de(lC).build(){}});var fC,Dq,pu,mC=w(()=>{c();fC=A(te());Og();Rg();Dq={CreateTokenCommand:Wi},pu=class extends Mi{};(0,fC.createAggregatedClient)(Dq,pu)});var hC=w(()=>{c();Og()});var gC=w(()=>{c();du()});var Lg={};ht(Lg,{$Command:()=>Ng.Command,AccessDeniedException:()=>ki,AccessDeniedExceptionReason:()=>gq,AuthorizationPendingException:()=>Ui,CreateTokenCommand:()=>Wi,CreateTokenRequestFilterSensitiveLog:()=>Pg,CreateTokenResponseFilterSensitiveLog:()=>Dg,ExpiredTokenException:()=>Bi,InternalServerException:()=>Fi,InvalidClientException:()=>$i,InvalidGrantException:()=>Gi,InvalidRequestException:()=>ji,InvalidRequestExceptionReason:()=>yq,InvalidScopeException:()=>qi,SSOOIDC:()=>pu,SSOOIDCClient:()=>Mi,SSOOIDCServiceException:()=>Ye,SlowDownException:()=>Hi,UnauthorizedClientException:()=>zi,UnsupportedGrantTypeException:()=>Vi,__Client:()=>vg.Client});var Mg=w(()=>{c();Rg();mC();hC();gC();uu()});var bC=v(Yi=>{"use strict";c();var Nq=(zt(),ae(un)),Oq=(oh(),ae(lI)),At=dt(),Ki=Mr(),Lq=me("fs"),Mq=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new At.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=Oq.getBearerTokenEnvKey(t);if(!(r in process.env))throw new At.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return Nq.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},kq=5*60*1e3,kg="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Uq=async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(Mg(),Lg)),n=s=>t.clientConfig?.[s]??t.parentClientConfig?.[s];return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:n("logger"),userAgentAppId:n("userAgentAppId")}))},Bq=async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Mg(),Lg));return(await Uq(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},yC=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new At.TokenProviderError(`Token is expired. ${kg}`,!1)},go=(e,t,r=!1)=>{if(typeof t>"u")throw new At.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${kg}`,!1)},{writeFile:Fq}=Lq.promises,$q=(e,t)=>{let r=Ki.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return Fq(r,n)},EC=new Date(0),SC=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await Ki.parseKnownFiles(r),o=Ki.getProfileName({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new At.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new At.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,l=(await Ki.loadSsoSessionData(r))[i];if(!l)throw new At.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!l[S])throw new At.TokenProviderError(`Sso session '${i}' is missing required property '${S}'.`,!1);l.sso_start_url;let u=l.sso_region,m;try{m=await Ki.getSSOTokenFromFile(i)}catch{throw new At.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${kg}`,!1)}go("accessToken",m.accessToken),go("expiresAt",m.expiresAt);let{accessToken:h,expiresAt:y}=m,g={token:h,expiration:new Date(y)};if(g.expiration.getTime()-Date.now()>kq)return g;if(Date.now()-EC.getTime()<30*1e3)return yC(g),g;go("clientId",m.clientId,!0),go("clientSecret",m.clientSecret,!0),go("refreshToken",m.refreshToken,!0);try{EC.setTime(Date.now());let S=await Bq(m,u,r);go("accessToken",S.accessToken),go("expiresIn",S.expiresIn);let x=new Date(Date.now()+S.expiresIn*1e3);try{await $q(i,{...m,accessToken:S.accessToken,expiresAt:x.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:x}}catch{return yC(g),g}},Gq=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new At.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},jq=(e={})=>At.memoize(At.chain(SC(e),async()=>{throw new At.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Yi.fromEnvSigningName=Mq;Yi.fromSso=SC;Yi.fromStatic=Gq;Yi.nodeProvider=jq});var Bg=v(Dn=>{"use strict";c();Object.defineProperty(Dn,"__esModule",{value:!0});Dn.resolveHttpAuthSchemeConfig=Dn.defaultSSOHttpAuthSchemeProvider=Dn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var qq=(Ke(),ae(sr)),Ug=it(),Hq=async(e,t,r)=>({operation:(0,Ug.getSmithyContext)(t).operation,region:await(0,Ug.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Dn.defaultSSOHttpAuthSchemeParametersProvider=Hq;function zq(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function fu(e){return{schemeId:"smithy.api#noAuth"}}var Vq=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(fu(e));break}case"ListAccountRoles":{t.push(fu(e));break}case"ListAccounts":{t.push(fu(e));break}case"Logout":{t.push(fu(e));break}default:t.push(zq(e))}return t};Dn.defaultSSOHttpAuthSchemeProvider=Vq;var Wq=e=>{let t=(0,qq.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Ug.normalizeProvider)(e.authSchemePreference??[])})};Dn.resolveHttpAuthSchemeConfig=Wq});var _C=v((xhe,Kq)=>{Kq.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.928.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.928.0","@aws-sdk/middleware-host-header":"3.922.0","@aws-sdk/middleware-logger":"3.922.0","@aws-sdk/middleware-recursion-detection":"3.922.0","@aws-sdk/middleware-user-agent":"3.928.0","@aws-sdk/region-config-resolver":"3.925.0","@aws-sdk/types":"3.922.0","@aws-sdk/util-endpoints":"3.922.0","@aws-sdk/util-user-agent-browser":"3.922.0","@aws-sdk/util-user-agent-node":"3.928.0","@smithy/config-resolver":"^4.4.2","@smithy/core":"^3.17.2","@smithy/fetch-http-handler":"^5.3.5","@smithy/hash-node":"^4.2.4","@smithy/invalid-dependency":"^4.2.4","@smithy/middleware-content-length":"^4.2.4","@smithy/middleware-endpoint":"^4.3.6","@smithy/middleware-retry":"^4.4.6","@smithy/middleware-serde":"^4.2.4","@smithy/middleware-stack":"^4.2.4","@smithy/node-config-provider":"^4.3.4","@smithy/node-http-handler":"^4.4.4","@smithy/protocol-http":"^5.3.4","@smithy/smithy-client":"^4.9.2","@smithy/types":"^4.8.1","@smithy/url-parser":"^4.2.4","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.5","@smithy/util-defaults-mode-node":"^4.2.8","@smithy/util-endpoints":"^3.2.4","@smithy/util-middleware":"^4.2.4","@smithy/util-retry":"^4.2.4","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var TC=v(mu=>{"use strict";c();Object.defineProperty(mu,"__esModule",{value:!0});mu.fromBase64=void 0;var Yq=Ve(),Xq=/^[A-Za-z0-9+/]*={0,2}$/,Qq=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Xq.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Yq.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};mu.fromBase64=Qq});var wC=v(hu=>{"use strict";c();Object.defineProperty(hu,"__esModule",{value:!0});hu.toBase64=void 0;var Jq=Ve(),Zq=ve(),eH=e=>{let t;if(typeof e=="string"?t=(0,Zq.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Jq.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};hu.toBase64=eH});var xC=v(Xi=>{"use strict";c();var IC=TC(),AC=wC();Object.keys(IC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xi,e)&&Object.defineProperty(Xi,e,{enumerable:!0,get:function(){return IC[e]}})});Object.keys(AC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xi,e)&&Object.defineProperty(Xi,e,{enumerable:!0,get:function(){return AC[e]}})})});var GC=v(gu=>{"use strict";c();Object.defineProperty(gu,"__esModule",{value:!0});gu.ruleSet=void 0;var UC="required",Ut="fn",Bt="argv",ls="ref",CC=!0,vC="isSet",Qi="booleanEquals",as="error",cs="endpoint",$r="tree",Fg="PartitionResult",$g="getAttr",RC={[UC]:!1,type:"string"},PC={[UC]:!0,default:!1,type:"boolean"},DC={[ls]:"Endpoint"},BC={[Ut]:Qi,[Bt]:[{[ls]:"UseFIPS"},!0]},FC={[Ut]:Qi,[Bt]:[{[ls]:"UseDualStack"},!0]},kt={},NC={[Ut]:$g,[Bt]:[{[ls]:Fg},"supportsFIPS"]},$C={[ls]:Fg},OC={[Ut]:Qi,[Bt]:[!0,{[Ut]:$g,[Bt]:[$C,"supportsDualStack"]}]},LC=[BC],MC=[FC],kC=[{[ls]:"Region"}],tH={version:"1.0",parameters:{Region:RC,UseDualStack:PC,UseFIPS:PC,Endpoint:RC},rules:[{conditions:[{[Ut]:vC,[Bt]:[DC]}],rules:[{conditions:LC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:as},{conditions:MC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:as},{endpoint:{url:DC,properties:kt,headers:kt},type:cs}],type:$r},{conditions:[{[Ut]:vC,[Bt]:kC}],rules:[{conditions:[{[Ut]:"aws.partition",[Bt]:kC,assign:Fg}],rules:[{conditions:[BC,FC],rules:[{conditions:[{[Ut]:Qi,[Bt]:[CC,NC]},OC],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:kt,headers:kt},type:cs}],type:$r},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:as}],type:$r},{conditions:LC,rules:[{conditions:[{[Ut]:Qi,[Bt]:[NC,CC]}],rules:[{conditions:[{[Ut]:"stringEquals",[Bt]:[{[Ut]:$g,[Bt]:[$C,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:kt,headers:kt},type:cs},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:kt,headers:kt},type:cs}],type:$r},{error:"FIPS is enabled but this partition does not support FIPS",type:as}],type:$r},{conditions:MC,rules:[{conditions:[OC],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:kt,headers:kt},type:cs}],type:$r},{error:"DualStack is enabled but this partition does not support DualStack",type:as}],type:$r},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:kt,headers:kt},type:cs}],type:$r}],type:$r},{error:"Invalid Configuration: Missing Region",type:as}]};gu.ruleSet=tH});var jC=v(yu=>{"use strict";c();Object.defineProperty(yu,"__esModule",{value:!0});yu.defaultEndpointResolver=void 0;var rH=Oo(),Gg=io(),nH=GC(),oH=new Gg.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),sH=(e,t={})=>oH.get(e,()=>(0,Gg.resolveEndpoint)(nH.ruleSet,{endpointParams:e,logger:t.logger}));yu.defaultEndpointResolver=sH;Gg.customEndpointFunctions.aws=rH.awsEndpointFunctions});var zC=v(Eu=>{"use strict";c();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.getRuntimeConfig=void 0;var iH=(Ke(),ae(sr)),aH=(ut(),ae(oo)),cH=te(),lH=cn(),qC=xC(),HC=ve(),uH=Bg(),dH=jC(),pH=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??qC.fromBase64,base64Encoder:e?.base64Encoder??qC.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??dH.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??uH.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new iH.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new aH.NoAuthSigner}],logger:e?.logger??new cH.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??lH.parseUrl,utf8Decoder:e?.utf8Decoder??HC.fromUtf8,utf8Encoder:e?.utf8Encoder??HC.toUtf8});Eu.getRuntimeConfig=pH});var XC=v(bu=>{"use strict";c();Object.defineProperty(bu,"__esModule",{value:!0});bu.getRuntimeConfig=void 0;var fH=(oi(),ae(ni)),mH=fH.__importDefault(_C()),VC=(Ke(),ae(sr)),WC=vi(),Su=Dt(),hH=Ri(),KC=Br(),yo=kr(),YC=Xn(),gH=Pi(),yH=Jo(),EH=zC(),SH=te(),bH=Oi(),_H=te(),TH=e=>{(0,_H.emitWarningIfUnsupportedVersion)(process.version);let t=(0,bH.resolveDefaultsModeConfig)(e),r=()=>t().then(SH.loadConfigsForDefaultMode),n=(0,EH.getRuntimeConfig)(e);(0,VC.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,yo.loadConfig)(VC.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??gH.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,WC.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:mH.default.version}),maxAttempts:e?.maxAttempts??(0,yo.loadConfig)(KC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,yo.loadConfig)(Su.NODE_REGION_CONFIG_OPTIONS,{...Su.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:YC.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,yo.loadConfig)({...KC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||yH.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??hH.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??YC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,yo.loadConfig)(Su.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,yo.loadConfig)(Su.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,yo.loadConfig)(WC.NODE_APP_ID_CONFIG_OPTIONS,o)}};bu.getRuntimeConfig=TH});var hv=v(Oe=>{"use strict";c();var QC=Fs(),wH=$s(),IH=Gs(),JC=Yo(),AH=Dt(),Gr=(ut(),ae(oo)),xH=bi(),ta=In(),ZC=Br(),k=te(),ev=Bg(),CH=XC(),tv=is(),rv=Te(),vu=Yn(),Ji=(Ke(),ae(sr)),vH=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Ru={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},RH=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},PH=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),DH=(e,t)=>{let r=Object.assign(tv.getAwsRegionExtensionConfiguration(e),k.getDefaultExtensionConfiguration(e),rv.getHttpHandlerExtensionConfiguration(e),RH(e));return t.forEach(n=>n.configure(r)),Object.assign(e,tv.resolveAwsRegionExtensionConfiguration(r),k.resolveDefaultRuntimeConfig(r),rv.resolveHttpHandlerRuntimeConfig(r),PH(r))},us=class extends k.Client{config;constructor(...[t]){let r=CH.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=vH(r),o=JC.resolveUserAgentConfig(n),s=ZC.resolveRetryConfig(o),i=AH.resolveRegionConfig(s),a=QC.resolveHostHeaderConfig(i),l=ta.resolveEndpointConfig(a),u=ev.resolveHttpAuthSchemeConfig(l),m=DH(u,t?.extensions||[]);this.config=m,this.middlewareStack.use(JC.getUserAgentPlugin(this.config)),this.middlewareStack.use(ZC.getRetryPlugin(this.config)),this.middlewareStack.use(xH.getContentLengthPlugin(this.config)),this.middlewareStack.use(QC.getHostHeaderPlugin(this.config)),this.middlewareStack.use(wH.getLoggerPlugin(this.config)),this.middlewareStack.use(IH.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Gr.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:ev.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new Gr.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(Gr.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Nn=class e extends k.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},_u=class e extends Nn{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Tu=class e extends Nn{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wu=class e extends Nn{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Iu=class e extends Nn{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nv=e=>({...e,...e.accessToken&&{accessToken:k.SENSITIVE_STRING}}),ov=e=>({...e,...e.secretAccessKey&&{secretAccessKey:k.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:k.SENSITIVE_STRING}}),sv=e=>({...e,...e.roleCredentials&&{roleCredentials:ov(e.roleCredentials)}}),iv=e=>({...e,...e.accessToken&&{accessToken:k.SENSITIVE_STRING}}),av=e=>({...e,...e.accessToken&&{accessToken:k.SENSITIVE_STRING}}),cv=e=>({...e,...e.accessToken&&{accessToken:k.SENSITIVE_STRING}}),NH=async(e,t)=>{let r=Gr.requestBuilder(e,t),n=k.map({},k.isSerializableHeaderValue,{[Nu]:e[Du]});r.bp("/federation/credentials");let o=k.map({[VH]:[,k.expectNonNull(e[zH],"roleName")],[uv]:[,k.expectNonNull(e[lv],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},OH=async(e,t)=>{let r=Gr.requestBuilder(e,t),n=k.map({},k.isSerializableHeaderValue,{[Nu]:e[Du]});r.bp("/assignment/roles");let o=k.map({[mv]:[,e[fv]],[pv]:[()=>e.maxResults!==void 0,()=>e[dv].toString()],[uv]:[,k.expectNonNull(e[lv],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},LH=async(e,t)=>{let r=Gr.requestBuilder(e,t),n=k.map({},k.isSerializableHeaderValue,{[Nu]:e[Du]});r.bp("/assignment/accounts");let o=k.map({[mv]:[,e[fv]],[pv]:[()=>e.maxResults!==void 0,()=>e[dv].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},MH=async(e,t)=>{let r=Gr.requestBuilder(e,t),n=k.map({},k.isSerializableHeaderValue,{[Nu]:e[Du]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},kH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Pu(e,t);let r=k.map({$metadata:On(e)}),n=k.expectNonNull(k.expectObject(await Ji.parseJsonBody(e.body,t)),"body"),o=k.take(n,{roleCredentials:k._json});return Object.assign(r,o),r},UH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Pu(e,t);let r=k.map({$metadata:On(e)}),n=k.expectNonNull(k.expectObject(await Ji.parseJsonBody(e.body,t)),"body"),o=k.take(n,{nextToken:k.expectString,roleList:k._json});return Object.assign(r,o),r},BH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Pu(e,t);let r=k.map({$metadata:On(e)}),n=k.expectNonNull(k.expectObject(await Ji.parseJsonBody(e.body,t)),"body"),o=k.take(n,{accountList:k._json,nextToken:k.expectString});return Object.assign(r,o),r},FH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Pu(e,t);let r=k.map({$metadata:On(e)});return await k.collectBody(e.body,t),r},Pu=async(e,t)=>{let r={...e,body:await Ji.parseJsonErrorBody(e.body,t)},n=Ji.loadRestJsonErrorCode(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await GH(r);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await jH(r);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await qH(r);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await HH(r);default:let o=r.body;return $H({output:e,parsedBody:o,errorCode:n})}},$H=k.withBaseException(Nn),GH=async(e,t)=>{let r=k.map({}),n=e.body,o=k.take(n,{message:k.expectString});Object.assign(r,o);let s=new _u({$metadata:On(e),...r});return k.decorateServiceException(s,e.body)},jH=async(e,t)=>{let r=k.map({}),n=e.body,o=k.take(n,{message:k.expectString});Object.assign(r,o);let s=new Tu({$metadata:On(e),...r});return k.decorateServiceException(s,e.body)},qH=async(e,t)=>{let r=k.map({}),n=e.body,o=k.take(n,{message:k.expectString});Object.assign(r,o);let s=new wu({$metadata:On(e),...r});return k.decorateServiceException(s,e.body)},HH=async(e,t)=>{let r=k.map({}),n=e.body,o=k.take(n,{message:k.expectString});Object.assign(r,o);let s=new Iu({$metadata:On(e),...r});return k.decorateServiceException(s,e.body)},On=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),lv="accountId",Du="accessToken",uv="account_id",dv="maxResults",pv="max_result",fv="nextToken",mv="next_token",zH="roleName",VH="role_name",Nu="x-amz-sso_bearer_token",Au=class extends k.Command.classBuilder().ep(Ru).m(function(t,r,n,o){return[vu.getSerdePlugin(n,this.serialize,this.deserialize),ta.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(nv,sv).ser(NH).de(kH).build(){},Zi=class extends k.Command.classBuilder().ep(Ru).m(function(t,r,n,o){return[vu.getSerdePlugin(n,this.serialize,this.deserialize),ta.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(iv,void 0).ser(OH).de(UH).build(){},ea=class extends k.Command.classBuilder().ep(Ru).m(function(t,r,n,o){return[vu.getSerdePlugin(n,this.serialize,this.deserialize),ta.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(av,void 0).ser(LH).de(BH).build(){},xu=class extends k.Command.classBuilder().ep(Ru).m(function(t,r,n,o){return[vu.getSerdePlugin(n,this.serialize,this.deserialize),ta.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(cv,void 0).ser(MH).de(FH).build(){},WH={GetRoleCredentialsCommand:Au,ListAccountRolesCommand:Zi,ListAccountsCommand:ea,LogoutCommand:xu},Cu=class extends us{};k.createAggregatedClient(WH,Cu);var KH=Gr.createPaginator(us,Zi,"nextToken","nextToken","maxResults"),YH=Gr.createPaginator(us,ea,"nextToken","nextToken","maxResults");Object.defineProperty(Oe,"$Command",{enumerable:!0,get:function(){return k.Command}});Object.defineProperty(Oe,"__Client",{enumerable:!0,get:function(){return k.Client}});Oe.GetRoleCredentialsCommand=Au;Oe.GetRoleCredentialsRequestFilterSensitiveLog=nv;Oe.GetRoleCredentialsResponseFilterSensitiveLog=sv;Oe.InvalidRequestException=_u;Oe.ListAccountRolesCommand=Zi;Oe.ListAccountRolesRequestFilterSensitiveLog=iv;Oe.ListAccountsCommand=ea;Oe.ListAccountsRequestFilterSensitiveLog=av;Oe.LogoutCommand=xu;Oe.LogoutRequestFilterSensitiveLog=cv;Oe.ResourceNotFoundException=Tu;Oe.RoleCredentialsFilterSensitiveLog=ov;Oe.SSO=Cu;Oe.SSOClient=us;Oe.SSOServiceException=Nn;Oe.TooManyRequestsException=wu;Oe.UnauthorizedException=Iu;Oe.paginateListAccountRoles=KH;Oe.paginateListAccounts=YH});var yv=v(jg=>{"use strict";c();var gv=hv();Object.defineProperty(jg,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return gv.GetRoleCredentialsCommand}});Object.defineProperty(jg,"SSOClient",{enumerable:!0,get:function(){return gv.SSOClient}})});var qg=v(Lu=>{"use strict";c();var Vt=dt(),Ou=Mr(),Ev=(zt(),ae(un)),XH=bC(),bv=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ra=!1,Sv=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:l,filepath:u,configFilepath:m,ignoreCache:h,logger:y})=>{let g,S="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let ke=await XH.fromSso({profile:l,filepath:u,configFilepath:m,ignoreCache:h})();g={accessToken:ke.token,expiresAt:new Date(ke.expiration).toISOString()}}catch(ke){throw new Vt.CredentialsProviderError(ke.message,{tryNextLink:ra,logger:y})}else try{g=await Ou.getSSOTokenFromFile(e)}catch{throw new Vt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${S}`,{tryNextLink:ra,logger:y})}if(new Date(g.expiresAt).getTime()-Date.now()<=0)throw new Vt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${S}`,{tryNextLink:ra,logger:y});let{accessToken:x}=g,{SSOClient:R,GetRoleCredentialsCommand:P}=await Promise.resolve().then(function(){return yv()}),O=s||new R(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n,userAgentAppId:i?.userAgentAppId??a?.userAgentAppId})),z;try{z=await O.send(new P({accountId:r,roleName:o,accessToken:x}))}catch(ke){throw new Vt.CredentialsProviderError(ke,{tryNextLink:ra,logger:y})}let{roleCredentials:{accessKeyId:W,secretAccessKey:Z,sessionToken:Ie,expiration:Me,credentialScope:ne,accountId:ue}={}}=z;if(!W||!Z||!Ie||!Me)throw new Vt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ra,logger:y});let _e={accessKeyId:W,secretAccessKey:Z,sessionToken:Ie,expiration:new Date(Me),...ne&&{credentialScope:ne},...ue&&{accountId:ue}};return t?Ev.setCredentialFeature(_e,"CREDENTIALS_SSO","s"):Ev.setCredentialFeature(_e,"CREDENTIALS_SSO_LEGACY","u"),_e},_v=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new Vt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},QH=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,l=Ou.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let m=(await Ou.parseKnownFiles(e))[l];if(!m)throw new Vt.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!bv(m))throw new Vt.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(m?.sso_session){let P=(await Ou.loadSsoSessionData(e))[m.sso_session],O=` configurations in profile ${l} and sso-session ${m.sso_session}`;if(o&&o!==P.sso_region)throw new Vt.CredentialsProviderError("Conflicting SSO region"+O,{tryNextLink:!1,logger:e.logger});if(r&&r!==P.sso_start_url)throw new Vt.CredentialsProviderError("Conflicting SSO start_url"+O,{tryNextLink:!1,logger:e.logger});m.sso_region=P.sso_region,m.sso_start_url=P.sso_start_url}let{sso_start_url:h,sso_account_id:y,sso_region:g,sso_role_name:S,sso_session:x}=_v(m,e.logger);return Sv({ssoStartUrl:h,ssoSession:x,ssoAccountId:y,ssoRegion:g,ssoRoleName:S,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!o||!s)throw new Vt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return Sv({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Lu.fromSSO=QH;Lu.isSsoProfile=bv;Lu.validateSsoProfile=_v});function JH(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ZH(e){return{schemeId:"smithy.api#noAuth"}}var na,Tv,wv,e3,Iv,Hg=w(()=>{c();Ke();na=A(it());oa();Tv=async(e,t,r)=>({operation:(0,na.getSmithyContext)(t).operation,region:await(0,na.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wv=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(ZH(e));break}default:t.push(JH(e))}return t},e3=e=>Object.assign(e,{stsClientCtor:lr}),Iv=e=>{let t=e3(e),r=lo(t);return Object.assign(r,{authSchemePreference:(0,na.normalizeProvider)(e.authSchemePreference??[])})}});var Av,Mu,ku=w(()=>{c();Av=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Mu={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var kv,J,he,ge,Mn,Ln,Qe,Uv,Bv,Fv,xe,xv,ur,ds,Vg,Cv,zg,$v,vv,Je,Rv,Gv,jv,nt,xt,Pv,qv,Hv,Dv,zv,Nv,Ov,Lv,Mv,t3,Vv,Wv=w(()=>{c();kv="required",J="type",he="fn",ge="argv",Mn="ref",Ln="booleanEquals",Qe="stringEquals",Uv="sigv4",Bv="sts",Fv="us-east-1",xe="endpoint",xv="https://sts.{Region}.{PartitionResult#dnsSuffix}",ur="tree",ds="error",Vg="getAttr",Cv={[kv]:!1,[J]:"string"},zg={[kv]:!0,default:!1,[J]:"boolean"},$v={[Mn]:"Endpoint"},vv={[he]:"isSet",[ge]:[{[Mn]:"Region"}]},Je={[Mn]:"Region"},Rv={[he]:"aws.partition",[ge]:[Je],assign:"PartitionResult"},Gv={[Mn]:"UseFIPS"},jv={[Mn]:"UseDualStack"},nt={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Uv,signingName:Bv,signingRegion:Fv}]},headers:{}},xt={},Pv={conditions:[{[he]:Qe,[ge]:[Je,"aws-global"]}],[xe]:nt,[J]:xe},qv={[he]:Ln,[ge]:[Gv,!0]},Hv={[he]:Ln,[ge]:[jv,!0]},Dv={[he]:Vg,[ge]:[{[Mn]:"PartitionResult"},"supportsFIPS"]},zv={[Mn]:"PartitionResult"},Nv={[he]:Ln,[ge]:[!0,{[he]:Vg,[ge]:[zv,"supportsDualStack"]}]},Ov=[{[he]:"isSet",[ge]:[$v]}],Lv=[qv],Mv=[Hv],t3={version:"1.0",parameters:{Region:Cv,UseDualStack:zg,UseFIPS:zg,Endpoint:Cv,UseGlobalEndpoint:zg},rules:[{conditions:[{[he]:Ln,[ge]:[{[Mn]:"UseGlobalEndpoint"},!0]},{[he]:"not",[ge]:Ov},vv,Rv,{[he]:Ln,[ge]:[Gv,!1]},{[he]:Ln,[ge]:[jv,!1]}],rules:[{conditions:[{[he]:Qe,[ge]:[Je,"ap-northeast-1"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"ap-south-1"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"ap-southeast-1"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"ap-southeast-2"]}],endpoint:nt,[J]:xe},Pv,{conditions:[{[he]:Qe,[ge]:[Je,"ca-central-1"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"eu-central-1"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"eu-north-1"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"eu-west-1"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"eu-west-2"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"eu-west-3"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"sa-east-1"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,Fv]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"us-east-2"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"us-west-1"]}],endpoint:nt,[J]:xe},{conditions:[{[he]:Qe,[ge]:[Je,"us-west-2"]}],endpoint:nt,[J]:xe},{endpoint:{url:xv,properties:{authSchemes:[{name:Uv,signingName:Bv,signingRegion:"{Region}"}]},headers:xt},[J]:xe}],[J]:ur},{conditions:Ov,rules:[{conditions:Lv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[J]:ds},{conditions:Mv,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[J]:ds},{endpoint:{url:$v,properties:xt,headers:xt},[J]:xe}],[J]:ur},{conditions:[vv],rules:[{conditions:[Rv],rules:[{conditions:[qv,Hv],rules:[{conditions:[{[he]:Ln,[ge]:[!0,Dv]},Nv],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xt,headers:xt},[J]:xe}],[J]:ur},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[J]:ds}],[J]:ur},{conditions:Lv,rules:[{conditions:[{[he]:Ln,[ge]:[Dv,!0]}],rules:[{conditions:[{[he]:Qe,[ge]:[{[he]:Vg,[ge]:[zv,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:xt,headers:xt},[J]:xe},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xt,headers:xt},[J]:xe}],[J]:ur},{error:"FIPS is enabled but this partition does not support FIPS",[J]:ds}],[J]:ur},{conditions:Mv,rules:[{conditions:[Nv],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xt,headers:xt},[J]:xe}],[J]:ur},{error:"DualStack is enabled but this partition does not support DualStack",[J]:ds}],[J]:ur},Pv,{endpoint:{url:xv,properties:xt,headers:xt},[J]:xe}],[J]:ur}],[J]:ur},{error:"Invalid Configuration: Missing Region",[J]:ds}]},Vv=t3});var Kv,ps,r3,Yv,Xv=w(()=>{c();Kv=A(Oo()),ps=A(io());Wv();r3=new ps.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),Yv=(e,t={})=>r3.get(e,()=>(0,ps.resolveEndpoint)(Vv,{endpointParams:e,logger:t.logger}));ps.customEndpointFunctions.aws=Kv.awsEndpointFunctions});var Qv,Jv,Uu,Bu,Zv,eR=w(()=>{c();Ke();ut();Qv=A(te()),Jv=A(cn()),Uu=A(Ag()),Bu=A(ve());Hg();Xv();Zv=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Uu.fromBase64,base64Encoder:e?.base64Encoder??Uu.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Yv,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??wv,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Et},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Rr}],logger:e?.logger??new Qv.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??Jv.parseUrl,utf8Decoder:e?.utf8Decoder??Bu.fromUtf8,utf8Encoder:e?.utf8Encoder??Bu.toUtf8})});var Fu,Un,tR,$u,kn,Gu,rR,nR,oR,sR,iR,aR,cR=w(()=>{c();bg();Ke();Fu=A(vi()),Un=A(Dt());ut();tR=A(Ri()),$u=A(Br()),kn=A(kr()),Gu=A(Xn()),rR=A(Pi()),nR=A(Jo());eR();oR=A(te()),sR=A(Oi()),iR=A(te()),aR=e=>{(0,iR.emitWarningIfUnsupportedVersion)(process.version);let t=(0,sR.resolveDefaultsModeConfig)(e),r=()=>t().then(oR.loadConfigsForDefaultMode),n=Zv(e);Lo(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,kn.loadConfig)(Uo,o),bodyLengthChecker:e?.bodyLengthChecker??rR.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Fu.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Xl.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new Et},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Rr}],maxAttempts:e?.maxAttempts??(0,kn.loadConfig)($u.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,kn.loadConfig)(Un.NODE_REGION_CONFIG_OPTIONS,{...Un.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Gu.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,kn.loadConfig)({...$u.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||nR.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??tR.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Gu.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,kn.loadConfig)(Un.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,kn.loadConfig)(Un.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,kn.loadConfig)(Fu.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var lR,uR,dR=w(()=>{c();lR=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},uR=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ju,qu,Hu,pR,fR=w(()=>{c();ju=A(is()),qu=A(Te()),Hu=A(te());dR();pR=(e,t)=>{let r=Object.assign((0,ju.getAwsRegionExtensionConfiguration)(e),(0,Hu.getDefaultExtensionConfiguration)(e),(0,qu.getHttpHandlerExtensionConfiguration)(e),lR(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,ju.resolveAwsRegionExtensionConfiguration)(r),(0,Hu.resolveDefaultRuntimeConfig)(r),(0,qu.resolveHttpHandlerRuntimeConfig)(r),uR(r))}});var zu,mR,hR,Vu,gR,yR,ER,Wu,Wg,lr,oa=w(()=>{c();zu=A(Fs()),mR=A($s()),hR=A(Gs()),Vu=A(Yo()),gR=A(Dt());ut();yR=A(bi()),ER=A(In()),Wu=A(Br()),Wg=A(te());Hg();ku();cR();fR();lr=class extends Wg.Client{config;constructor(...[t]){let r=aR(t||{});super(r),this.initConfig=r;let n=Av(r),o=(0,Vu.resolveUserAgentConfig)(n),s=(0,Wu.resolveRetryConfig)(o),i=(0,gR.resolveRegionConfig)(s),a=(0,zu.resolveHostHeaderConfig)(i),l=(0,ER.resolveEndpointConfig)(a),u=Iv(l),m=pR(u,t?.extensions||[]);this.config=m,this.middlewareStack.use((0,Vu.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Wu.getRetryPlugin)(this.config)),this.middlewareStack.use((0,yR.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,zu.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,mR.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,hR.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(qs(this.config,{httpAuthSchemeParametersProvider:Tv,identityProviderConfigProvider:async h=>new no({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(Hs(this.config))}destroy(){super.destroy()}}});var SR,St,Ku=w(()=>{c();SR=A(te()),St=class e extends SR.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Kg,Yg,Xg,sa,ia,aa,ca,la,ua,Qg,Jg,da,pa=w(()=>{c();Kg=A(te());Ku();Yg=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Kg.SENSITIVE_STRING}}),Xg=e=>({...e,...e.Credentials&&{Credentials:Yg(e.Credentials)}}),sa=class e extends St{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ia=class e extends St{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},aa=class e extends St{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ca=class e extends St{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},la=class e extends St{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ua=class e extends St{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Qg=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Kg.SENSITIVE_STRING}}),Jg=e=>({...e,...e.Credentials&&{Credentials:Yg(e.Credentials)}}),da=class e extends St{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var bR,re,_R,TR,wR,IR,AR,n3,o3,s3,i3,a3,c3,l3,u3,d3,xR,p3,f3,m3,h3,g3,y3,CR,E3,S3,vR,b3,_3,T3,w3,I3,A3,x3,qr,C3,RR,PR,DR,NR,Zg,v3,ey,fs,R3,ty,ry,ms,ny,hs,oy,sy,iy,gs,ys,ay,cy,ly,Es,uy,Ss,bs,dy,py,jr,fy,my,hy,gy,yy,OR,Ey,Sy,by,Be,LR,P3,_y=w(()=>{c();Ke();bR=A(Te()),re=A(te());pa();Ku();_R=async(e,t)=>{let r=PR,n;return n=LR({...u3(e,t),[NR]:v3,[OR]:DR}),RR(t,r,"/",void 0,n)},TR=async(e,t)=>{let r=PR,n;return n=LR({...d3(e,t),[NR]:R3,[OR]:DR}),RR(t,r,"/",void 0,n)},wR=async(e,t)=>{if(e.statusCode>=300)return AR(e,t);let r=await zo(e.body,t),n={};return n=E3(r.AssumeRoleResult,t),{$metadata:qr(e),...n}},IR=async(e,t)=>{if(e.statusCode>=300)return AR(e,t);let r=await zo(e.body,t),n={};return n=S3(r.AssumeRoleWithWebIdentityResult,t),{$metadata:qr(e),...n}},AR=async(e,t)=>{let r={...e,body:await xl(e.body,t)},n=P3(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await n3(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await a3(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await c3(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await l3(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await o3(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await s3(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await i3(r,t);default:let o=r.body;return C3({output:e,parsedBody:o.Error,errorCode:n})}},n3=async(e,t)=>{let r=e.body,n=b3(r.Error,t),o=new sa({$metadata:qr(e),...n});return(0,re.decorateServiceException)(o,r)},o3=async(e,t)=>{let r=e.body,n=_3(r.Error,t),o=new da({$metadata:qr(e),...n});return(0,re.decorateServiceException)(o,r)},s3=async(e,t)=>{let r=e.body,n=T3(r.Error,t),o=new la({$metadata:qr(e),...n});return(0,re.decorateServiceException)(o,r)},i3=async(e,t)=>{let r=e.body,n=w3(r.Error,t),o=new ua({$metadata:qr(e),...n});return(0,re.decorateServiceException)(o,r)},a3=async(e,t)=>{let r=e.body,n=I3(r.Error,t),o=new ia({$metadata:qr(e),...n});return(0,re.decorateServiceException)(o,r)},c3=async(e,t)=>{let r=e.body,n=A3(r.Error,t),o=new aa({$metadata:qr(e),...n});return(0,re.decorateServiceException)(o,r)},l3=async(e,t)=>{let r=e.body,n=x3(r.Error,t),o=new ca({$metadata:qr(e),...n});return(0,re.decorateServiceException)(o,r)},u3=(e,t)=>{let r={};if(e[Ss]!=null&&(r[Ss]=e[Ss]),e[bs]!=null&&(r[bs]=e[bs]),e[ys]!=null){let n=xR(e[ys],t);e[ys]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[gs]!=null&&(r[gs]=e[gs]),e[hs]!=null&&(r[hs]=e[hs]),e[hy]!=null){let n=y3(e[hy],t);e[hy]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[yy]!=null){let n=g3(e[yy],t);e[yy]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[sy]!=null&&(r[sy]=e[sy]),e[fy]!=null&&(r[fy]=e[fy]),e[gy]!=null&&(r[gy]=e[gy]),e[jr]!=null&&(r[jr]=e[jr]),e[cy]!=null){let n=m3(e[cy],t);e[cy]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},d3=(e,t)=>{let r={};if(e[Ss]!=null&&(r[Ss]=e[Ss]),e[bs]!=null&&(r[bs]=e[bs]),e[Sy]!=null&&(r[Sy]=e[Sy]),e[ly]!=null&&(r[ly]=e[ly]),e[ys]!=null){let n=xR(e[ys],t);e[ys]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[gs]!=null&&(r[gs]=e[gs]),e[hs]!=null&&(r[hs]=e[hs]),r},xR=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=p3(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},p3=(e,t)=>{let r={};return e[by]!=null&&(r[by]=e[by]),r},f3=(e,t)=>{let r={};return e[ay]!=null&&(r[ay]=e[ay]),e[ny]!=null&&(r[ny]=e[ny]),r},m3=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=f3(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},h3=(e,t)=>{let r={};return e[iy]!=null&&(r[iy]=e[iy]),e[Ey]!=null&&(r[Ey]=e[Ey]),r},g3=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},y3=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=h3(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},CR=(e,t)=>{let r={};return e[ey]!=null&&(r[ey]=(0,re.expectString)(e[ey])),e[ty]!=null&&(r[ty]=(0,re.expectString)(e[ty])),r},E3=(e,t)=>{let r={};return e[ms]!=null&&(r[ms]=vR(e[ms],t)),e[fs]!=null&&(r[fs]=CR(e[fs],t)),e[Es]!=null&&(r[Es]=(0,re.strictParseInt32)(e[Es])),e[jr]!=null&&(r[jr]=(0,re.expectString)(e[jr])),r},S3=(e,t)=>{let r={};return e[ms]!=null&&(r[ms]=vR(e[ms],t)),e[py]!=null&&(r[py]=(0,re.expectString)(e[py])),e[fs]!=null&&(r[fs]=CR(e[fs],t)),e[Es]!=null&&(r[Es]=(0,re.strictParseInt32)(e[Es])),e[uy]!=null&&(r[uy]=(0,re.expectString)(e[uy])),e[ry]!=null&&(r[ry]=(0,re.expectString)(e[ry])),e[jr]!=null&&(r[jr]=(0,re.expectString)(e[jr])),r},vR=(e,t)=>{let r={};return e[Zg]!=null&&(r[Zg]=(0,re.expectString)(e[Zg])),e[dy]!=null&&(r[dy]=(0,re.expectString)(e[dy])),e[my]!=null&&(r[my]=(0,re.expectString)(e[my])),e[oy]!=null&&(r[oy]=(0,re.expectNonNull)((0,re.parseRfc3339DateTimeWithOffset)(e[oy]))),r},b3=(e,t)=>{let r={};return e[Be]!=null&&(r[Be]=(0,re.expectString)(e[Be])),r},_3=(e,t)=>{let r={};return e[Be]!=null&&(r[Be]=(0,re.expectString)(e[Be])),r},T3=(e,t)=>{let r={};return e[Be]!=null&&(r[Be]=(0,re.expectString)(e[Be])),r},w3=(e,t)=>{let r={};return e[Be]!=null&&(r[Be]=(0,re.expectString)(e[Be])),r},I3=(e,t)=>{let r={};return e[Be]!=null&&(r[Be]=(0,re.expectString)(e[Be])),r},A3=(e,t)=>{let r={};return e[Be]!=null&&(r[Be]=(0,re.expectString)(e[Be])),r},x3=(e,t)=>{let r={};return e[Be]!=null&&(r[Be]=(0,re.expectString)(e[Be])),r},qr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),C3=(0,re.withBaseException)(St),RR=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:l}=await e.endpoint(),u={protocol:i,hostname:s,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+r:l+r,headers:t};return n!==void 0&&(u.hostname=n),o!==void 0&&(u.body=o),new bR.HttpRequest(u)},PR={"content-type":"application/x-www-form-urlencoded"},DR="2011-06-15",NR="Action",Zg="AccessKeyId",v3="AssumeRole",ey="AssumedRoleId",fs="AssumedRoleUser",R3="AssumeRoleWithWebIdentity",ty="Arn",ry="Audience",ms="Credentials",ny="ContextAssertion",hs="DurationSeconds",oy="Expiration",sy="ExternalId",iy="Key",gs="Policy",ys="PolicyArns",ay="ProviderArn",cy="ProvidedContexts",ly="ProviderId",Es="PackedPolicySize",uy="Provider",Ss="RoleArn",bs="RoleSessionName",dy="SecretAccessKey",py="SubjectFromWebIdentityToken",jr="SourceIdentity",fy="SerialNumber",my="SessionToken",hy="Tags",gy="TokenCode",yy="TransitiveTagKeys",OR="Version",Ey="Value",Sy="WebIdentityToken",by="arn",Be="message",LR=e=>Object.entries(e).map(([t,r])=>(0,re.extendedEncodeURIComponent)(t)+"="+(0,re.extendedEncodeURIComponent)(r)).join("&"),P3=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var MR,kR,UR,Eo,Yu=w(()=>{c();MR=A(In()),kR=A(Yn()),UR=A(te());ku();pa();_y();Eo=class extends UR.Command.classBuilder().ep(Mu).m(function(t,r,n,o){return[(0,kR.getSerdePlugin)(n,this.serialize,this.deserialize),(0,MR.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Xg).ser(_R).de(wR).build(){}});var BR,FR,$R,So,Xu=w(()=>{c();BR=A(In()),FR=A(Yn()),$R=A(te());ku();pa();_y();So=class extends $R.Command.classBuilder().ep(Mu).m(function(t,r,n,o){return[(0,FR.getSerdePlugin)(n,this.serialize,this.deserialize),(0,BR.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Qg,Jg).ser(TR).de(IR).build(){}});var GR,D3,Qu,jR=w(()=>{c();GR=A(te());Yu();Xu();oa();D3={AssumeRoleCommand:Eo,AssumeRoleWithWebIdentityCommand:So},Qu=class extends lr{};(0,GR.createAggregatedClient)(D3,Qu)});var qR=w(()=>{c();Yu();Xu()});var HR=w(()=>{c();pa()});var zR,VR,WR,KR,YR,XR,QR=w(()=>{c();zt();zR=A(is());Yu();Xu();VR=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},WR=async(e,t,r,n={})=>{let o=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t,i=await(0,zR.stsRegionDefaultResolver)(n)();return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),o??s??i},KR=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:m=e?.parentClientConfig?.logger,profile:h=e?.parentClientConfig?.profile,region:y,requestHandler:g=e?.parentClientConfig?.requestHandler,credentialProviderLogger:S,userAgentAppId:x=e?.parentClientConfig?.userAgentAppId}=e,R=await WR(y,e?.parentClientConfig?.region,S,{logger:m,profile:h}),P=!XR(g);r=new t({...e,userAgentAppId:x,profile:h,credentialDefaultProvider:()=>async()=>n,region:R,requestHandler:P?g:void 0,logger:m})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Eo(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let l=VR(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return ln(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},YR=(e,t)=>{let r;return async n=>{if(!r){let{logger:l=e?.parentClientConfig?.logger,profile:u=e?.parentClientConfig?.profile,region:m,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y,userAgentAppId:g=e?.parentClientConfig?.userAgentAppId}=e,S=await WR(m,e?.parentClientConfig?.region,y,{logger:l,profile:u}),x=!XR(h);r=new t({...e,userAgentAppId:g,profile:u,region:S,requestHandler:x?h:void 0,logger:l})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new So(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=VR(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&ln(a,"RESOLVED_ACCOUNT_ID","T"),ln(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},XR=e=>e?.metadata?.handlerProtocol==="h2"});var JR,ZR,eP,N3,tP=w(()=>{c();QR();oa();JR=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,ZR=(e={},t)=>KR(e,JR(lr,t)),eP=(e={},t)=>YR(e,JR(lr,t)),N3=e=>t=>e({roleAssumer:ZR(t),roleAssumerWithWebIdentity:eP(t),...t})});var Ty={};ht(Ty,{AssumeRoleCommand:()=>Eo,AssumeRoleResponseFilterSensitiveLog:()=>Xg,AssumeRoleWithWebIdentityCommand:()=>So,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Qg,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Jg,CredentialsFilterSensitiveLog:()=>Yg,ExpiredTokenException:()=>sa,IDPCommunicationErrorException:()=>da,IDPRejectedClaimException:()=>la,InvalidIdentityTokenException:()=>ua,MalformedPolicyDocumentException:()=>ia,PackedPolicyTooLargeException:()=>aa,RegionDisabledException:()=>ca,STS:()=>Qu,STSClient:()=>lr,STSServiceException:()=>St,__Client:()=>Wg.Client,decorateDefaultCredentialProvider:()=>N3,getDefaultRoleAssumer:()=>ZR,getDefaultRoleAssumerWithWebIdentity:()=>eP});var wy=w(()=>{c();oa();jR();qR();HR();tP();Ku()});var xy=v(rP=>{"use strict";c();var Ay=Mr(),Iy=dt(),O3=me("child_process"),L3=me("util"),M3=(zt(),ae(un)),k3=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return M3.setCredentialFeature(o,"CREDENTIALS_PROCESS","w"),o},U3=async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=L3.promisify(Ay.externalDataInterceptor?.getTokenRecord?.().exec??O3.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return k3(e,a,t)}catch(i){throw new Iy.CredentialsProviderError(i.message,{logger:r})}}else throw new Iy.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Iy.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},B3=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await Ay.parseKnownFiles(e);return U3(Ay.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};rP.fromProcess=B3});var Cy=v(dr=>{"use strict";c();var F3=dr&&dr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$3=dr&&dr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),G3=dr&&dr.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&F3(r,t,n[o]);return $3(r,t),r}}();Object.defineProperty(dr,"__esModule",{value:!0});dr.fromWebToken=void 0;var j3=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:l}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:m}=await Promise.resolve().then(()=>G3((wy(),ae(Ty))));u=m({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:l})};dr.fromWebToken=j3});var oP=v(Ju=>{"use strict";c();Object.defineProperty(Ju,"__esModule",{value:!0});Ju.fromTokenFile=void 0;var q3=(zt(),ae(un)),H3=dt(),z3=Mr(),V3=me("fs"),W3=Cy(),nP="AWS_WEB_IDENTITY_TOKEN_FILE",K3="AWS_ROLE_ARN",Y3="AWS_ROLE_SESSION_NAME",X3=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[nP],n=e?.roleArn??process.env[K3],o=e?.roleSessionName??process.env[Y3];if(!r||!n)throw new H3.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,W3.fromWebToken)({...e,webIdentityToken:z3.externalDataInterceptor?.getTokenRecord?.()[r]??(0,V3.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:o})(t);return r===process.env[nP]&&(0,q3.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};Ju.fromTokenFile=X3});var vy=v(fa=>{"use strict";c();var sP=oP(),iP=Cy();Object.keys(sP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(fa,e)&&Object.defineProperty(fa,e,{enumerable:!0,get:function(){return sP[e]}})});Object.keys(iP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(fa,e)&&Object.defineProperty(fa,e,{enumerable:!0,get:function(){return iP[e]}})})});var pP=v(dP=>{"use strict";c();var Py=Mr(),ma=dt(),Bn=(zt(),ae(un)),Q3=(e,t,r)=>{let n={EcsContainer:async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>A(yg())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>A(xi()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>ma.chain(s(o??{}),i(o))().then(Ry)},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>A(xi()));return async()=>s(o)().then(Ry)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>A(lg()));return async()=>s(o)().then(Ry)}};if(e in n)return n[e];throw new ma.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},Ry=e=>Bn.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),J3=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Z3(e,{profile:t,logger:r})||e4(e,{profile:t,logger:r})),Z3=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},e4=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},t4=async(e,t,r,n={},o)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:a}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:u}=await Promise.resolve().then(()=>(wy(),Ty));r.roleAssumer=u({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:a??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new ma.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${Py.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let l=i?o(i,t,r,{...n,[i]:!0},aP(t[i]??{})):(await Q3(s.credential_source,e,r.logger)(r))();if(aP(s))return l.then(u=>Bn.setCredentialFeature(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let u={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:m}=s;if(m){if(!r.mfaCodeProvider)throw new ma.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});u.SerialNumber=m,u.TokenCode=await r.mfaCodeProvider(m)}let h=await l;return r.roleAssumer(h,u).then(y=>Bn.setCredentialFeature(y,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},aP=e=>!e.role_arn&&!!e.credential_source,r4=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",n4=async(e,t)=>Promise.resolve().then(()=>A(xy())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>Bn.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),o4=async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>A(qg()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?Bn.setCredentialFeature(o,"CREDENTIALS_PROFILE_SSO","r"):Bn.setCredentialFeature(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},s4=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),cP=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,lP=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Bn.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},i4=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,a4=async(e,t)=>Promise.resolve().then(()=>A(vy())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>Bn.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),uP=async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&cP(s))return lP(s,r);if(o||J3(s,{profile:e,logger:r.logger}))return t4(e,t,r,n,uP);if(cP(s))return lP(s,r);if(i4(s))return a4(s,r);if(r4(s))return n4(r,e);if(s4(s))return await o4(e,s,r);throw new ma.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},c4=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await Py.parseKnownFiles(r);return uP(Py.getProfileName({profile:e.profile??t?.profile}),n,r)};dP.fromIni=c4});var gP=v(Zu=>{"use strict";c();var Dy=lg(),ha=dt(),l4=Mr(),fP="AWS_EC2_METADATA_DISABLED",u4=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>A(xi()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>A(yg()));return ha.chain(s(e),n(e))}return process.env[fP]&&process.env[fP]!=="false"?async()=>{throw new ha.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))};function d4(e,t){let r=p4(e),n,o,s,i=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),n)await n;else if(!s||t?.(s))if(s)o||(o=r(a).then(l=>{s=l,o=void 0}));else return n=r(a).then(l=>{s=l,n=void 0}),i(a);return s};return i}var p4=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(o){if(r=o,o?.tryNextLink)continue;throw o}throw r},mP=!1,f4=(e={})=>d4([async()=>{if(e.profile??process.env[l4.ENV_PROFILE])throw process.env[Dy.ENV_KEY]&&process.env[Dy.ENV_SECRET]&&(mP||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),mP=!0)),new ha.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),Dy.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e;if(!r&&!n&&!o&&!s&&!i)throw new ha.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>A(qg()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>A(pP()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>A(xy()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>A(vy()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await u4(e))()),async()=>{throw new ha.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],hP),m4=e=>e?.expiration!==void 0,hP=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;Zu.credentialsTreatedAsExpired=hP;Zu.credentialsWillNeedRefresh=m4;Zu.defaultProvider=f4});var yP=v(ed=>{"use strict";c();Object.defineProperty(ed,"__esModule",{value:!0});ed.fromBase64=void 0;var h4=Ve(),g4=/^[A-Za-z0-9+/]*={0,2}$/,y4=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!g4.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,h4.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};ed.fromBase64=y4});var EP=v(td=>{"use strict";c();Object.defineProperty(td,"__esModule",{value:!0});td.toBase64=void 0;var E4=Ve(),S4=ve(),b4=e=>{let t;if(typeof e=="string"?t=(0,S4.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,E4.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};td.toBase64=b4});var _P=v(ga=>{"use strict";c();var SP=yP(),bP=EP();Object.keys(SP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ga,e)&&Object.defineProperty(ga,e,{enumerable:!0,get:function(){return SP[e]}})});Object.keys(bP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ga,e)&&Object.defineProperty(ga,e,{enumerable:!0,get:function(){return bP[e]}})})});var VP=v(nd=>{"use strict";c();Object.defineProperty(nd,"__esModule",{value:!0});nd.ruleSet=void 0;var Ly="required",V="type",Fe="rules",be="conditions",B="fn",F="argv",ce="ref",rd="assign",pr="url",fr="properties",mr="headers",qP="metricValues",_4=!1,$e="error",ot="stringEquals",TP="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",bt="endpoint",qe="tree",My="dynamodb",ya={[Ly]:!1,[V]:"string"},wP={[Ly]:!0,default:!1,[V]:"boolean"},IP={[B]:"isSet",[F]:[{[ce]:"Endpoint"}]},T4={[ce]:"Endpoint"},AP={[B]:"isSet",[F]:[{[ce]:"Region"}]},HP={[ce]:"Region"},xP={[B]:"aws.partition",[F]:[HP],[rd]:"PartitionResult"},CP={[be]:[{[B]:"booleanEquals",[F]:[{[ce]:"UseFIPS"},!0]}],[$e]:"Invalid Configuration: FIPS and custom endpoint are not supported",[V]:$e},_s={[B]:"booleanEquals",[F]:[{[ce]:"UseFIPS"},!0]},vP={[be]:[{[B]:"booleanEquals",[F]:[{[ce]:"UseDualStack"},!0]}],[$e]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[V]:$e},zP={[B]:"booleanEquals",[F]:[{[ce]:"UseDualStack"},!0]},RP={[bt]:{[pr]:"{Endpoint}",[fr]:{},[mr]:{}},[V]:bt},Hr={},PP={[B]:"booleanEquals",[F]:[{[B]:"getAttr",[F]:[{[ce]:"PartitionResult"},"supportsFIPS"]},!0]},DP={[B]:"booleanEquals",[F]:[{[B]:"getAttr",[F]:[{[ce]:"PartitionResult"},"supportsDualStack"]},!0]},Ny={[be]:[{[B]:"isSet",[F]:[{[ce]:"AccountIdEndpointMode"}]},{[B]:ot,[F]:[{[ce]:"AccountIdEndpointMode"},"required"]}],[Fe]:[{[$e]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:$e}],[V]:qe},Ea={[B]:"getAttr",[F]:[{[ce]:"PartitionResult"},"name"]},NP={[bt]:{[pr]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[fr]:{},[mr]:{}},[V]:bt},OP={[pr]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[fr]:{[qP]:["O"]},[mr]:{}},Oy={[qP]:["O"]},LP={[$e]:"Credentials-sourced account ID parameter is invalid",[V]:$e},MP={[be]:[{[B]:"isSet",[F]:[{[ce]:"AccountIdEndpointMode"}]},{[B]:ot,[F]:[{[ce]:"AccountIdEndpointMode"},"required"]}],[Fe]:[{[be]:[{[B]:"not",[F]:[_s]}],[Fe]:[{[be]:[{[B]:ot,[F]:[Ea,"aws"]}],[Fe]:[{[$e]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[V]:$e}],[V]:qe},{[$e]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[V]:$e}],[V]:qe},{[$e]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:$e}],[V]:qe},kP={[pr]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[fr]:Oy,[mr]:{}},UP=[_s],BP=[zP],FP=[{[B]:"isSet",[F]:[{[ce]:"AccountIdEndpointMode"}]},{[B]:"not",[F]:[{[B]:ot,[F]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[B]:ot,[F]:[Ea,"aws"]},{[B]:"not",[F]:[_s]},{[B]:"isSet",[F]:[{[ce]:"ResourceArn"}]},{[B]:"aws.parseArn",[F]:[{[ce]:"ResourceArn"}],[rd]:"ParsedArn"},{[B]:ot,[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"service"]},My]},{[B]:"isValidHostLabel",[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"region"]},!1]},{[B]:ot,[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"region"]},"{Region}"]},{[B]:"isValidHostLabel",[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"accountId"]},!1]}],$P=[{[B]:"isSet",[F]:[{[ce]:"AccountIdEndpointMode"}]},{[B]:"not",[F]:[{[B]:ot,[F]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[B]:ot,[F]:[Ea,"aws"]},{[B]:"not",[F]:[_s]},{[B]:"isSet",[F]:[{[ce]:"ResourceArnList"}]},{[B]:"getAttr",[F]:[{[ce]:"ResourceArnList"},"[0]"],[rd]:"FirstArn"},{[B]:"aws.parseArn",[F]:[{[ce]:"FirstArn"}],[rd]:"ParsedArn"},{[B]:ot,[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"service"]},My]},{[B]:"isValidHostLabel",[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"region"]},!1]},{[B]:ot,[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"region"]},"{Region}"]},{[B]:"isValidHostLabel",[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"accountId"]},!1]}],GP=[{[B]:"isSet",[F]:[{[ce]:"AccountIdEndpointMode"}]},{[B]:"not",[F]:[{[B]:ot,[F]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[B]:ot,[F]:[Ea,"aws"]},{[B]:"not",[F]:[_s]},{[B]:"isSet",[F]:[{[ce]:"AccountId"}]}],jP=[{[B]:"isValidHostLabel",[F]:[{[ce]:"AccountId"},!1]}],w4={version:"1.0",parameters:{Region:ya,UseDualStack:wP,UseFIPS:wP,Endpoint:ya,AccountId:ya,AccountIdEndpointMode:ya,ResourceArn:ya,ResourceArnList:{[Ly]:_4,[V]:"stringArray"}},[Fe]:[{[be]:[IP,AP,xP],[Fe]:[CP,vP,{[be]:[{[B]:ot,[F]:[T4,TP]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[V]:$e},RP],[V]:qe},{[be]:[IP],[Fe]:[CP,vP,RP],[V]:qe},{[be]:[AP],[Fe]:[{[be]:[xP],[Fe]:[{[be]:[{[B]:ot,[F]:[HP,"local"]}],[Fe]:[{[be]:UP,error:"Invalid Configuration: FIPS and local endpoint are not supported",[V]:$e},{[be]:BP,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[V]:$e},{endpoint:{[pr]:"http://localhost:8000",[fr]:{authSchemes:[{name:"sigv4",signingName:My,signingRegion:"us-east-1"}]},[mr]:Hr},[V]:bt}],[V]:qe},{[be]:[_s,zP],[Fe]:[{[be]:[PP,DP],[Fe]:[Ny,{endpoint:{[pr]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[fr]:Hr,[mr]:Hr},[V]:bt}],[V]:qe},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[V]:$e}],[V]:qe},{[be]:UP,[Fe]:[{[be]:[PP],[Fe]:[{[be]:[{[B]:ot,[F]:[Ea,"aws-us-gov"]}],[Fe]:[Ny,NP],[V]:qe},Ny,{endpoint:{[pr]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[fr]:Hr,[mr]:Hr},[V]:bt}],[V]:qe},{error:"FIPS is enabled but this partition does not support FIPS",[V]:$e}],[V]:qe},{[be]:BP,[Fe]:[{[be]:[DP],[Fe]:[{[be]:FP,endpoint:OP,[V]:bt},{[be]:$P,endpoint:OP,[V]:bt},{[be]:GP,[Fe]:[{[be]:jP,[Fe]:[{endpoint:{[pr]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[fr]:Oy,[mr]:Hr},[V]:bt}],[V]:qe},LP],[V]:qe},MP,{endpoint:{[pr]:TP,[fr]:Hr,[mr]:Hr},[V]:bt}],[V]:qe},{error:"DualStack is enabled but this partition does not support DualStack",[V]:$e}],[V]:qe},{[be]:FP,endpoint:kP,[V]:bt},{[be]:$P,endpoint:kP,[V]:bt},{[be]:GP,[Fe]:[{[be]:jP,[Fe]:[{endpoint:{[pr]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[fr]:Oy,[mr]:Hr},[V]:bt}],[V]:qe},LP],[V]:qe},MP,NP],[V]:qe}],[V]:qe},{error:"Invalid Configuration: Missing Region",[V]:$e}]};nd.ruleSet=w4});var WP=v(od=>{"use strict";c();Object.defineProperty(od,"__esModule",{value:!0});od.defaultEndpointResolver=void 0;var I4=Oo(),ky=io(),A4=VP(),x4=new ky.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),C4=(e,t={})=>x4.get(e,()=>(0,ky.resolveEndpoint)(A4.ruleSet,{endpointParams:e,logger:t.logger}));od.defaultEndpointResolver=C4;ky.customEndpointFunctions.aws=I4.awsEndpointFunctions});var XP=v(sd=>{"use strict";c();Object.defineProperty(sd,"__esModule",{value:!0});sd.getRuntimeConfig=void 0;var v4=(Ke(),ae(sr)),R4=(jh(),ae(SA)),P4=te(),D4=cn(),KP=_P(),YP=ve(),N4=cg(),O4=WP(),L4=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??KP.fromBase64,base64Encoder:e?.base64Encoder??KP.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??O4.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??N4.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new v4.AwsSdkSigV4Signer}],logger:e?.logger??new P4.NoOpLogger,protocol:e?.protocol??new R4.AwsJson1_0Protocol({defaultNamespace:"com.amazonaws.dynamodb",serviceTarget:"DynamoDB_20120810",awsQueryCompatible:!1}),serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??D4.parseUrl,utf8Decoder:e?.utf8Decoder??YP.fromUtf8,utf8Encoder:e?.utf8Encoder??YP.toUtf8});sd.getRuntimeConfig=L4});var tD=v(ad=>{"use strict";c();Object.defineProperty(ad,"__esModule",{value:!0});ad.getRuntimeConfig=void 0;var M4=(oi(),ae(ni)),k4=M4.__importDefault(vx()),QP=(Ke(),ae(sr)),U4=(qp(),ae(jp)),B4=gP(),F4=ef(),JP=vi(),id=Dt(),$4=Ri(),ZP=Br(),zr=kr(),eD=Xn(),G4=Pi(),j4=Jo(),q4=XP(),H4=te(),z4=Oi(),V4=te(),W4=e=>{(0,V4.emitWarningIfUnsupportedVersion)(process.version);let t=(0,z4.resolveDefaultsModeConfig)(e),r=()=>t().then(H4.loadConfigsForDefaultMode),n=(0,q4.getRuntimeConfig)(e);(0,QP.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,zr.loadConfig)(U4.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,zr.loadConfig)(QP.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??G4.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??B4.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,JP.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:k4.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,zr.loadConfig)(F4.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,zr.loadConfig)(ZP.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,zr.loadConfig)(id.NODE_REGION_CONFIG_OPTIONS,{...id.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:eD.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,zr.loadConfig)({...ZP.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||j4.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??$4.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??eD.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,zr.loadConfig)(id.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,zr.loadConfig)(id.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,zr.loadConfig)(JP.NODE_APP_ID_CONFIG_OPTIONS,o)}};ad.getRuntimeConfig=W4});var sD=v(ft=>{"use strict";c();var cd=()=>{let e=new WeakSet;return(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r}},K4=e=>new Promise(t=>setTimeout(t,e*1e3)),oD={minDelay:2,maxDelay:120};ft.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(ft.WaiterState||(ft.WaiterState={}));var Y4=e=>{if(e.state===ft.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},cd())}`);throw t.name="AbortError",t}else if(e.state===ft.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},cd())}`);throw t.name="TimeoutError",t}else if(e.state!==ft.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,cd())}`);return e},X4=(e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return Q4(e,o)},Q4=(e,t)=>e+Math.random()*(t-e),J4=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let l={},{state:u,reason:m}=await a(o,i);if(m){let S=rD(m);l[S]|=0,l[S]+=1}if(u!==ft.WaiterState.RETRY)return{state:u,reason:m,observedResponses:l};let h=1,y=Date.now()+r*1e3,g=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let P="AbortController signal aborted.";return l[P]|=0,l[P]+=1,{state:ft.WaiterState.ABORTED,observedResponses:l}}let S=X4(e,t,g,h);if(Date.now()+S*1e3>y)return{state:ft.WaiterState.TIMEOUT,observedResponses:l};await K4(S);let{state:x,reason:R}=await a(o,i);if(R){let P=rD(R);l[P]|=0,l[P]+=1}if(x!==ft.WaiterState.RETRY)return{state:x,reason:R,observedResponses:l};h+=1}},rD=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e,cd())??"Unknown"),Z4=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},nD=e=>{let t,r=new Promise(n=>{t=()=>n({state:ft.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},ez=async(e,t,r)=>{let n={...oD,...e};Z4(n);let o=[J4(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=nD(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=nD(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})};ft.checkExceptions=Y4;ft.createWaiter=ez;ft.waiterServiceDefaults=oD});var FE=v(I=>{"use strict";c();var tz=(qp(),ae(jp)),rz=ef(),iD=Fs(),nz=$s(),oz=Gs(),aD=Yo(),sz=Dt(),Vr=(ut(),ae(oo)),se=(Re(),ae(zf)),iz=bi(),$=In(),cD=Br(),U=te(),lD=cg(),az=tD(),uD=is(),dD=Te(),Wt=sD(),cz=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),G={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},ie=class fD extends U.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,fD.prototype)}},lz={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},uz={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},dz={B:"B",N:"N",S:"S"},pz={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},fz={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},mz={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},hz={HASH:"HASH",RANGE:"RANGE"},gz={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},yz={AES256:"AES256",KMS:"KMS"},Ez={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},Sz={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},bz={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},mD=class hD extends ie{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,hD.prototype)}},gD=class yD extends ie{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,yD.prototype)}},_z={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Tz={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},wz={ALL_OLD:"ALL_OLD",NONE:"NONE"},Iz={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},ED=class SD extends ie{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,SD.prototype)}},bD=class _D extends ie{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,_D.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},TD=class wD extends ie{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,wD.prototype),this.throttlingReasons=t.throttlingReasons}},ID=class AD extends ie{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,AD.prototype),this.Message=t.Message}},xD=class CD extends ie{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,CD.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},vD=class RD extends ie{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,RD.prototype)}},Az={NONE:"NONE",SIZE:"SIZE"},PD=class DD extends ie{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,DD.prototype)}},ND=class OD extends ie{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,OD.prototype)}},xz={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},Cz={AND:"AND",OR:"OR"},vz={DISABLED:"DISABLED",ENABLED:"ENABLED"},Rz={DISABLED:"DISABLED",ENABLED:"ENABLED"},LD=class MD extends ie{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,MD.prototype)}},Pz={DISABLE:"DISABLE",ENABLE:"ENABLE"},Dz={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},Nz={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},kD=class UD extends ie{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,UD.prototype)}},BD=class FD extends ie{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,FD.prototype)}},$D=class GD extends ie{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,GD.prototype)}},Oz={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Lz={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Mz={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},kz={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},Uz={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},jD=class qD extends ie{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,qD.prototype)}},Bz={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},Fz={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},HD=class zD extends ie{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,zD.prototype)}},$z={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},VD=class WD extends ie{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,WD.prototype)}},KD=class YD extends ie{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,YD.prototype)}},Gz={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},jz={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},qz={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},Hz={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},zz={AES256:"AES256",KMS:"KMS"},XD=class QD extends ie{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,QD.prototype)}},JD=class ZD extends ie{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,ZD.prototype)}},Vz={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Wz={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},Kz={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},eN=class tN extends ie{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,tN.prototype)}},Yz={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},rN=class nN extends ie{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,nN.prototype)}},oN=class sN extends ie{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,sN.prototype),this.Message=t.Message}},iN=class aN extends ie{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,aN.prototype),this.Message=t.Message}},cN=class lN extends ie{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,lN.prototype)}},uN=class dN extends ie{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,dN.prototype)}},pN=class fN extends ie{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,fN.prototype)}},mN=class hN extends ie{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,hN.prototype)}},Xz={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},gN=class yN extends ie{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,yN.prototype)}},EN=class SN extends ie{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,SN.prototype)}},bN=class _N extends ie{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,_N.prototype)}},TN=class wN extends ie{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,wN.prototype)}},IN=class AN extends ie{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,AN.prototype)}};I.AttributeValue=void 0;(function(e){e.visit=(t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1])})(I.AttributeValue||(I.AttributeValue={}));var xN=class CN extends ie{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,CN.prototype),this.Item=t.Item}},vN=class RN extends ie{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,RN.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},Qz="Action",Jz="ArchivalBackupArn",Uy="ApproximateCreationDateTimePrecision",Zz="AttributeDefinition",eV="ArchivalDateTime",xa="AttributeDefinitions",tV="AttributeMap",rV="AccountMaxReadCapacityUnits",nV="AccountMaxWriteCapacityUnits",sp="AttributeName",oV="ArchivalReason",PN="ArchivalSummary",DN="AutoScalingDisabled",sV="AutoScalingPolicyDescription",iV="AutoScalingPolicyDescriptionList",aV="AutoScalingPolicyUpdate",NN="AutoScalingRoleArn",cV="AutoScalingSettingsDescription",lV="AutoScalingSettingsUpdate",uV="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",dV="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",pV="AttributeType",ip="AttributesToGet",ON="AttributeUpdates",fV="AttributeValue",By="AttributeValueList",mV="AttributeValueUpdate",hV="Address",Fy="Attributes",gV="Backfilling",Ca="BackupArn",LN="BackupCreationDateTime",$y="BackupDescription",Gy="BackupDetails",MN="BackupExpiryDateTime",yV="BatchExecuteStatement",EV="BatchExecuteStatementInput",SV="BatchExecuteStatementOutput",bV="BatchGetItem",_V="BatchGetItemInput",TV="BatchGetItemOutput",wV="BatchGetResponseMap",IV="BatchGetRequestMap",AV="BackupInUseException",va="BillingMode",kN="BillingModeOverride",UN="BillingModeSummary",jy="BackupName",xV="BackupNotFoundException",CV="BOOL",BN="BackupStatus",FN="BackupSizeBytes",vV="BilledSizeBytes",RV="BatchStatementError",PV="BatchStatementRequest",DV="BatchStatementResponse",NV="BS",OV="BackupSummary",$N="BackupSummaries",qy="BackupType",LV="BatchWriteItem",MV="BatchWriteItemInput",kV="BatchWriteItemOutput",UV="BatchWriteItemRequestMap",BV="B",GN="Code",FV="CreateBackup",Hy="ContinuousBackupsDescription",$V="CreateBackupInput",GV="CreateBackupOutput",jV="ContinuousBackupsStatus",qV="ContinuousBackupsUnavailableException",_t="ConsumedCapacity",HV="ConditionalCheckFailedException",zV="ConsumedCapacityMultiple",jN="ConditionCheck",qN="CreationDateTime",bo="ConditionExpression",VV="CreateGlobalSecondaryIndexAction",WV="CreateGlobalTable",KV="CreateGlobalTableInput",YV="CreateGlobalTableOutput",XV="CreateGlobalTableWitnessGroupMemberAction",QV="ContributorInsightsAction",ap="ContributorInsightsMode",JV="ContributorInsightsRuleList",ZV="ContributorInsightsSummary",zy="ContributorInsightsStatus",HN="ContributorInsightsSummaries",zN="ComparisonOperator",Ra="ConditionalOperator",eW="CsvOptions",tW="CachePeriodInMinutes",ws="ConsistentRead",rW="CreateReplicaAction",nW="CreateReplicationGroupMemberAction",oW="CancellationReasonList",sW="ConfirmRemoveSelfResourceAccess",VN="ClientRequestToken",iW="CancellationReason",aW="CancellationReasons",cp="ClientToken",cW="CreateTableInput",lW="CreateTableOutput",uW="CreateTable",WN="CapacityUnits",KN="CloudWatchLogGroupArn",dW="Capacity",pW="Condition",YN="Count",lp="Create",fW="Csv",mW="Delimiter",hW="DeleteBackup",gW="DeleteBackupInput",yW="DescribeBackupInput",EW="DeleteBackupOutput",SW="DescribeBackupOutput",bW="DescribeBackup",_W="DescribeContinuousBackups",TW="DescribeContinuousBackupsInput",wW="DescribeContinuousBackupsOutput",IW="DescribeContributorInsights",AW="DescribeContributorInsightsInput",xW="DescribeContributorInsightsOutput",CW="DescribeEndpoints",vW="DescribeExportInput",RW="DescribeExportOutput",PW="DescribeEndpointsRequest",DW="DescribeEndpointsResponse",NW="DescribeExport",OW="DeleteGlobalSecondaryIndexAction",LW="DescribeGlobalTable",MW="DescribeGlobalTableInput",kW="DescribeGlobalTableOutput",UW="DescribeGlobalTableSettings",BW="DescribeGlobalTableSettingsInput",FW="DescribeGlobalTableSettingsOutput",$W="DeleteGlobalTableWitnessGroupMemberAction",GW="DeleteItem",jW="DuplicateItemException",qW="DeleteItemInput",HW="DescribeImportInput",zW="DeleteItemOutput",VW="DescribeImportOutput",WW="DescribeImport",KW="DescribeKinesisStreamingDestination",YW="DescribeKinesisStreamingDestinationInput",XW="DescribeKinesisStreamingDestinationOutput",QW="DisableKinesisStreamingDestination",JW="DescribeLimits",ZW="DescribeLimitsInput",eK="DescribeLimitsOutput",Vy="DeletionProtectionEnabled",XN="DeleteRequest",tK="DeleteReplicaAction",rK="DeleteReplicationGroupMemberAction",nK="DeleteResourcePolicy",oK="DeleteResourcePolicyInput",sK="DeleteResourcePolicyOutput",Wy="DestinationStatus",iK="DestinationStatusDescription",QN="DisableScaleIn",aK="DeleteTable",cK="DeleteTableInput",lK="DescribeTableInput",uK="DeleteTableOutput",dK="DescribeTableOutput",pK="DescribeTableReplicaAutoScaling",fK="DescribeTableReplicaAutoScalingInput",mK="DescribeTableReplicaAutoScalingOutput",hK="DescribeTimeToLive",gK="DescribeTimeToLiveInput",yK="DescribeTimeToLiveOutput",EK="DescribeTable",Is="Delete",SK="Error",Ky="ExportArn",bK="ExpectedAttributeMap",Ft="ExpressionAttributeNames",Wr="ExpressionAttributeValues",_K="ExpressionAttributeValueMap",TK="ExpectedAttributeValue",wK="ErrorCount",IK="ExportConflictException",Yy="ExportDescription",AK="ExceptionDescription",JN="ExportFormat",xK="ExportFromTime",Xy="EnableKinesisStreamingConfiguration",CK="EnableKinesisStreamingDestination",vK="ExportManifest",RK="ExceptionName",PK="ExportNotFoundException",DK="EarliestRestorableDateTime",ZN="ExpectedRevisionId",eO="ExportStatus",NK="ExclusiveStartBackupArn",OK="ExclusiveStartGlobalTableName",LK="ExecuteStatementInput",tO="ExclusiveStartKey",MK="ExecuteStatementOutput",kK="ExclusiveStartTableName",UK="ExportSummary",BK="ExecuteStatement",rO="ExportSummaries",Qy="EndTime",FK="ExecuteTransactionInput",$K="ExecuteTransactionOutput",GK="ExportToTime",jK="ExportTableToPointInTime",qK="ExportTableToPointInTimeInput",HK="ExportTableToPointInTimeOutput",nO="ExportTime",zK="ExecuteTransaction",Jy="ExportType",VK="ExportViewType",oO="Endpoints",sO="Enabled",WK="Endpoint",Zy="Expected",KK="Exists",iO="FailureCode",YK="FilterConditionMap",aO="FailureException",cO="FilterExpression",lO="FailureMessage",uO="Get",XK="GetItem",QK="GetItemInput",JK="GetItemOutput",ZK="GetResourcePolicy",e6="GetResourcePolicyInput",t6="GetResourcePolicyOutput",gr="GlobalSecondaryIndexes",r6="GlobalSecondaryIndexAutoScalingUpdate",n6="GlobalSecondaryIndexAutoScalingUpdateList",o6="GlobalSecondaryIndexDescription",s6="GlobalSecondaryIndexDescriptionList",i6="GlobalSecondaryIndexInfo",a6="GlobalSecondaryIndexList",dO="GlobalSecondaryIndexOverride",c6="GlobalSecondaryIndexUpdate",l6="GlobalSecondaryIndexUpdateList",pO="GlobalSecondaryIndexUpdates",u6="GlobalSecondaryIndexWarmThroughputDescription",d6="GlobalSecondaryIndex",p6="GlobalTable",f6="GlobalTableArn",m6="GlobalTableAlreadyExistsException",h6="GlobalTableBillingMode",up="GlobalTableDescription",fO="GlobalTableGlobalSecondaryIndexSettingsUpdate",g6="GlobalTableGlobalSecondaryIndexSettingsUpdateList",y6="GlobalTableList",Kr="GlobalTableName",E6="GlobalTableNotFoundException",S6="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",b6="GlobalTableProvisionedWriteCapacityUnits",_6="GlobalTableStatus",T6="GlobalTableVersion",w6="GlobalTableWitnesses",I6="GlobalTableWitnessDescription",A6="GlobalTableWitnessDescriptionList",x6="GlobalTableWitnessGroupUpdate",C6="GlobalTableWitnessGroupUpdateList",v6="GlobalTableWitnessUpdates",R6="GlobalTables",P6="HeaderList",Yr="Item",eE="ImportArn",mO="IndexArn",Pa="ItemCount",D6="ImportConflictException",N6="ItemCollectionKey",O6="ItemCollectionKeyAttributeMap",As="ItemCollectionMetrics",L6="ItemCollectionMetricsMultiple",M6="ItemCollectionMetricsPerTable",k6="ItemCollectionSizeLimitExceededException",hO="InputCompressionType",U6="InaccessibleEncryptionDateTime",B6="InvalidEndpointException",tE="IncrementalExportSpecification",F6="InvalidExportTimeException",rE="InputFormat",nE="InputFormatOptions",$6="ImportedItemCount",G6="ItemList",Ce="IndexName",j6="ImportNotFoundException",q6="IndexNotFoundException",H6="IdempotentParameterMismatchException",z6="ItemResponse",V6="ItemResponseList",W6="InvalidRestoreTimeException",oE="IndexStatus",gO="IndexSizeBytes",K6="InternalServerError",yO="ImportSummaryList",Y6="ImportSummary",EO="ImportStatus",X6="ImportTable",sE="ImportTableDescription",Q6="ImportTableInput",J6="ImportTableOutput",iE="Items",yr="Key",Z6="KeysAndAttributes",SO="KeyConditions",e8="KeyConditionExpression",bO="KinesisDataStreamDestinations",t8="KinesisDataStreamDestination",r8="KeyList",n8="KMSMasterKeyArn",dp="KMSMasterKeyId",$t="KeySchema",o8="KinesisStreamingDestinationInput",s8="KinesisStreamingDestinationOutput",i8="KeySchemaElement",a8="KeyType",c8="Keys",xs="Limit",l8="ListAttributeValue",u8="ListBackups",d8="ListBackupsInput",p8="ListBackupsOutput",f8="ListContributorInsights",m8="ListContributorInsightsInput",h8="ListContributorInsightsOutput",g8="LastDecreaseDateTime",y8="ListExports",E8="LastEvaluatedBackupArn",S8="LimitExceededException",b8="LastEvaluatedGlobalTableName",_8="ListExportsInput",aE="LastEvaluatedKey",T8="ListExportsOutput",w8="LastEvaluatedTableName",I8="ListGlobalTables",A8="ListGlobalTablesInput",x8="ListGlobalTablesOutput",C8="ListImports",v8="LastIncreaseDateTime",R8="ListImportsInput",P8="ListImportsOutput",D8="LatestRestorableDateTime",N8="LatestStreamArn",Da="LocalSecondaryIndexes",O8="LocalSecondaryIndexDescription",L8="LocalSecondaryIndexDescriptionList",M8="LocalSecondaryIndexInfo",k8="LocalSecondaryIndexList",_O="LocalSecondaryIndexOverride",U8="LocalSecondaryIndex",B8="LatestStreamLabel",F8="ListTables",$8="ListTablesInput",G8="ListTablesOutput",j8="ListTagsOfResource",q8="ListTagsOfResourceInput",H8="ListTagsOfResourceOutput",TO="LastUpdateDateTime",z8="LastUpdateToPayPerRequestDateTime",V8="L",Cs="Message",W8="MapAttributeValue",wO="MaxResults",IO="MultiRegionConsistency",AO="MaxReadRequestUnits",xO="MinimumUnits",CO="MaximumUnits",K8="MaxWriteRequestUnits",Y8="M",X8="N",Q8="NonKeyAttributes",J8="NumberOfDecreasesToday",Z8="NS",Er="NextToken",e5="NULL",Kt="OnDemandThroughput",$n="OnDemandThroughputOverride",cE="Parameters",Na="ProjectionExpression",t5="PutItem",r5="ProcessedItemCount",n5="PutItemInput",o5="PutItemInputAttributeMap",s5="PutItemOutput",vO="PointInTimeRecoveryDescription",i5="PointInTimeRecoveryEnabled",a5="PointInTimeRecoveryStatus",RO="PointInTimeRecoverySpecification",c5="PointInTimeRecoveryUnavailableException",PO="PolicyName",l5="PolicyNotFoundException",u5="PartiQLBatchRequest",d5="PartiQLBatchResponse",DO="PutRequest",NO="ProvisionedReadCapacityAutoScalingSettings",p5="ProvisionedReadCapacityAutoScalingSettingsUpdate",f5="ProvisionedReadCapacityAutoScalingUpdate",OO="ProvisionedReadCapacityUnits",m5="PutResourcePolicy",h5="PutResourcePolicyInput",g5="PutResourcePolicyOutput",y5="PageSize",E5="ProcessedSizeBytes",S5="PreparedStatementParameters",b5="ParameterizedStatement",_5="ParameterizedStatements",Yt="ProvisionedThroughput",T5="ProvisionedThroughputDescription",w5="ProvisionedThroughputExceededException",Gn="ProvisionedThroughputOverride",I5="ProjectionType",LO="ProvisionedWriteCapacityAutoScalingSettings",A5="ProvisionedWriteCapacityAutoScalingSettingsUpdate",MO="ProvisionedWriteCapacityAutoScalingUpdate",kO="ProvisionedWriteCapacityUnits",UO="Policy",jn="Projection",BO="Put",x5="Query",C5="QueryFilter",v5="QueryInput",R5="QueryOutput",pp="Responses",vs="ResourceArn",P5="ReplicaAlreadyExistsException",D5="ReplicaAutoScalingDescription",N5="ReplicaAutoScalingDescriptionList",O5="ReplicaAutoScalingUpdate",L5="ReplicaAutoScalingUpdateList",M5="ReplicaBillingModeSummary",Ct="ReturnConsumedCapacity",Oa="ReadCapacityUnits",k5="ReplicaDescription",U5="ReplicaDescriptionList",FO="RestoreDateTime",lE="ReplicationGroup",B5="ReplicaGlobalSecondaryIndex",F5="ReplicaGlobalSecondaryIndexAutoScalingDescription",$5="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",G5="ReplicaGlobalSecondaryIndexAutoScalingUpdate",j5="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",q5="ReplicaGlobalSecondaryIndexDescription",H5="ReplicaGlobalSecondaryIndexDescriptionList",z5="ReplicaGlobalSecondaryIndexList",V5="ReplicaGlobalSecondaryIndexSettings",W5="ReplicaGlobalSecondaryIndexSettingsDescription",K5="ReplicaGlobalSecondaryIndexSettingsDescriptionList",$O="ReplicaGlobalSecondaryIndexSettingsUpdate",Y5="ReplicaGlobalSecondaryIndexSettingsUpdateList",X5="ReplicaGlobalSecondaryIndexUpdates",Q5="ReplicationGroupUpdate",J5="ReplicationGroupUpdateList",GO="RequestItems",La="ReturnItemCollectionMetrics",Z5="ReplicaInaccessibleDateTime",eY="RestoreInProgress",tY="ResourceInUseException",uE="RevisionId",rY="ReplicaList",nY="RequestLimitExceeded",mt="RegionName",oY="ReplicaNotFoundException",sY="ResourceNotFoundException",iY="ResourcePolicy",jO="RecoveryPeriodInDays",qO="ReplicaProvisionedReadCapacityAutoScalingSettings",aY="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",cY="ReplicaProvisionedReadCapacityAutoScalingUpdate",HO="ReplicaProvisionedReadCapacityUnits",zO="ReplicaProvisionedWriteCapacityAutoScalingSettings",lY="ReplicaProvisionedWriteCapacityUnits",VO="ReplicaSettings",uY="ReplicaStatusDescription",dY="ReplicaSettingsDescriptionList",pY="ReplicaSettingsDescription",fY="ReplicaStatusPercentProgress",WO="ReplicaSettingsUpdate",mY="ReplicaSettingsUpdateList",dE="ReplicaStatus",KO="RestoreSummary",hY="ReplicaTableClass",YO="ReplicaTableClassSummary",gY="RestoreTableFromBackup",yY="RestoreTableFromBackupInput",EY="RestoreTableFromBackupOutput",SY="RestoreTableToPointInTime",bY="RestoreTableToPointInTimeInput",_Y="RestoreTableToPointInTimeOutput",TY="ReplicaUpdate",wY="ReplicaUpdateList",pE="ReadUnitsPerSecond",fE="ReplicaUpdates",mE="ReturnValues",Sr="ReturnValuesOnConditionCheckFailure",IY="ReplicatedWriteConflictException",AY="Replica",XO="Replicas",xY="Statements",Ma="StreamArn",hE="S3Bucket",CY="SourceBackupArn",gE="S3BucketOwner",fp="S3BucketSource",QO="ScannedCount",vY="StreamDescription",RY="StreamEnabled",PY="SizeEstimateRangeGB",DY="ScanFilter",NY="ScanInput",JO="ScaleInCooldown",OY="SecondaryIndexesCapacityMap",LY="ScanIndexForward",MY="S3KeyPrefix",kY="ScanOutput",ZO="ScaleOutCooldown",UY="ScalingPolicies",BY="ScalingPolicyUpdate",e1="S3Prefix",mp="StreamSpecification",t1="S3SseAlgorithm",yE="SSEDescription",hp="SSESpecification",r1="SSESpecificationOverride",n1="SSEType",o1="S3SseKmsKeyId",FY="SS",EE="StartTime",s1="SourceTableArn",i1="SourceTableDetails",a1="SourceTableFeatureDetails",$Y="SourceTableName",GY="StreamViewType",jY="S",qY="Scan",c1="Select",HY="Segment",SE="Statement",bE="Status",l1="Table",Xr="TableArn",zY="TableAlreadyExistsException",_E="TableAutoScalingDescription",TE="TableClass",VY="TableCreationDateTime",WY="TransactionCanceledException",KY="TransactionConflictException",u1="TableClassOverride",wE="TableCreationParameters",d1="TableClassSummary",Rs="TableDescription",YY="ThrottlingException",XY="TransactGetItem",QY="TransactGetItemsInput",JY="TransactGetItemList",ZY="TransactGetItemsOutput",e9="TransactGetItems",ka="TableId",t9="TransactionInProgressException",r9="TableInUseException",p1="TransactItems",n9="TagKeys",o9="TagList",s9="TableMaxReadCapacityUnits",i9="TableMaxWriteCapacityUnits",Q="TableName",a9="TableNotFoundException",c9="TableNames",f1="ThrottlingReasons",l9="TagResourceInput",u9="ThrottlingReasonList",d9="TimeRangeLowerBound",p9="TimeRangeUpperBound",f9="TagResource",m9="ThrottlingReason",h9="TransactStatements",m1="TableSizeBytes",h1="TableStatus",g9="TotalSegments",IE="TimeToLiveDescription",y9="TimeToLiveStatus",AE="TimeToLiveSpecification",g1="TargetTableName",y1="TargetTrackingScalingPolicyConfiguration",E1="TargetValue",E9="TransactWriteItem",S9="TransactWriteItemsInput",b9="TransactWriteItemList",_9="TransactWriteItemsOutput",T9="TransactWriteItems",w9="TableWarmThroughputDescription",xE="Tags",I9="Tag",gp="Update",A9="UpdateContinuousBackups",x9="UpdateContinuousBackupsInput",C9="UpdateContinuousBackupsOutput",v9="UpdateContributorInsights",R9="UpdateContributorInsightsInput",P9="UpdateContributorInsightsOutput",S1="UpdateExpression",D9="UpdateGlobalSecondaryIndexAction",N9="UpdateGlobalTable",O9="UpdateGlobalTableInput",L9="UpdateGlobalTableOutput",M9="UpdateGlobalTableSettings",k9="UpdateGlobalTableSettingsInput",U9="UpdateGlobalTableSettingsOutput",B9="UnprocessedItems",F9="UpdateItemInput",$9="UpdateItemOutput",G9="UpdateItem",j9="UnprocessedKeys",CE="UpdateKinesisStreamingConfiguration",q9="UpdateKinesisStreamingDestination",H9="UpdateKinesisStreamingDestinationInput",z9="UpdateKinesisStreamingDestinationOutput",V9="UseLatestRestorableTime",W9="UntagResource",K9="UpdateReplicationGroupMemberAction",Y9="UntagResourceInput",X9="UpdateTable",Q9="UpdateTableInput",J9="UpdateTableOutput",Z9="UpdateTableReplicaAutoScaling",eX="UpdateTableReplicaAutoScalingInput",tX="UpdateTableReplicaAutoScalingOutput",rX="UpdateTimeToLive",nX="UpdateTimeToLiveInput",oX="UpdateTimeToLiveOutput",vE="Value",yp="WriteCapacityUnits",sX="WriteRequest",iX="WriteRequests",aX="WitnessStatus",br="WarmThroughput",RE="WriteUnitsPerSecond",cX="awsQueryError",pe="client",le="error",b1="httpError",lX="httpHeader",ye="message",uX="reason",dX="resource",pX="server",_1="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",fX="throttlingReasons",mX="x-amz-confirm-remove-self-resource-access",d="com.amazonaws.dynamodb",hX=[3,d,PN,0,[eV,oV,Jz],[4,0,0]],gX=[3,d,Zz,0,[sp,pV],[0,0]],yX=[3,d,mV,0,[vE,Qz],[()=>Qt,0]],EX=[3,d,sV,0,[PO,y1],[0,()=>bX]],SX=[3,d,aV,0,[PO,y1],[0,()=>_X]],Fn=[3,d,cV,0,[xO,CO,DN,NN,UY],[1,1,2,0,()=>bZ]],qn=[3,d,lV,0,[xO,CO,DN,NN,BY],[1,1,2,0,()=>SX]],bX=[3,d,uV,0,[QN,JO,ZO,E1],[2,1,1,1]],_X=[3,d,dV,0,[QN,JO,ZO,E1],[2,1,1,1]],T1=[3,d,$y,0,[Gy,i1,a1],[()=>w1,()=>N7,()=>O7]],w1=[3,d,Gy,0,[Ca,jy,FN,BN,qy,LN,MN],[0,0,1,0,0,4,4]],TX=[-3,d,AV,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(TX,mD);var wX=[-3,d,xV,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(wX,gD);var IX=[3,d,OV,0,[Q,ka,Xr,Ca,jy,LN,MN,BN,qy,FN],[0,0,0,0,0,4,4,0,0,1]],AX=[3,d,EV,0,[xY,Ct],[()=>jZ,0]],xX=[3,d,SV,0,[pp,_t],[()=>qZ,()=>Ds]],CX=[3,d,_V,0,[GO,Ct],[()=>Q1,0]],vX=[3,d,TV,0,[pp,j9,_t],[()=>oee,()=>Q1,()=>Ds]],RX=[3,d,RV,0,[GN,Cs,Yr],[0,0,()=>Tr]],PX=[3,d,PV,0,[SE,cE,ws,Sr],[0,()=>LE,2,0]],DX=[3,d,DV,0,[SK,Q,Yr],[()=>RX,0,()=>Tr]],NX=[3,d,MV,0,[GO,Ct,La],[()=>J1,0,0]],OX=[3,d,kV,0,[B9,As,_t],[()=>J1,()=>eL,()=>Ds]],I1=[3,d,UN,0,[va,z8],[0,4]],LX=[3,d,iW,0,[Yr,GN,Cs],[()=>Tr,0,0]],A1=[3,d,dW,0,[Oa,yp,WN],[1,1,1]],x1=[3,d,pW,0,[By,zN],[()=>z1,0]],MX=[-3,d,HV,{[le]:pe},[ye,Yr],[0,()=>Tr]];se.TypeRegistry.for(d).registerError(MX,xN);var kX=[3,d,jN,0,[yr,Q,bo,Ft,Wr,Sr],[()=>Tt,0,0,128,()=>Qr,0]],Hn=[3,d,_t,0,[Q,WN,Oa,yp,l1,Da,gr],[0,1,1,1,()=>A1,()=>pD,()=>pD]],C1=[3,d,Hy,0,[jV,vO],[0,()=>VJ]],UX=[-3,d,qV,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(UX,LD);var BX=[3,d,ZV,0,[Q,Ce,zy,ap],[0,0,0,0]],FX=[3,d,$V,0,[Q,jy],[0,0]],$X=[3,d,GV,0,[Gy],[()=>w1]],GX=[3,d,VV,0,[Ce,$t,jn,Yt,Kt,br],[0,()=>Xt,()=>_o,()=>_r,()=>Gt,()=>$a]],jX=[3,d,KV,0,[Kr,lE],[0,()=>Y1]],qX=[3,d,YV,0,[up],[()=>PE]],HX=[3,d,XV,0,[mt],[0]],zX=[3,d,rW,0,[mt],[0]],VX=[3,d,nW,0,[mt,dp,Gn,$n,gr,u1],[0,0,()=>Ba,()=>Ua,()=>K1,0]],WX=[3,d,cW,0,[xa,Q,$t,Da,gr,va,Yt,mp,hp,xE,TE,Vy,br,iY,Kt],[()=>bp,0,()=>Xt,()=>OE,()=>_p,0,()=>_r,()=>Sp,()=>Fa,()=>ME,0,2,()=>$a,0,()=>Gt]],KX=[3,d,lW,0,[Rs],[()=>Ps]],YX=[3,d,eW,0,[mW,P6],[0,64]],XX=[3,d,Is,0,[yr,Q,bo,Ft,Wr,Sr],[()=>Tt,0,0,128,()=>Qr,0]],QX=[3,d,gW,0,[Ca],[0]],JX=[3,d,EW,0,[$y],[()=>T1]],ZX=[3,d,OW,0,[Ce],[0]],eQ=[3,d,$W,0,[mt],[0]],tQ=[3,d,qW,0,[Q,yr,Zy,Ra,mE,Ct,La,bo,Ft,Wr,Sr],[0,()=>Tt,()=>UE,0,0,0,0,0,128,()=>Qr,0]],rQ=[3,d,zW,0,[Fy,_t,As],[()=>Tr,()=>Hn,()=>Ep]],nQ=[3,d,tK,0,[mt],[0]],oQ=[3,d,rK,0,[mt],[0]],sQ=[3,d,XN,0,[yr],[()=>Tt]],iQ=[3,d,oK,0,[vs,ZN],[0,0]],aQ=[3,d,sK,0,[uE],[0]],cQ=[3,d,cK,0,[Q],[0]],lQ=[3,d,uK,0,[Rs],[()=>Ps]],uQ=[3,d,yW,0,[Ca],[0]],dQ=[3,d,SW,0,[$y],[()=>T1]],pQ=[3,d,TW,0,[Q],[0]],fQ=[3,d,wW,0,[Hy],[()=>C1]],mQ=[3,d,AW,0,[Q,Ce],[0,0]],hQ=[3,d,xW,0,[Q,Ce,JV,zy,TO,aO,ap],[0,0,64,0,4,()=>KQ,0]],gQ=[3,d,PW,0,[],[]],yQ=[3,d,DW,0,[oO],[()=>IZ]],EQ=[3,d,vW,0,[Ky],[0]],SQ=[3,d,RW,0,[Yy],[()=>R1]],bQ=[3,d,MW,0,[Kr],[0]],_Q=[3,d,kW,0,[up],[()=>PE]],TQ=[3,d,BW,0,[Kr],[0]],wQ=[3,d,FW,0,[Kr,VO],[0,()=>X1]],IQ=[3,d,HW,0,[eE],[0]],AQ=[3,d,VW,0,[sE],[()=>D1]],xQ=[3,d,YW,0,[Q],[0]],CQ=[3,d,XW,0,[Q,bO],[0,()=>UZ]],vQ=[3,d,ZW,0,[],[]],RQ=[3,d,eK,0,[rV,nV,s9,i9],[1,1,1,1]],PQ=[3,d,lK,0,[Q],[0]],DQ=[3,d,dK,0,[l1],[()=>Ps]],NQ=[3,d,fK,0,[Q],[0]],OQ=[3,d,mK,0,[_E],[()=>B1]],LQ=[3,d,gK,0,[Q],[0]],MQ=[3,d,yK,0,[IE],[()=>G1]],kQ=[-3,d,jW,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(kQ,rN);var v1=[3,d,Xy,0,[Uy],[0]],UQ=[3,d,WK,0,[hV,tW],[0,1]],BQ=[3,d,LK,0,[SE,cE,ws,Er,Ct,xs,Sr],[0,()=>LE,2,0,0,1,0]],FQ=[3,d,MK,0,[iE,Er,_t,aE],[()=>Tp,0,()=>Hn,()=>Tt]],$Q=[3,d,FK,0,[h9,VN,Ct],[()=>GZ,[0,4],0]],GQ=[3,d,$K,0,[pp,_t],[()=>V1,()=>Ds]],jQ=[3,d,TK,0,[vE,KK,zN,By],[()=>Qt,2,0,()=>z1]],qQ=[-3,d,IK,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(qQ,cN);var R1=[3,d,Yy,0,[Ky,eO,EE,Qy,vK,Xr,ka,nO,cp,hE,gE,e1,t1,o1,iO,lO,JN,vV,Pa,Jy,tE],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>N1]],HQ=[-3,d,PK,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(HQ,XD);var zQ=[3,d,UK,0,[Ky,eO,Jy],[0,0,0]],VQ=[3,d,qK,0,[Xr,nO,cp,hE,gE,e1,t1,o1,JN,Jy,tE],[0,4,[0,4],0,0,0,0,0,0,0,()=>N1]],WQ=[3,d,HK,0,[Yy],[()=>R1]],KQ=[3,d,aO,0,[RK,AK],[0,0]],YQ=[3,d,uO,0,[yr,Q,Na,Ft],[()=>Tt,0,0,128]],XQ=[3,d,QK,0,[Q,yr,ip,ws,Ct,Na,Ft],[0,()=>Tt,64,2,0,0,128]],QQ=[3,d,JK,0,[Yr,_t],[()=>Tr,()=>Hn]],JQ=[3,d,e6,0,[vs],[0]],ZQ=[3,d,t6,0,[UO,uE],[0,0]],eJ=[3,d,d6,0,[Ce,$t,jn,Yt,Kt,br],[0,()=>Xt,()=>_o,()=>_r,()=>Gt,()=>$a]],tJ=[3,d,r6,0,[Ce,MO],[0,()=>qn]],rJ=[3,d,o6,0,[Ce,$t,jn,oE,gV,Yt,gO,Pa,mO,Kt,br],[0,()=>Xt,()=>_o,0,2,()=>k1,1,1,0,()=>Gt,()=>P1]],nJ=[3,d,i6,0,[Ce,$t,jn,Yt,Kt],[0,()=>Xt,()=>_o,()=>_r,()=>Gt]],oJ=[3,d,c6,0,[gp,lp,Is],[()=>rZ,()=>GX,()=>ZX]],P1=[3,d,u6,0,[pE,RE,bE],[1,1,0]],sJ=[3,d,p6,0,[Kr,lE],[0,()=>Y1]],iJ=[-3,d,m6,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(iJ,jD);var PE=[3,d,up,0,[lE,f6,qN,_6,Kr],[()=>W1,0,4,0,0]],aJ=[3,d,fO,0,[Ce,kO,A5],[0,1,()=>qn]],cJ=[-3,d,E6,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(cJ,JD);var lJ=[3,d,I6,0,[mt,aX],[0,0]],uJ=[3,d,x6,0,[lp,Is],[()=>HX,()=>eQ]],dJ=[-3,d,H6,{[le]:pe},[Cs],[0]];se.TypeRegistry.for(d).registerError(dJ,oN);var pJ=[-3,d,D6,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(pJ,mN);var fJ=[-3,d,j6,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(fJ,eN);var mJ=[3,d,Y6,0,[eE,EO,Xr,fp,KN,rE,EE,Qy],[0,0,0,()=>DE,0,0,4,4]],D1=[3,d,sE,0,[eE,EO,Xr,ka,cp,fp,wK,KN,rE,nE,hO,wE,EE,Qy,E5,r5,$6,iO,lO],[0,0,0,0,0,()=>DE,1,0,0,()=>O1,0,()=>F1,4,4,1,1,1,0,0]],hJ=[3,d,Q6,0,[cp,fp,rE,nE,hO,wE],[[0,4],()=>DE,0,()=>O1,0,()=>F1]],gJ=[3,d,J6,0,[sE],[()=>D1]],N1=[3,d,tE,0,[xK,GK,VK],[4,4,0]],yJ=[-3,d,q6,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(yJ,IN);var O1=[3,d,nE,0,[fW],[()=>YX]],EJ=[-3,d,K6,{[le]:pX},[ye],[0]];se.TypeRegistry.for(d).registerError(EJ,ED);var SJ=[-3,d,B6,{[le]:pe,[b1]:421},[Cs],[0]];se.TypeRegistry.for(d).registerError(SJ,ID);var bJ=[-3,d,F6,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(bJ,uN);var _J=[-3,d,W6,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(_J,EN);var Ep=[3,d,As,0,[N6,PY],[()=>see,65]],TJ=[-3,d,k6,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(TJ,PD);var wJ=[3,d,z6,0,[Yr],[()=>Tr]],IJ=[3,d,Z6,0,[c8,ip,ws,Na,Ft],[()=>kZ,64,2,0,128]],AJ=[3,d,i8,0,[sp,a8],[0,0]],xJ=[3,d,t8,0,[Ma,Wy,iK,Uy],[0,0,0,0]],L1=[3,d,o8,0,[Q,Ma,Xy],[0,0,()=>v1]],M1=[3,d,s8,0,[Q,Ma,Wy,Xy],[0,0,0,()=>v1]],CJ=[-3,d,S8,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(CJ,kD);var vJ=[3,d,d8,0,[Q,xs,d9,p9,NK,qy],[0,1,4,4,0,0]],RJ=[3,d,p8,0,[$N,E8],[()=>_Z,0]],PJ=[3,d,m8,0,[Q,Er,wO],[0,0,1]],DJ=[3,d,h8,0,[HN,Er],[()=>wZ,0]],NJ=[3,d,_8,0,[Xr,wO,Er],[0,1,0]],OJ=[3,d,T8,0,[rO,Er],[()=>AZ,0]],LJ=[3,d,A8,0,[OK,xs,mt],[0,1,0]],MJ=[3,d,x8,0,[R6,b8],[()=>DZ,0]],kJ=[3,d,R8,0,[Xr,y5,Er],[0,1,0]],UJ=[3,d,P8,0,[yO,Er],[()=>LZ,0]],BJ=[3,d,$8,0,[kK,xs],[0,1]],FJ=[3,d,G8,0,[c9,w8],[64,0]],$J=[3,d,q8,0,[vs,Er],[0,0]],GJ=[3,d,H8,0,[xE,Er],[()=>ME,0]],jJ=[3,d,U8,0,[Ce,$t,jn],[0,()=>Xt,()=>_o]],qJ=[3,d,O8,0,[Ce,$t,jn,gO,Pa,mO],[0,()=>Xt,()=>_o,1,1,0]],HJ=[3,d,M8,0,[Ce,$t,jn],[0,()=>Xt,()=>_o]],Gt=[3,d,Kt,0,[AO,K8],[1,1]],Ua=[3,d,$n,0,[AO],[1]],zJ=[3,d,b5,0,[SE,cE,Sr],[0,()=>LE,0]],VJ=[3,d,vO,0,[a5,jO,DK,D8],[0,1,4,4]],WJ=[3,d,RO,0,[i5,jO],[2,1]],KJ=[-3,d,c5,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(KJ,pN);var YJ=[-3,d,l5,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(YJ,KD);var _o=[3,d,jn,0,[I5,Q8],[0,64]],_r=[3,d,Yt,0,[Oa,yp],[1,1]],k1=[3,d,T5,0,[v8,g8,J8,Oa,yp],[4,4,1,1,1]],XJ=[-3,d,w5,{[le]:pe},[ye,f1],[0,()=>kE]];se.TypeRegistry.for(d).registerError(XJ,xD);var Ba=[3,d,Gn,0,[Oa],[1]],QJ=[3,d,BO,0,[Yr,Q,bo,Ft,Wr,Sr],[()=>BE,0,0,128,()=>Qr,0]],JJ=[3,d,n5,0,[Q,Yr,Zy,mE,Ct,La,Ra,bo,Ft,Wr,Sr],[0,()=>BE,()=>UE,0,0,0,0,0,128,()=>Qr,0]],ZJ=[3,d,s5,0,[Fy,_t,As],[()=>Tr,()=>Hn,()=>Ep]],e7=[3,d,DO,0,[Yr],[()=>BE]],t7=[3,d,h5,0,[vs,UO,ZN,sW],[0,0,0,[2,{[lX]:mX}]]],r7=[3,d,g5,0,[uE],[0]],n7=[3,d,v5,0,[Q,Ce,c1,ip,xs,ws,SO,C5,Ra,LY,tO,Ct,Na,cO,e8,Ft,Wr],[0,0,0,64,1,2,()=>iee,()=>Z1,0,2,()=>Tt,0,0,0,0,128,()=>Qr]],o7=[3,d,R5,0,[iE,YN,QO,aE,_t],[()=>Tp,1,1,()=>Tt,()=>Hn]],s7=[3,d,AY,0,[mt],[0]],i7=[-3,d,P5,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(i7,bN);var a7=[3,d,D5,0,[mt,gr,qO,zO,dE],[0,()=>VZ,()=>Fn,()=>Fn,0]],c7=[3,d,O5,0,[mt,X5,cY],[0,()=>WZ,()=>qn]],l7=[3,d,k5,0,[mt,dE,uY,fY,dp,Gn,$n,br,gr,Z5,YO],[0,0,0,0,0,()=>Ba,()=>Ua,()=>$1,()=>KZ,4,()=>NE]],u7=[3,d,B5,0,[Ce,Gn,$n],[0,()=>Ba,()=>Ua]],d7=[3,d,F5,0,[Ce,oE,NO,LO],[0,0,()=>Fn,()=>Fn]],p7=[3,d,G5,0,[Ce,f5],[0,()=>qn]],f7=[3,d,q5,0,[Ce,Gn,$n,br],[0,()=>Ba,()=>Ua,()=>P1]],m7=[3,d,W5,0,[Ce,oE,OO,NO,kO,LO],[0,0,1,()=>Fn,1,()=>Fn]],h7=[3,d,$O,0,[Ce,OO,p5],[0,1,()=>qn]],g7=[-3,d,oY,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(g7,TN);var y7=[3,d,pY,0,[mt,dE,M5,HO,qO,lY,zO,V5,YO],[0,0,()=>I1,1,()=>Fn,1,()=>Fn,()=>YZ,()=>NE]],E7=[3,d,WO,0,[mt,HO,aY,$O,hY],[0,1,()=>qn,()=>XZ,0]],S7=[-3,d,IY,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(S7,ND);var b7=[3,d,Q5,0,[lp,gp,Is],[()=>VX,()=>dZ,()=>oQ]],_7=[3,d,TY,0,[lp,Is],[()=>zX,()=>nQ]],T7=[-3,d,nY,{[le]:pe},[ye,f1],[0,()=>kE]];se.TypeRegistry.for(d).registerError(T7,bD);var w7=[-3,d,tY,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(w7,HD);var I7=[-3,d,sY,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(I7,vD);var A7=[3,d,KO,0,[CY,s1,FO,eY],[0,0,4,2]],x7=[3,d,yY,0,[g1,Ca,kN,dO,_O,Gn,$n,r1],[0,0,0,()=>_p,()=>OE,()=>_r,()=>Gt,()=>Fa]],C7=[3,d,EY,0,[Rs],[()=>Ps]],v7=[3,d,bY,0,[s1,$Y,g1,V9,FO,kN,dO,_O,Gn,$n,r1],[0,0,0,2,4,0,()=>_p,()=>OE,()=>_r,()=>Gt,()=>Fa]],R7=[3,d,_Y,0,[Rs],[()=>Ps]],DE=[3,d,fp,0,[gE,hE,MY],[0,0,0]],P7=[3,d,NY,0,[Q,Ce,ip,xs,c1,DY,Ra,tO,Ct,g9,HY,Na,cO,Ft,Wr,ws],[0,0,64,1,0,()=>Z1,0,()=>Tt,0,1,1,0,0,128,()=>Qr,2]],D7=[3,d,kY,0,[iE,YN,QO,aE,_t],[()=>Tp,1,1,()=>Tt,()=>Hn]],N7=[3,d,i1,0,[Q,ka,Xr,m1,$t,VY,Yt,Kt,Pa,va],[0,0,0,1,()=>Xt,4,()=>_r,()=>Gt,1,0]],O7=[3,d,a1,0,[Da,gr,vY,IE,yE],[()=>$Z,()=>vZ,()=>Sp,()=>G1,()=>U1]],U1=[3,d,yE,0,[bE,n1,n8,U6],[0,0,0,4]],Fa=[3,d,hp,0,[sO,n1,dp],[2,0,0]],Sp=[3,d,mp,0,[RY,GY],[2,0]],L7=[-3,d,zY,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(L7,gN);var B1=[3,d,_E,0,[Q,h1,XO],[0,0,()=>HZ]],NE=[3,d,d1,0,[TE,TO],[0,4]],F1=[3,d,wE,0,[Q,xa,$t,va,Yt,Kt,hp,gr],[0,()=>bp,()=>Xt,0,()=>_r,()=>Gt,()=>Fa,()=>_p]],Ps=[3,d,Rs,0,[xa,Q,$t,h1,qN,Yt,m1,Pa,Xr,ka,UN,Da,gr,mp,B8,N8,T6,XO,w6,KO,yE,PN,d1,Vy,Kt,br,IO],[()=>bp,0,()=>Xt,0,4,()=>k1,1,1,0,0,()=>I1,()=>FZ,()=>CZ,()=>Sp,0,0,0,()=>W1,()=>NZ,()=>A7,()=>U1,()=>hX,()=>NE,2,()=>Gt,()=>$1,0]],M7=[-3,d,r9,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(M7,BD);var k7=[-3,d,a9,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(k7,$D);var $1=[3,d,w9,0,[pE,RE,bE],[1,1,0]],U7=[3,d,I9,0,[yr,vE],[0,0]],B7=[3,d,l9,0,[vs,xE],[0,()=>ME]],F7=[-3,d,YY,{[le]:pe,[b1]:400,[cX]:["Throttling",400]},[ye,fX],[0,()=>kE]];se.TypeRegistry.for(d).registerError(F7,TD);var $7=[3,d,m9,0,[uX,dX],[0,0]],G1=[3,d,IE,0,[y9,sp],[0,0]],j1=[3,d,AE,0,[sO,sp],[2,0]],G7=[3,d,XY,0,[uO],[()=>YQ]],j7=[3,d,QY,0,[p1,Ct],[()=>eee,0]],q7=[3,d,ZY,0,[_t,pp],[()=>Ds,()=>V1]],H7=[-3,d,WY,{[le]:pe},[Cs,aW],[0,()=>TZ]];se.TypeRegistry.for(d).registerError(H7,vN);var z7=[-3,d,KY,{[le]:pe},[ye],[0]];se.TypeRegistry.for(d).registerError(z7,VD);var V7=[-3,d,t9,{[le]:pe},[Cs],[0]];se.TypeRegistry.for(d).registerError(V7,iN);var W7=[3,d,E9,0,[jN,BO,Is,gp],[()=>kX,()=>QJ,()=>XX,()=>Q7]],K7=[3,d,S9,0,[p1,Ct,La,VN],[()=>tee,0,0,[0,4]]],Y7=[3,d,_9,0,[_t,As],[()=>Ds,()=>eL]],X7=[3,d,Y9,0,[vs,n9],[0,64]],Q7=[3,d,gp,0,[yr,S1,Q,bo,Ft,Wr,Sr],[()=>Tt,0,0,0,128,()=>Qr,0]],J7=[3,d,x9,0,[Q,RO],[0,()=>WJ]],Z7=[3,d,C9,0,[Hy],[()=>C1]],eZ=[3,d,R9,0,[Q,Ce,QV,ap],[0,0,0,0]],tZ=[3,d,P9,0,[Q,Ce,zy,ap],[0,0,0,0]],rZ=[3,d,D9,0,[Ce,Yt,Kt,br],[0,()=>_r,()=>Gt,()=>$a]],nZ=[3,d,O9,0,[Kr,fE],[0,()=>ZZ]],oZ=[3,d,L9,0,[up],[()=>PE]],sZ=[3,d,k9,0,[Kr,h6,b6,S6,fO,WO],[0,0,1,()=>qn,()=>PZ,()=>QZ]],iZ=[3,d,U9,0,[Kr,VO],[0,()=>X1]],aZ=[3,d,F9,0,[Q,yr,ON,Zy,Ra,mE,Ct,La,S1,bo,Ft,Wr,Sr],[0,()=>Tt,()=>nee,()=>UE,0,0,0,0,0,0,128,()=>Qr,0]],cZ=[3,d,$9,0,[Fy,_t,As],[()=>Tr,()=>Hn,()=>Ep]],q1=[3,d,CE,0,[Uy],[0]],lZ=[3,d,H9,0,[Q,Ma,CE],[0,0,()=>q1]],uZ=[3,d,z9,0,[Q,Ma,Wy,CE],[0,0,0,()=>q1]],dZ=[3,d,K9,0,[mt,dp,Gn,$n,gr,u1],[0,0,()=>Ba,()=>Ua,()=>K1,0]],pZ=[3,d,Q9,0,[xa,Q,va,Yt,pO,mp,hp,fE,TE,Vy,IO,v6,Kt,br],[()=>bp,0,0,()=>_r,()=>RZ,()=>Sp,()=>Fa,()=>JZ,0,2,0,()=>OZ,()=>Gt,()=>$a]],fZ=[3,d,J9,0,[Rs],[()=>Ps]],mZ=[3,d,eX,0,[pO,Q,MO,fE],[()=>xZ,0,()=>qn,()=>zZ]],hZ=[3,d,tX,0,[_E],[()=>B1]],gZ=[3,d,nX,0,[Q,AE],[0,()=>j1]],yZ=[3,d,oX,0,[AE],[()=>j1]],$a=[3,d,br,0,[pE,RE],[1,1]],EZ=[3,d,sX,0,[DO,XN],[()=>e7,()=>sQ]],H1="unit",SZ=[-3,_1,"DynamoDBServiceException",0,[],[]];se.TypeRegistry.for(_1).registerError(SZ,ie);var bp=[1,d,xa,0,()=>gX],z1=[1,d,By,0,()=>Qt],bZ=[1,d,iV,0,()=>EX],_Z=[1,d,$N,0,()=>IX],TZ=[1,d,oW,0,()=>LX],Ds=[1,d,zV,0,()=>Hn],wZ=[1,d,HN,0,()=>BX],IZ=[1,d,oO,0,()=>UQ],AZ=[1,d,rO,0,()=>zQ],xZ=[1,d,n6,0,()=>tJ],CZ=[1,d,s6,0,()=>rJ],vZ=[1,d,gr,0,()=>nJ],_p=[1,d,a6,0,()=>eJ],RZ=[1,d,l6,0,()=>oJ],PZ=[1,d,g6,0,()=>aJ],DZ=[1,d,y6,0,()=>sJ],NZ=[1,d,A6,0,()=>lJ],OZ=[1,d,C6,0,()=>uJ],LZ=[1,d,yO,0,()=>mJ],MZ=[1,d,L6,0,()=>Ep],Tp=[1,d,G6,0,()=>Tr],V1=[1,d,V6,0,()=>wJ],kZ=[1,d,r8,0,()=>Tt],Xt=[1,d,$t,0,()=>AJ],UZ=[1,d,bO,0,()=>xJ],BZ=[1,d,l8,0,()=>Qt],FZ=[1,d,L8,0,()=>qJ],$Z=[1,d,Da,0,()=>HJ],OE=[1,d,k8,0,()=>jJ],GZ=[1,d,_5,0,()=>zJ],jZ=[1,d,u5,0,()=>PX],qZ=[1,d,d5,0,()=>DX],LE=[1,d,S5,0,()=>Qt],HZ=[1,d,N5,0,()=>a7],zZ=[1,d,L5,0,()=>c7],W1=[1,d,U5,0,()=>l7],VZ=[1,d,$5,0,()=>d7],WZ=[1,d,j5,0,()=>p7],KZ=[1,d,H5,0,()=>f7],K1=[1,d,z5,0,()=>u7],YZ=[1,d,K5,0,()=>m7],XZ=[1,d,Y5,0,()=>h7],Y1=[1,d,rY,0,()=>s7],X1=[1,d,dY,0,()=>y7],QZ=[1,d,mY,0,()=>E7],JZ=[1,d,J5,0,()=>b7],ZZ=[1,d,wY,0,()=>_7],ME=[1,d,o9,0,()=>U7],kE=[1,d,u9,0,()=>$7],eee=[1,d,JY,0,()=>G7],tee=[1,d,b9,0,()=>W7],ree=[1,d,iX,0,()=>EZ],Tr=[2,d,tV,0,0,()=>Qt],nee=[2,d,ON,0,0,()=>yX],Q1=[2,d,IV,0,0,()=>IJ],oee=[2,d,wV,0,0,()=>Tp],J1=[2,d,UV,0,0,()=>ree],UE=[2,d,bK,0,0,()=>jQ],Qr=[2,d,_K,0,0,()=>Qt],Z1=[2,d,YK,0,0,()=>x1],see=[2,d,O6,0,0,()=>Qt],eL=[2,d,M6,0,0,()=>MZ],Tt=[2,d,yr,0,0,()=>Qt],iee=[2,d,SO,0,0,()=>x1],aee=[2,d,W8,0,0,()=>Qt],BE=[2,d,o5,0,0,()=>Qt],pD=[2,d,OY,0,0,()=>A1],Qt=[3,d,fV,0,[jY,X8,BV,FY,Z8,NV,Y8,V8,e5,CV],[0,0,21,64,64,85,()=>aee,()=>BZ,2,2]],cee=[9,d,yV,0,()=>AX,()=>xX],lee=[9,d,bV,0,()=>CX,()=>vX],uee=[9,d,LV,0,()=>NX,()=>OX],dee=[9,d,FV,0,()=>FX,()=>$X],pee=[9,d,WV,0,()=>jX,()=>qX],fee=[9,d,uW,0,()=>WX,()=>KX],mee=[9,d,hW,0,()=>QX,()=>JX],hee=[9,d,GW,0,()=>tQ,()=>rQ],gee=[9,d,nK,0,()=>iQ,()=>aQ],yee=[9,d,aK,0,()=>cQ,()=>lQ],Eee=[9,d,bW,0,()=>uQ,()=>dQ],See=[9,d,_W,0,()=>pQ,()=>fQ],bee=[9,d,IW,0,()=>mQ,()=>hQ],_ee=[9,d,CW,0,()=>gQ,()=>yQ],Tee=[9,d,NW,0,()=>EQ,()=>SQ],wee=[9,d,LW,0,()=>bQ,()=>_Q],Iee=[9,d,UW,0,()=>TQ,()=>wQ],Aee=[9,d,WW,0,()=>IQ,()=>AQ],xee=[9,d,KW,0,()=>xQ,()=>CQ],Cee=[9,d,JW,0,()=>vQ,()=>RQ],vee=[9,d,EK,0,()=>PQ,()=>DQ],Ree=[9,d,pK,0,()=>NQ,()=>OQ],Pee=[9,d,hK,0,()=>LQ,()=>MQ],Dee=[9,d,QW,0,()=>L1,()=>M1],Nee=[9,d,CK,0,()=>L1,()=>M1],Oee=[9,d,BK,0,()=>BQ,()=>FQ],Lee=[9,d,zK,0,()=>$Q,()=>GQ],Mee=[9,d,jK,0,()=>VQ,()=>WQ],kee=[9,d,XK,0,()=>XQ,()=>QQ],Uee=[9,d,ZK,0,()=>JQ,()=>ZQ],Bee=[9,d,X6,0,()=>hJ,()=>gJ],Fee=[9,d,u8,0,()=>vJ,()=>RJ],$ee=[9,d,f8,0,()=>PJ,()=>DJ],Gee=[9,d,y8,0,()=>NJ,()=>OJ],jee=[9,d,I8,0,()=>LJ,()=>MJ],qee=[9,d,C8,0,()=>kJ,()=>UJ],Hee=[9,d,F8,0,()=>BJ,()=>FJ],zee=[9,d,j8,0,()=>$J,()=>GJ],Vee=[9,d,t5,0,()=>JJ,()=>ZJ],Wee=[9,d,m5,0,()=>t7,()=>r7],Kee=[9,d,x5,0,()=>n7,()=>o7],Yee=[9,d,gY,0,()=>x7,()=>C7],Xee=[9,d,SY,0,()=>v7,()=>R7],Qee=[9,d,qY,0,()=>P7,()=>D7],Jee=[9,d,f9,0,()=>B7,()=>H1],Zee=[9,d,e9,0,()=>j7,()=>q7],ete=[9,d,T9,0,()=>K7,()=>Y7],tte=[9,d,W9,0,()=>X7,()=>H1],rte=[9,d,A9,0,()=>J7,()=>Z7],nte=[9,d,v9,0,()=>eZ,()=>tZ],ote=[9,d,N9,0,()=>nZ,()=>oZ],ste=[9,d,M9,0,()=>sZ,()=>iZ],ite=[9,d,G9,0,()=>aZ,()=>cZ],ate=[9,d,q9,0,()=>lZ,()=>uZ],cte=[9,d,X9,0,()=>pZ,()=>fZ],lte=[9,d,Z9,0,()=>mZ,()=>hZ],ute=[9,d,rX,0,()=>gZ,()=>yZ],Sa=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(_ee).build(){},dte=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},pte=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),fte=(e,t)=>{let r=Object.assign(uD.getAwsRegionExtensionConfiguration(e),U.getDefaultExtensionConfiguration(e),dD.getHttpHandlerExtensionConfiguration(e),dte(e));return t.forEach(n=>n.configure(r)),Object.assign(e,uD.resolveAwsRegionExtensionConfiguration(r),U.resolveDefaultRuntimeConfig(r),dD.resolveHttpHandlerRuntimeConfig(r),pte(r))},hr=class extends U.Client{config;constructor(...[t]){let r=az.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=cz(r),o=tz.resolveAccountIdEndpointModeConfig(n),s=aD.resolveUserAgentConfig(o),i=cD.resolveRetryConfig(s),a=sz.resolveRegionConfig(i),l=iD.resolveHostHeaderConfig(a),u=$.resolveEndpointConfig(l),m=lD.resolveHttpAuthSchemeConfig(u),h=rz.resolveEndpointDiscoveryConfig(m,{endpointDiscoveryCommandCtor:Sa}),y=fte(h,t?.extensions||[]);this.config=y,this.middlewareStack.use(se.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(aD.getUserAgentPlugin(this.config)),this.middlewareStack.use(cD.getRetryPlugin(this.config)),this.middlewareStack.use(iz.getContentLengthPlugin(this.config)),this.middlewareStack.use(iD.getHostHeaderPlugin(this.config)),this.middlewareStack.use(nz.getLoggerPlugin(this.config)),this.middlewareStack.use(oz.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Vr.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:lD.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new Vr.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Vr.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},ld=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(cee).build(){},ud=class extends U.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc(lee).build(){},dd=class extends U.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(uee).build(){},pd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(dee).build(){},fd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(pee).build(){},md=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc(fee).build(){},hd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(mee).build(){},gd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(hee).build(){},yd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc(gee).build(){},Ed=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(yee).build(){},Sd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(Eee).build(){},bd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc(See).build(){},_d=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(bee).build(){},Td=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(Tee).build(){},wd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc(wee).build(){},Id=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(Iee).build(){},Ad=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(Aee).build(){},xd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(xee).build(){},Cd=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(Cee).build(){},Ts=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(vee).build(){},vd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(Ree).build(){},Rd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(Pee).build(){},Pd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(Dee).build(){},Dd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(Nee).build(){},Nd=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(Oee).build(){},Od=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(Lee).build(){},Ld=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(Mee).build(){},Md=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(kee).build(){},kd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(Uee).build(){},Ud=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"operationContextParams",get:t=>t?.TableCreationParameters?.TableName}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(Bee).build(){},Bd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(Fee).build(){},ba=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc($ee).build(){},_a=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(Gee).build(){},Fd=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(jee).build(){},Ta=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(qee).build(){},wa=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(Hee).build(){},$d=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc(zee).build(){},Gd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(Vee).build(){},jd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(Wee).build(){},Ia=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(Kee).build(){},qd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(Yee).build(){},Hd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(Xee).build(){},Aa=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(Qee).build(){},zd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(Jee).build(){},Vd=class extends U.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(Zee).build(){},Wd=class extends U.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(ete).build(){},Kd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc(tte).build(){},Yd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(rte).build(){},Xd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(nte).build(){},Qd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(ote).build(){},Jd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(ste).build(){},Zd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(ite).build(){},ep=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc(ate).build(){},tp=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(cte).build(){},rp=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc(lte).build(){},np=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(ute).build(){},mte={BatchExecuteStatementCommand:ld,BatchGetItemCommand:ud,BatchWriteItemCommand:dd,CreateBackupCommand:pd,CreateGlobalTableCommand:fd,CreateTableCommand:md,DeleteBackupCommand:hd,DeleteItemCommand:gd,DeleteResourcePolicyCommand:yd,DeleteTableCommand:Ed,DescribeBackupCommand:Sd,DescribeContinuousBackupsCommand:bd,DescribeContributorInsightsCommand:_d,DescribeEndpointsCommand:Sa,DescribeExportCommand:Td,DescribeGlobalTableCommand:wd,DescribeGlobalTableSettingsCommand:Id,DescribeImportCommand:Ad,DescribeKinesisStreamingDestinationCommand:xd,DescribeLimitsCommand:Cd,DescribeTableCommand:Ts,DescribeTableReplicaAutoScalingCommand:vd,DescribeTimeToLiveCommand:Rd,DisableKinesisStreamingDestinationCommand:Pd,EnableKinesisStreamingDestinationCommand:Dd,ExecuteStatementCommand:Nd,ExecuteTransactionCommand:Od,ExportTableToPointInTimeCommand:Ld,GetItemCommand:Md,GetResourcePolicyCommand:kd,ImportTableCommand:Ud,ListBackupsCommand:Bd,ListContributorInsightsCommand:ba,ListExportsCommand:_a,ListGlobalTablesCommand:Fd,ListImportsCommand:Ta,ListTablesCommand:wa,ListTagsOfResourceCommand:$d,PutItemCommand:Gd,PutResourcePolicyCommand:jd,QueryCommand:Ia,RestoreTableFromBackupCommand:qd,RestoreTableToPointInTimeCommand:Hd,ScanCommand:Aa,TagResourceCommand:zd,TransactGetItemsCommand:Vd,TransactWriteItemsCommand:Wd,UntagResourceCommand:Kd,UpdateContinuousBackupsCommand:Yd,UpdateContributorInsightsCommand:Xd,UpdateGlobalTableCommand:Qd,UpdateGlobalTableSettingsCommand:Jd,UpdateItemCommand:Zd,UpdateKinesisStreamingDestinationCommand:ep,UpdateTableCommand:tp,UpdateTableReplicaAutoScalingCommand:rp,UpdateTimeToLiveCommand:np},op=class extends hr{};U.createAggregatedClient(mte,op);var hte=Vr.createPaginator(hr,ba,"NextToken","NextToken","MaxResults"),gte=Vr.createPaginator(hr,_a,"NextToken","NextToken","MaxResults"),yte=Vr.createPaginator(hr,Ta,"NextToken","NextToken","PageSize"),Ete=Vr.createPaginator(hr,wa,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),Ste=Vr.createPaginator(hr,Ia,"ExclusiveStartKey","LastEvaluatedKey","Limit"),bte=Vr.createPaginator(hr,Aa,"ExclusiveStartKey","LastEvaluatedKey","Limit"),tL=async(e,t)=>{let r;try{let n=await e.send(new Ts(t));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:Wt.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Wt.WaiterState.RETRY,reason:r}}return{state:Wt.WaiterState.RETRY,reason:r}},_te=async(e,t)=>{let r={minDelay:20,maxDelay:120};return Wt.createWaiter({...r,...e},t,tL)},Tte=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await Wt.createWaiter({...r,...e},t,tL);return Wt.checkExceptions(n)},rL=async(e,t)=>{let r;try{r=await e.send(new Ts(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Wt.WaiterState.SUCCESS,reason:r}}return{state:Wt.WaiterState.RETRY,reason:r}},wte=async(e,t)=>{let r={minDelay:20,maxDelay:120};return Wt.createWaiter({...r,...e},t,rL)},Ite=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await Wt.createWaiter({...r,...e},t,rL);return Wt.checkExceptions(n)};Object.defineProperty(I,"$Command",{enumerable:!0,get:function(){return U.Command}});Object.defineProperty(I,"__Client",{enumerable:!0,get:function(){return U.Client}});I.ApproximateCreationDateTimePrecision=lz;I.AttributeAction=uz;I.BackupInUseException=mD;I.BackupNotFoundException=gD;I.BackupStatus=pz;I.BackupType=fz;I.BackupTypeFilter=_z;I.BatchExecuteStatementCommand=ld;I.BatchGetItemCommand=ud;I.BatchStatementErrorCodeEnum=Iz;I.BatchWriteItemCommand=dd;I.BillingMode=mz;I.ComparisonOperator=xz;I.ConditionalCheckFailedException=xN;I.ConditionalOperator=Cz;I.ContinuousBackupsStatus=vz;I.ContinuousBackupsUnavailableException=LD;I.ContributorInsightsAction=Pz;I.ContributorInsightsMode=Dz;I.ContributorInsightsStatus=Nz;I.CreateBackupCommand=pd;I.CreateGlobalTableCommand=fd;I.CreateTableCommand=md;I.DeleteBackupCommand=hd;I.DeleteItemCommand=gd;I.DeleteResourcePolicyCommand=yd;I.DeleteTableCommand=Ed;I.DescribeBackupCommand=Sd;I.DescribeContinuousBackupsCommand=bd;I.DescribeContributorInsightsCommand=_d;I.DescribeEndpointsCommand=Sa;I.DescribeExportCommand=Td;I.DescribeGlobalTableCommand=wd;I.DescribeGlobalTableSettingsCommand=Id;I.DescribeImportCommand=Ad;I.DescribeKinesisStreamingDestinationCommand=xd;I.DescribeLimitsCommand=Cd;I.DescribeTableCommand=Ts;I.DescribeTableReplicaAutoScalingCommand=vd;I.DescribeTimeToLiveCommand=Rd;I.DestinationStatus=Yz;I.DisableKinesisStreamingDestinationCommand=Pd;I.DuplicateItemException=rN;I.DynamoDB=op;I.DynamoDBClient=hr;I.DynamoDBServiceException=ie;I.EnableKinesisStreamingDestinationCommand=Dd;I.ExecuteStatementCommand=Nd;I.ExecuteTransactionCommand=Od;I.ExportConflictException=cN;I.ExportFormat=Gz;I.ExportNotFoundException=XD;I.ExportStatus=jz;I.ExportTableToPointInTimeCommand=Ld;I.ExportType=qz;I.ExportViewType=Hz;I.GetItemCommand=Md;I.GetResourcePolicyCommand=kd;I.GlobalTableAlreadyExistsException=jD;I.GlobalTableNotFoundException=JD;I.GlobalTableStatus=Oz;I.IdempotentParameterMismatchException=oN;I.ImportConflictException=mN;I.ImportNotFoundException=eN;I.ImportStatus=Vz;I.ImportTableCommand=Ud;I.IndexNotFoundException=IN;I.IndexStatus=Lz;I.InputCompressionType=Wz;I.InputFormat=Kz;I.InternalServerError=ED;I.InvalidEndpointException=ID;I.InvalidExportTimeException=uN;I.InvalidRestoreTimeException=EN;I.ItemCollectionSizeLimitExceededException=PD;I.KeyType=hz;I.LimitExceededException=kD;I.ListBackupsCommand=Bd;I.ListContributorInsightsCommand=ba;I.ListExportsCommand=_a;I.ListGlobalTablesCommand=Fd;I.ListImportsCommand=Ta;I.ListTablesCommand=wa;I.ListTagsOfResourceCommand=$d;I.MultiRegionConsistency=Fz;I.PointInTimeRecoveryStatus=Rz;I.PointInTimeRecoveryUnavailableException=pN;I.PolicyNotFoundException=KD;I.ProjectionType=gz;I.ProvisionedThroughputExceededException=xD;I.PutItemCommand=Gd;I.PutResourcePolicyCommand=jd;I.QueryCommand=Ia;I.ReplicaAlreadyExistsException=bN;I.ReplicaNotFoundException=TN;I.ReplicaStatus=Mz;I.ReplicatedWriteConflictException=ND;I.RequestLimitExceeded=bD;I.ResourceInUseException=HD;I.ResourceNotFoundException=vD;I.RestoreTableFromBackupCommand=qd;I.RestoreTableToPointInTimeCommand=Hd;I.ReturnConsumedCapacity=Tz;I.ReturnItemCollectionMetrics=Az;I.ReturnValue=$z;I.ReturnValuesOnConditionCheckFailure=wz;I.S3SseAlgorithm=zz;I.SSEStatus=Ez;I.SSEType=yz;I.ScalarAttributeType=dz;I.ScanCommand=Aa;I.Select=Xz;I.StreamViewType=Sz;I.TableAlreadyExistsException=gN;I.TableClass=kz;I.TableInUseException=BD;I.TableNotFoundException=$D;I.TableStatus=Uz;I.TagResourceCommand=zd;I.ThrottlingException=TD;I.TimeToLiveStatus=bz;I.TransactGetItemsCommand=Vd;I.TransactWriteItemsCommand=Wd;I.TransactionCanceledException=vN;I.TransactionConflictException=VD;I.TransactionInProgressException=iN;I.UntagResourceCommand=Kd;I.UpdateContinuousBackupsCommand=Yd;I.UpdateContributorInsightsCommand=Xd;I.UpdateGlobalTableCommand=Qd;I.UpdateGlobalTableSettingsCommand=Jd;I.UpdateItemCommand=Zd;I.UpdateKinesisStreamingDestinationCommand=ep;I.UpdateTableCommand=tp;I.UpdateTableReplicaAutoScalingCommand=rp;I.UpdateTimeToLiveCommand=np;I.WitnessStatus=Bz;I.paginateListContributorInsights=hte;I.paginateListExports=gte;I.paginateListImports=yte;I.paginateListTables=Ete;I.paginateQuery=Ste;I.paginateScan=bte;I.waitForTableExists=_te;I.waitForTableNotExists=wte;I.waitUntilTableExists=Tte;I.waitUntilTableNotExists=Ite});var fL=v(Os=>{"use strict";c();var Ns=class e{value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new e(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}},ja=(e,t)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return wp();if(Array.isArray(e))return Ate(e,t);if(e?.constructor?.name==="Set")return xte(e,t);if(e?.constructor?.name==="Map")return Cte(e,t);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return nL(e,t);if(pL(e))return e.length===0&&t?.convertEmptyValues?wp():cL(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return dL(e,t);if(e instanceof Ns)return e.toAttributeValue();if(typeof e=="bigint")return uL(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&t?.convertEmptyValues?wp():lL(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return nL(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},Ate=(e,t)=>({L:e.filter(r=>typeof r!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&r!==void 0)).map(r=>ja(r,t))}),xte=(e,t)=>{let r=t?.removeUndefinedValues?new Set([...e].filter(o=>o!==void 0)):e;if(!t?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t?.convertEmptyValues)return wp();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof Ns)return{NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return{NS:Array.from(r).map(o=>dL(o,t)).map(o=>o.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(uL).map(o=>o.N)};if(typeof n=="string")return{SS:Array.from(r).map(lL).map(o=>o.S)};if(pL(n))return{BS:Array.from(r).map(cL).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},Cte=(e,t)=>({M:(r=>{let n={};for(let[o,s]of r)typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=ja(s,t));return n})(e)}),nL=(e,t)=>({M:(r=>{let n={};for(let o in r){let s=r[o];typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=ja(s,t))}return n})(e)}),wp=()=>({NULL:!0}),cL=e=>({B:e}),lL=e=>({S:e.toString()}),uL=e=>({N:e.toString()}),oL=e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},dL=(e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t?.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?oL(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&oL(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},pL=e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1},Ga=(e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return sL(n,t);case"B":return aL(n);case"S":return iL(n);case"L":return vte(n,t);case"M":return Rte(n,t);case"NS":return new Set(n.map(o=>sL(o,t)));case"BS":return new Set(n.map(aL));case"SS":return new Set(n.map(iL));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},sL=(e,t)=>{if(typeof t?.wrapNumbers=="function")return t?.wrapNumbers(e);if(t?.wrapNumbers)return Ns.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},iL=e=>e,aL=e=>e,vte=(e,t)=>e.map(r=>Ga(r,t)),Rte=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(r[n]=Ga(o,t),r),{});function Pte(e,t){let r=ja(e,t),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return t?.convertTopLevelContainer?r:o;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}var Dte=(e,t)=>t?.convertWithoutMapWrapper?Ga(e,t):Ga({M:e},t);Os.NumberValueImpl=Ns;Os.convertToAttr=ja;Os.convertToNative=Ga;Os.marshall=Pte;Os.unmarshall=Dte});var gL=v(Le=>{"use strict";c();var vt=FE(),kp=te(),Nte=(Ke(),ae(sr)),GE=fL(),hL=(ut(),ae(oo)),qa=null,Y={},Jr=[],mL="*",Ip=(e,t,r)=>{if(e!==void 0){if(r==null)return t(e);{let n=Object.keys(r),o=n.length===1&&n[0]===mL,s=n.length>=1&&!o,i=n.length===0;if(s)return jE(e,t,r);if(i)return Ote(e,t,qa);if(o)return Object.entries(e??{}).reduce((a,[l,u])=>(typeof u!="function"&&(a[l]=Ip(u,t,r[mL])),a),Array.isArray(e)?[]:{})}}},jE=(e,t,r)=>{let n;if(Array.isArray(e))n=e.filter(o=>typeof o!="function");else{n={};for(let[o,s]of Object.entries(e))typeof s!="function"&&(n[o]=s)}for(let[o,s]of Object.entries(r)){if(typeof e[o]=="function")continue;let i=Ip(e[o],t,s);i!==void 0&&typeof i!="function"&&(n[o]=i)}return n},Ote=(e,t,r)=>Array.isArray(e)?e.filter(n=>typeof n!="function").map(n=>Ip(n,t,r)):Object.entries(e).reduce((n,[o,s])=>{if(typeof s=="function")return n;let i=Ip(s,t,r);return i!==void 0&&typeof i!="function"&&(n[o]=i),n},{}),Lte=(e,t,r)=>jE(e,o=>GE.marshall(o,r),t),Mte=(e,t,r)=>jE(e,o=>GE.unmarshall(o,r),t),st=class extends kp.Command{addMarshallingMiddleware(t){let{marshallOptions:r={},unmarshallOptions:n={}}=t.translateConfig||{};r.convertTopLevelContainer=r.convertTopLevelContainer??!0,n.convertWithoutMapWrapper=n.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((o,s)=>async i=>(Nte.setFeature(s,"DDB_MAPPER","d"),o({...i,input:Lte(i.input,this.inputKeyNodes,r)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((o,s)=>async i=>{let a=await o(i);return a.output=Mte(a.output,this.outputKeyNodes,n),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}},Ap=class extends st{input;inputKeyNodes={Statements:{"*":{Parameters:Jr}}};outputKeyNodes={Responses:{"*":{Error:{Item:Y},Item:Y}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.BatchExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},xp=class extends st{input;inputKeyNodes={RequestItems:{"*":{Keys:{"*":Y}}}};outputKeyNodes={Responses:{"*":{"*":Y}},UnprocessedKeys:{"*":{Keys:{"*":Y}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.BatchGetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Cp=class extends st{input;inputKeyNodes={RequestItems:{"*":{"*":{PutRequest:{Item:Y},DeleteRequest:{Key:Y}}}}};outputKeyNodes={UnprocessedItems:{"*":{"*":{PutRequest:{Item:Y},DeleteRequest:{Key:Y}}}},ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:Y}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.BatchWriteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},vp=class extends st{input;inputKeyNodes={Key:Y,Expected:{"*":{Value:qa,AttributeValueList:Jr}},ExpressionAttributeValues:Y};outputKeyNodes={Attributes:Y,ItemCollectionMetrics:{ItemCollectionKey:Y}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.DeleteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Rp=class extends st{input;inputKeyNodes={Parameters:Jr};outputKeyNodes={Items:{"*":Y},LastEvaluatedKey:Y};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.ExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Pp=class extends st{input;inputKeyNodes={TransactStatements:{"*":{Parameters:Jr}}};outputKeyNodes={Responses:{"*":{Item:Y}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.ExecuteTransactionCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Dp=class extends st{input;inputKeyNodes={Key:Y};outputKeyNodes={Item:Y};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.GetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Np=class extends st{input;inputKeyNodes={Item:Y,Expected:{"*":{Value:qa,AttributeValueList:Jr}},ExpressionAttributeValues:Y};outputKeyNodes={Attributes:Y,ItemCollectionMetrics:{ItemCollectionKey:Y}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.PutItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Ha=class extends st{input;inputKeyNodes={KeyConditions:{"*":{AttributeValueList:Jr}},QueryFilter:{"*":{AttributeValueList:Jr}},ExclusiveStartKey:Y,ExpressionAttributeValues:Y};outputKeyNodes={Items:{"*":Y},LastEvaluatedKey:Y};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.QueryCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},za=class extends st{input;inputKeyNodes={ScanFilter:{"*":{AttributeValueList:Jr}},ExclusiveStartKey:Y,ExpressionAttributeValues:Y};outputKeyNodes={Items:{"*":Y},LastEvaluatedKey:Y};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.ScanCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Op=class extends st{input;inputKeyNodes={TransactItems:{"*":{Get:{Key:Y}}}};outputKeyNodes={Responses:{"*":{Item:Y}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.TransactGetItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Lp=class extends st{input;inputKeyNodes={TransactItems:{"*":{ConditionCheck:{Key:Y,ExpressionAttributeValues:Y},Put:{Item:Y,ExpressionAttributeValues:Y},Delete:{Key:Y,ExpressionAttributeValues:Y},Update:{Key:Y,ExpressionAttributeValues:Y}}}};outputKeyNodes={ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:Y}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.TransactWriteItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Mp=class extends st{input;inputKeyNodes={Key:Y,AttributeUpdates:{"*":{Value:qa}},Expected:{"*":{Value:qa,AttributeValueList:Jr}},ExpressionAttributeValues:Y};outputKeyNodes={Attributes:Y,ItemCollectionMetrics:{ItemCollectionKey:Y}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new vt.UpdateItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Ls=class e extends kp.Client{config;constructor(t,r){if(super(t.config),this.config=t.config,this.config.translateConfig=r,this.middlewareStack=t.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(t,r){return new e(t,r)}destroy(){}},$E=class e extends Ls{static from(t,r){return new e(t,r)}batchExecuteStatement(t,r,n){let o=new Ap(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}batchGet(t,r,n){let o=new xp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}batchWrite(t,r,n){let o=new Cp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}delete(t,r,n){let o=new vp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}executeStatement(t,r,n){let o=new Rp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}executeTransaction(t,r,n){let o=new Pp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}get(t,r,n){let o=new Dp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}put(t,r,n){let o=new Np(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}query(t,r,n){let o=new Ha(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}scan(t,r,n){let o=new za(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}transactGet(t,r,n){let o=new Op(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}transactWrite(t,r,n){let o=new Lp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}update(t,r,n){let o=new Mp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}},kte=hL.createPaginator(Ls,Ha,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Ute=hL.createPaginator(Ls,za,"ExclusiveStartKey","LastEvaluatedKey","Limit");Object.defineProperty(Le,"$Command",{enumerable:!0,get:function(){return kp.Command}});Object.defineProperty(Le,"__Client",{enumerable:!0,get:function(){return kp.Client}});Object.defineProperty(Le,"NumberValue",{enumerable:!0,get:function(){return GE.NumberValueImpl}});Le.BatchExecuteStatementCommand=Ap;Le.BatchGetCommand=xp;Le.BatchWriteCommand=Cp;Le.DeleteCommand=vp;Le.DynamoDBDocument=$E;Le.DynamoDBDocumentClient=Ls;Le.DynamoDBDocumentClientCommand=st;Le.ExecuteStatementCommand=Rp;Le.ExecuteTransactionCommand=Pp;Le.GetCommand=Dp;Le.PutCommand=Np;Le.QueryCommand=Ha;Le.ScanCommand=za;Le.TransactGetCommand=Op;Le.TransactWriteCommand=Lp;Le.UpdateCommand=Mp;Le.paginateQuery=kte;Le.paginateScan=Ute});c();var yL=A(FE(),1),zn=A(gL(),1),EL=process.env.AWS_REGION||"us-east-1";console.log("[init] Initializing DynamoDB client");console.log(`[init] AWS_REGION from env: ${process.env.AWS_REGION||"not set"}`);console.log(`[init] Using region: ${EL}`);var Up=zn.DynamoDBDocumentClient.from(new yL.DynamoDBClient({region:EL}));async function Bte(e){let t=process.env.EIA_API_KEY;if(!t)return console.warn("EIA_API_KEY not configured, skipping EIA data"),null;try{let r=e.toUpperCase(),n=`https://api.eia.gov/v2/electricity/retail-sales/data/?api_key=${t}&frequency=monthly&data[0]=price&facets[stateid][]=${r}&sort[0][column]=period&sort[0][direction]=desc&length=1`,o=await fetch(n);if(!o.ok)return console.warn(`EIA API v2 failed, trying v1 fallback for ${e}`),await qE(e,t);let s=await o.json();if(s.response?.data&&s.response.data.length>0){let i=s.response.data[0].price;if(i&&i>0)return i/100}return await qE(e,t)}catch(r){return console.error(`Error fetching EIA rates for ${e}:`,r),await qE(e,process.env.EIA_API_KEY||"")}}async function qE(e,t){if(!t)return null;try{let o=`https://api.eia.gov/v2/seriesid/${`ELEC.PRICE.${e.toUpperCase()}-ALL.A`}/?api_key=${t}&out=json`,s=await fetch(o);if(!s.ok)return null;let i=await s.json();if(i.series&&i.series.length>0&&i.series[0].data){let a=i.series[0].data.filter(([,l])=>l!=null).map(([,l])=>l);if(a.length>0){let l=a.slice(-3);return l.reduce((m,h)=>m+h,0)/l.length/100}}return null}catch(r){return console.error(`Error fetching EIA v1 rates for ${e}:`,r),null}}async function Fte(e){let t=process.env.OPENEI_API_KEY;if(!t)return console.warn("OPENEI_API_KEY not configured, skipping OpenEI data"),null;try{let r=`https://api.openei.org/utility_rates?version=7&format=json&api_key=${t}&state=${e}&limit=1`,n=await fetch(r);if(!n.ok)throw new Error(`OpenEI API error: ${n.statusText}`);let o=await n.json();if(o.items&&o.items.length>0){let s=o.items.map(i=>i.rate).filter(i=>i>0);if(s.length>0)return s.reduce((a,l)=>a+l,0)/s.length}return null}catch(r){return console.error(`Error fetching OpenEI rates for ${e}:`,r),null}}function $te(e,t,r){let n=["Green Energy Co","Budget Power","Eco Power Solutions","Reliable Energy","Smart Energy","Clean Power Co","Value Energy","Premium Power"],o=n[r%n.length],s=[];return[{planName:"Fixed Rate 12 Month",contractType:"fixed",contractLengthMonths:12,ratePerKwh:e*(.95+Math.random()*.1),renewablePercentage:Math.random()>.5?100:0,earlyTerminationFee:Math.random()>.5?0:50+Math.random()*100,supplierRating:3.5+Math.random()*1.5},{planName:"Fixed Rate 24 Month",contractType:"fixed",contractLengthMonths:24,ratePerKwh:e*(.9+Math.random()*.1),renewablePercentage:Math.random()>.5?50:0,earlyTerminationFee:100+Math.random()*150,supplierRating:3.5+Math.random()*1.5},{planName:"Variable Rate",contractType:"variable",contractLengthMonths:0,ratePerKwh:e*(.85+Math.random()*.15),renewablePercentage:Math.random()>.5?25:0,earlyTerminationFee:0,supplierRating:3+Math.random()*2},{planName:"Green Energy Plus",contractType:"fixed",contractLengthMonths:12,ratePerKwh:e*(1.05+Math.random()*.1),renewablePercentage:100,earlyTerminationFee:0,supplierRating:4+Math.random()*1}].forEach((a,l)=>{s.push({planId:`plan-${t}-${r}-${l}-${Date.now()}`,supplierName:o,planName:`${o} ${a.planName}`,ratePerKwh:Math.round(a.ratePerKwh*1e3)/1e3,contractType:a.contractType,contractLengthMonths:a.contractLengthMonths,renewablePercentage:a.renewablePercentage,earlyTerminationFee:Math.round(a.earlyTerminationFee||0),supplierRating:Math.round(a.supplierRating*10)/10,state:t})}),s}function Gte(){let e=process.env.ENERGY_PLAN_TABLE_NAME;if(e)return console.log(`[getTableName] Using table name from environment: ${e}`),e;let n=(process.env.AMPLIFY_DATA_GRAPHQL_ENDPOINT||"").match(/https:\/\/([^.]+)\.appsync-api/)?.[1]||"";if(n){let o=`EnergyPlan-${n}-NONE`;return console.log(`[getTableName] Constructed table name from GraphQL endpoint: ${o}`),o}throw new Error("Unable to determine table name. ENERGY_PLAN_TABLE_NAME environment variable is not set and AMPLIFY_DATA_GRAPHQL_ENDPOINT is not available.")}async function jte(e){let t=0,r=new Date().toISOString(),n=Gte(),o=process.env.AWS_REGION||"us-east-1";console.log(`[storePlans] Attempting to store ${e.length} plans`),console.log(`[storePlans] Table name: ${n}`),console.log(`[storePlans] Region: ${o}`),console.log(`[storePlans] DynamoDB client region: ${Up.config.region||"not set"}`);for(let s of e)try{let i=s.planId;console.log(`[storePlans] Processing plan: ${s.planId} (id: ${i})`),console.log(`[storePlans] Checking if plan exists: ${i}`);let a=await Up.send(new zn.GetCommand({TableName:n,Key:{id:i}}));console.log(`[storePlans] GetItem result: ${a.Item?"exists":"not found"}`);let l={id:i,planId:s.planId,supplierName:s.supplierName,planName:s.planName,ratePerKwh:s.ratePerKwh,contractType:s.contractType,contractLengthMonths:s.contractLengthMonths??null,renewablePercentage:s.renewablePercentage??null,earlyTerminationFee:s.earlyTerminationFee??null,supplierRating:s.supplierRating??null,state:s.state,utilityTerritory:null,updatedAt:r};a.Item?(console.log(`[storePlans] Updating existing plan: ${s.planId}`),await Up.send(new zn.UpdateCommand({TableName:n,Key:{id:i},UpdateExpression:"SET planId = :planId, supplierName = :supplierName, planName = :planName, ratePerKwh = :ratePerKwh, contractType = :contractType, contractLengthMonths = :contractLengthMonths, renewablePercentage = :renewablePercentage, earlyTerminationFee = :earlyTerminationFee, supplierRating = :supplierRating, state = :state, updatedAt = :updatedAt",ExpressionAttributeValues:{":planId":s.planId,":supplierName":s.supplierName,":planName":s.planName,":ratePerKwh":s.ratePerKwh,":contractType":s.contractType,":contractLengthMonths":s.contractLengthMonths??null,":renewablePercentage":s.renewablePercentage??null,":earlyTerminationFee":s.earlyTerminationFee??null,":supplierRating":s.supplierRating??null,":state":s.state,":updatedAt":r}})),console.log(`[storePlans] Successfully updated plan: ${s.planId}`),t++):(console.log(`[storePlans] Creating new plan: ${s.planId}`),await Up.send(new zn.PutCommand({TableName:n,Item:{...l,createdAt:r}})),console.log(`[storePlans] Successfully created plan: ${s.planId}`),t++)}catch(i){console.error(`[storePlans] Error storing plan ${s.planId}:`,i),console.error("[storePlans] Error details:",{message:i instanceof Error?i.message:String(i),name:i instanceof Error?i.name:"Unknown",tableName:n,region:process.env.AWS_REGION||"us-east-1"})}return console.log(`[storePlans] Completed: stored ${t} out of ${e.length} plans`),t}var nEe=async e=>{console.log("[handler] Starting plan catalog update"),console.log("[handler] Event:",JSON.stringify(e,null,2)),console.log("[handler] Environment variables:",{AWS_REGION:process.env.AWS_REGION,AMPLIFY_DATA_GRAPHQL_ENDPOINT:process.env.AMPLIFY_DATA_GRAPHQL_ENDPOINT?.substring(0,50)+"...",ENERGY_PLAN_TABLE_NAME:process.env.ENERGY_PLAN_TABLE_NAME});try{let{sources:t=["eia","openei"],states:r=["CA","TX","NY","FL"]}=e;console.log(`[handler] Processing states: ${r.join(", ")}`),console.log(`[handler] Using sources: ${t.join(", ")}`);let n=0;for(let o of r){let s=null;t.includes("eia")&&(s=await Bte(o)),!s&&t.includes("openei")&&(s=await Fte(o)),s||(s={CA:.22,TX:.12,NY:.18,FL:.12,IL:.12,PA:.14,OH:.12,GA:.11}[o.toUpperCase()]||.13,console.warn(`Using default rate for ${o}: $${s}/kWh`));let i=3+Math.floor(Math.random()*2),a=[];for(let u=0;u<i;u++){let m=$te(s,o,u);a.push(...m)}let l=await jte(a);n+=l,console.log(`Generated ${a.length} plans for ${o}, stored ${l}`)}return{success:!0,plansUpdated:n}}catch(t){return console.error("Error updating plan catalog:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}};export{nEe as handler};
//# sourceMappingURL=index.mjs.map
