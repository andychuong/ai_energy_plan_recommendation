/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var HL=Object.create;var ja=Object.defineProperty;var zL=Object.getOwnPropertyDescriptor;var VL=Object.getOwnPropertyNames;var WL=Object.getPrototypeOf,KL=Object.prototype.hasOwnProperty;var me=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var w=(e,t)=>()=>(e&&(t=e(e=0)),t);var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),mt=(e,t)=>{for(var r in t)ja(e,r,{get:t[r],enumerable:!0})},VE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VL(t))!KL.call(e,o)&&o!==r&&ja(e,o,{get:()=>t[o],enumerable:!(n=zL(t,o))||n.enumerable});return e};var A=(e,t,r)=>(r=e!=null?HL(WL(e)):{},VE(t||!e||!e.__esModule?ja(r,"default",{value:e,enumerable:!0}):r,e)),ae=e=>VE(ja({},"__esModule",{value:!0}),e);import{createRequire as YL}from"node:module";import XL from"node:path";import QL from"node:url";var c=w(()=>{global.require=YL(import.meta.url);global.__filename=QL.fileURLToPath(import.meta.url);global.__dirname=XL.dirname(__filename)});var Zr=v(Ie=>{"use strict";c();Ie.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Ie.HttpAuthLocation||(Ie.HttpAuthLocation={}));Ie.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Ie.HttpApiKeyAuthLocation||(Ie.HttpApiKeyAuthLocation={}));Ie.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Ie.EndpointURLScheme||(Ie.EndpointURLScheme={}));Ie.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Ie.AlgorithmId||(Ie.AlgorithmId={}));var JL=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>Ie.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>Ie.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},ZL=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},eM=e=>JL(e),tM=e=>ZL(e);Ie.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Ie.FieldPosition||(Ie.FieldPosition={}));var rM="__smithy_context";Ie.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Ie.IniSectionType||(Ie.IniSectionType={}));Ie.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Ie.RequestHandlerProtocol||(Ie.RequestHandlerProtocol={}));Ie.SMITHY_CONTEXT_KEY=rM;Ie.getDefaultClientConfiguration=eM;Ie.resolveDefaultRuntimeConfig=tM});var st=v(Up=>{"use strict";c();var WE=Zr(),nM=e=>e[WE.SMITHY_CONTEXT_KEY]||(e[WE.SMITHY_CONTEXT_KEY]={}),oM=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Up.getSmithyContext=nM;Up.normalizeProvider=oM});function bo(e){return KE.includes(e)}var Ds,KE,qa=w(()=>{c();Ds="preferred",KE=["disabled","preferred","required"]});var YE,sM,XE=w(()=>{c();YE=A(st());qa();sM=e=>{let{accountIdEndpointMode:t}=e,r=(0,YE.normalizeProvider)(t??Ds);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!bo(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var QE,JE,ZE,eS,iM,tS=w(()=>{c();qa();QE="Invalid AccountIdEndpointMode value",JE=e=>{throw new Error(e)},ZE="AWS_ACCOUNT_ID_ENDPOINT_MODE",eS="account_id_endpoint_mode",iM={environmentVariableSelector:e=>{let t=e[ZE];return t&&!bo(t)&&JE(QE),t},configFileSelector:e=>{let t=e[eS];return t&&!bo(t)&&JE(QE),t},default:Ds}});var Bp={};mt(Bp,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>KE,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>eS,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>Ds,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>ZE,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>iM,resolveAccountIdEndpointModeConfig:()=>sM,validateAccountIdEndpointMode:()=>bo});var Fp=w(()=>{c();XE();qa();tS()});var _e=v(en=>{"use strict";c();var aM=Zr(),cM=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),lM=e=>({httpHandler:e.httpHandler()}),$p=class{name;kind;values;constructor({name:t,kind:r=aM.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Gp=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},jp=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=uM(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function uM(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var qp=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function dM(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}en.Field=$p;en.Fields=Gp;en.HttpRequest=jp;en.HttpResponse=qp;en.getHttpHandlerExtensionConfiguration=cM;en.isValidHostname=dM;en.resolveHttpHandlerRuntimeConfig=lM});var nS=v((ire,rS)=>{c();function _r(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}_r.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(_r.prototype[Symbol.iterator]=function(){return this});_r.of=function(){var e=arguments,t=e.length,r=0;return new _r(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};_r.empty=function(){var e=new _r(null);return e.done=!0,e};_r.is=function(e){return e instanceof _r?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};rS.exports=_r});var Hp=v((cre,aS)=>{c();var oS=typeof ArrayBuffer<"u",sS=typeof Symbol<"u";function iS(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||oS&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(sS&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}iS.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||oS&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(sS&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};aS.exports=iS});var zp=v(Qt=>{c();var pM=Math.pow(2,8)-1,fM=Math.pow(2,16)-1,mM=Math.pow(2,32)-1,hM=Math.pow(2,7)-1,gM=Math.pow(2,15)-1,yM=Math.pow(2,31)-1;Qt.getPointerArray=function(e){var t=e-1;return t<=pM?Uint8Array:t<=fM?Uint16Array:t<=mM?Uint32Array:Float64Array};Qt.getSignedPointerArray=function(e){var t=e-1;return t<=hM?Int8Array:t<=gM?Int16Array:t<=yM?Int32Array:Float64Array};Qt.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var EM={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Qt.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,a,l;for(a=0,l=e.length;a<l;a++)i=t?t(e[a]):e[a],s=Qt.getNumberType(i),o=EM[s.name],o>n&&(n=o,r=s);return r};Qt.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};Qt.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};Qt.indices=function(e){for(var t=Qt.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var uS=v(Ns=>{c();var cS=Hp(),lS=zp();function SM(e){return Array.isArray(e)||lS.isTypedArray(e)}function Vp(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function bM(e){var t=Vp(e),r=typeof t=="number"?new Array(t):[],n=0;return cS(e,function(o){r[n++]=o}),r}function _M(e){var t=Vp(e),r=typeof t=="number"?lS.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return cS(e,function(i){n[s]=i,o[s]=s++}),[n,o]}Ns.isArrayLike=SM;Ns.guessLength=Vp;Ns.toArray=bM;Ns.toArrayWithIndices=_M});var pS=v((mre,dS)=>{c();var Wp=nS(),TM=Hp(),wM=zp(),IM=uS();function Ge(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=wM.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Ge.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Ge.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Ge.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Ge.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};Ge.prototype.has=function(e){return e in this.items};Ge.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Ge.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Ge.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[o],s[o],this),o=a[o],r++};Ge.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new Wp(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Ge.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new Wp(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Ge.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new Wp(function(){if(e>=t)return{done:!0};var i=n[r],a=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Ge.prototype[Symbol.iterator]=Ge.prototype.entries);Ge.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Ge,enumerable:!1}),e};typeof Symbol<"u"&&(Ge.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ge.prototype.inspect);Ge.from=function(e,t,r,n){if(arguments.length<2){if(n=IM.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new Ge(t,r,n);return TM(e,function(s,i){o.set(i,s)}),o};dS.exports=Ge});var gS=v((gre,hS)=>{"use strict";c();var AM=Object.create,Os=Object.defineProperty,xM=Object.getOwnPropertyDescriptor,CM=Object.getOwnPropertyNames,vM=Object.getPrototypeOf,RM=Object.prototype.hasOwnProperty,PM=(e,t)=>Os(e,"name",{value:t,configurable:!0}),DM=(e,t)=>{for(var r in t)Os(e,r,{get:t[r],enumerable:!0})},fS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CM(t))!RM.call(e,o)&&o!==r&&Os(e,o,{get:()=>t[o],enumerable:!(n=xM(t,o))||n.enumerable});return e},NM=(e,t,r)=>(r=e!=null?AM(vM(e)):{},fS(t||!e||!e.__esModule?Os(r,"default",{value:e,enumerable:!0}):r,e)),OM=e=>fS(Os({},"__esModule",{value:!0}),e),mS={};DM(mS,{EndpointCache:()=>MM});hS.exports=OM(mS);var LM=NM(pS()),MM=class{static{PM(this,"EndpointCache")}cache;constructor(e){this.cache=new LM.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(o=>r<o.Expires);if(n.length===0){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:n,CachePeriodInMinutes:o})=>({Address:n,Expires:r+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}}});var Xp=v(zn=>{"use strict";c();var kM=_e(),UM=gS(),yS=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Kp="endpoint_discovery_enabled",ES=e=>["false","0"].indexOf(e)>=0,BM={environmentVariableSelector:e=>{for(let t=0;t<yS.length;t++){let r=yS[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!ES(n)}}},configFileSelector:e=>{if(Kp in e){let t=e[Kp];if(t===void 0)throw Error(`Shared config entry ${Kp} can't be undefined, got "${t}"`);return!ES(t)}},default:void 0},FM=async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,a])=>({...s,[i]:a}),{})}})},Tr={},SS=async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:a}=t,l=o.get(s);if(l&&l.length===1&&l[0].Address==="")t.isDiscoveredEndpointRequired?(Tr[s]||(Tr[s]=[]),Tr[s].push({resolve:r,reject:n})):r();else if(l&&l.length>0)r();else{let u=[{Address:"",CachePeriodInMinutes:1}];o.set(s,u);let m=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});m.resolveMiddleware(t.clientStack,e,t.options)(m).then(y=>{o.set(s,y.output.Endpoints),Tr[s]&&(Tr[s].forEach(({resolve:g})=>{g()}),delete Tr[s]),r()}).catch(y=>{o.delete(s);let g=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:y});Tr[s]&&(Tr[s].forEach(({reject:S})=>{S(g)}),delete Tr[s]),t.isDiscoveredEndpointRequired?n(g):(o.set(s,u),r())})}}),Yp=(e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,l=n.clientName,u=n.commandName,m=await e.endpointDiscoveryEnabled(),h=await FM(u,e,{identifiers:a});if(i){if(m===!1)throw new Error(`Endpoint Discovery is disabled but ${u} on ${l} requires it. Please check your configurations.`);await SS(e,{...t,commandName:u,cacheKey:h,endpointDiscoveryCommandCtor:s})}else m&&SS(e,{...t,commandName:u,cacheKey:h,endpointDiscoveryCommandCtor:s});let{request:y}=o;if(h&&kM.HttpRequest.isInstance(y)){let g=e.endpointCache.getEndpoint(h);g&&(y.hostname=g)}return r(o)},Ha={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},$M=(e,t)=>({applyToStack:r=>{r.add(Yp(e,t),Ha)}}),GM=(e,t)=>({applyToStack:r=>{r.add(Yp(e,{...t,isDiscoveredEndpointRequired:!0}),Ha)}}),jM=(e,t)=>({applyToStack:r=>{r.add(Yp(e,{...t,isDiscoveredEndpointRequired:!1}),Ha)}}),qM=(e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new UM.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})};zn.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS=BM;zn.endpointDiscoveryMiddlewareOptions=Ha;zn.getEndpointDiscoveryOptionalPlugin=jM;zn.getEndpointDiscoveryPlugin=$M;zn.getEndpointDiscoveryRequiredPlugin=GM;zn.resolveEndpointDiscoveryConfig=qM});var Ms=v(Ls=>{"use strict";c();var HM=_e();function zM(e){return e}var bS=e=>t=>async r=>{if(!HM.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},_S={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},VM=e=>({applyToStack:t=>{t.add(bS(e),_S)}});Ls.getHostHeaderPlugin=VM;Ls.hostHeaderMiddleware=bS;Ls.hostHeaderMiddlewareOptions=_S;Ls.resolveHostHeaderConfig=zM});var ks=v(za=>{"use strict";c();var TS=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=a,m=l??t.inputFilterSensitiveLog,h=u??t.outputFilterSensitiveLog,{$metadata:y,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:m(r.input),output:h(g),metadata:y}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:l}=a,u=l??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:u(r.input),error:n,metadata:n.$metadata}),n}},wS={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},WM=e=>({applyToStack:t=>{t.add(TS(),wS)}});za.getLoggerPlugin=WM;za.loggerMiddleware=TS;za.loggerMiddlewareOptions=wS});var IS={};mt(IS,{InvokeStore:()=>XM});import{AsyncLocalStorage as KM}from"async_hooks";var Qp,YM,Jp,Va,XM,AS=w(()=>{c();Qp=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";Qp||(globalThis.awslambda=globalThis.awslambda||{});YM={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol("_AWS_LAMBDA_TENANT_ID")},Jp=class{static storage=new KM;static PROTECTED_KEYS=YM;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){return this.storage.getStore()?.[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static getTenantId(){return this.get(this.PROTECTED_KEYS.TENANT_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}};!Qp&&globalThis.awslambda?.InvokeStore?Va=globalThis.awslambda.InvokeStore:(Va=Jp,!Qp&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=Va));XM=Va});var xS=v(Wa=>{"use strict";c();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.recursionDetectionMiddleware=void 0;var QM=(AS(),ae(IS)),JM=_e(),Zp="X-Amzn-Trace-Id",ZM="AWS_LAMBDA_FUNCTION_NAME",ek="_X_AMZN_TRACE_ID",tk=()=>e=>async t=>{let{request:r}=t;if(!JM.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(u=>u.toLowerCase()===Zp.toLowerCase())??Zp;if(r.headers.hasOwnProperty(n))return e(t);let o=process.env[ZM],s=process.env[ek],a=QM.InvokeStore.getXRayTraceId()??s,l=u=>typeof u=="string"&&u.length>0;return l(o)&&l(a)&&(r.headers[Zp]=a),e({...t,request:r})};Wa.recursionDetectionMiddleware=tk});var Us=v(Ka=>{"use strict";c();var ef=xS(),rk={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},nk=e=>({applyToStack:t=>{t.add(ef.recursionDetectionMiddleware(),rk)}});Ka.getRecursionDetectionPlugin=nk;Object.keys(ef).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ka,e)&&Object.defineProperty(Ka,e,{enumerable:!0,get:function(){return ef[e]}})})});var tf,ok,CS=w(()=>{c();tf=A(Zr()),ok=e=>e[tf.SMITHY_CONTEXT_KEY]||(e[tf.SMITHY_CONTEXT_KEY]={})});var vS,RS=w(()=>{c();vS=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function sk(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var PS,Bs,Ya=w(()=>{c();PS=A(st());RS();Bs=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=vS(s,i),l=sk(e.httpAuthSchemes),u=(0,PS.getSmithyContext)(n),m=[];for(let h of a){let y=l.get(h.schemeId);if(!y){m.push(`HttpAuthScheme \`${h.schemeId}\` was not enabled for this service.`);continue}let g=y.identityProvider(await t.identityProviderConfigProvider(e));if(!g){m.push(`HttpAuthScheme \`${h.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:S={},signingProperties:x={}}=h.propertiesExtractor?.(e,n)||{};h.identityProperties=Object.assign(h.identityProperties||{},S),h.signingProperties=Object.assign(h.signingProperties||{},x),u.selectedHttpAuthScheme={httpAuthOption:h,identity:await g(h.identityProperties),signer:y.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(m.join(`
`));return r(o)}});var DS,Fs,NS=w(()=>{c();Ya();DS={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Fs=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Bs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),DS)}})});var Vn=v(_o=>{"use strict";c();var ik=_e(),OS=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(ik.HttpResponse.isInstance(s)){let{headers:l={}}=s,u=Object.entries(l);i.$metadata={httpStatusCode:s.statusCode,requestId:rf(/^x-[\w-]+-request-?id$/,u),extendedRequestId:rf(/^x-[\w-]+-id-2$/,u),cfId:rf(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},rf=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],LS=(e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},MS={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},kS={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ak(e,t,r){return{applyToStack:n=>{n.add(OS(e,r),MS),n.add(LS(e,t),kS)}}}_o.deserializerMiddleware=OS;_o.deserializerMiddlewareOption=MS;_o.getSerdePlugin=ak;_o.serializerMiddleware=LS;_o.serializerMiddlewareOption=kS});var US,BS,ck,FS=w(()=>{c();US=A(Vn());Ya();BS={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:US.serializerMiddlewareOption.name},ck=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Bs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),BS)}})});var $S=w(()=>{c();Ya();NS();FS()});var GS,jS,lk,uk,nf,of=w(()=>{c();GS=A(_e()),jS=A(st()),lk=e=>t=>{throw t},uk=(e,t)=>{},nf=e=>(t,r)=>async n=>{if(!GS.HttpRequest.isInstance(n.request))return t(n);let s=(0,jS.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=s,u=await t({...n,request:await l.sign(n.request,a,i)}).catch((l.errorHandler||lk)(i));return(l.successHandler||uk)(u.response,i),u}});var qS,$s,HS=w(()=>{c();of();qS={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},$s=e=>({applyToStack:t=>{t.addRelativeTo(nf(e),qS)}})});var zS=w(()=>{c();of();HS()});var tn,VS=w(()=>{c();tn=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function WS(e,t,r,n,o){return async function*(i,a,...l){let u=a,m=i.startingToken??u[r],h=!0,y;for(;h;){if(u[r]=m,o&&(u[o]=u[o]??i.pageSize),i.client instanceof e)y=await dk(t,i.client,a,i.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield y;let g=m;m=pk(y,n),h=!!(m&&(!i.stopOnSameToken||m!==g))}return void 0}}var dk,pk,KS=w(()=>{c();dk=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};pk=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var sf=v(YS=>{"use strict";c();var fk=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";YS.isArrayBuffer=fk});var ze=v(cf=>{"use strict";c();var mk=sf(),af=me("buffer"),hk=(e,t=0,r=e.byteLength-t)=>{if(!mk.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return af.Buffer.from(e,t,r)},gk=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?af.Buffer.from(e,t):af.Buffer.from(e)};cf.fromArrayBuffer=hk;cf.fromString=gk});var XS=v(Xa=>{"use strict";c();Object.defineProperty(Xa,"__esModule",{value:!0});Xa.fromBase64=void 0;var yk=ze(),Ek=/^[A-Za-z0-9+/]*={0,2}$/,Sk=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Ek.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,yk.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Xa.fromBase64=Sk});var Ce=v(Qa=>{"use strict";c();var QS=ze(),JS=e=>{let t=QS.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},bk=e=>typeof e=="string"?JS(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),_k=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return QS.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Qa.fromUtf8=JS;Qa.toUint8Array=bk;Qa.toUtf8=_k});var ZS=v(Ja=>{"use strict";c();Object.defineProperty(Ja,"__esModule",{value:!0});Ja.toBase64=void 0;var Tk=ze(),wk=Ce(),Ik=e=>{let t;if(typeof e=="string"?t=(0,wk.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Tk.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Ja.toBase64=Ik});var js=v(Gs=>{"use strict";c();var eb=XS(),tb=ZS();Object.keys(eb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Gs,e)&&Object.defineProperty(Gs,e,{enumerable:!0,get:function(){return eb[e]}})});Object.keys(tb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Gs,e)&&Object.defineProperty(Gs,e,{enumerable:!0,get:function(){return tb[e]}})})});var uf=v(Za=>{"use strict";c();Object.defineProperty(Za,"__esModule",{value:!0});Za.ChecksumStream=void 0;var Ak=js(),xk=me("stream"),lf=class extends xk.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=s??Ak.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Za.ChecksumStream=lf});var rn=v(To=>{"use strict";c();Object.defineProperty(To,"__esModule",{value:!0});To.isBlob=To.isReadableStream=void 0;var Ck=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);To.isReadableStream=Ck;var vk=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);To.isBlob=vk});var rb=v(ec=>{"use strict";c();Object.defineProperty(ec,"__esModule",{value:!0});ec.ChecksumStream=void 0;var Rk=typeof ReadableStream=="function"?ReadableStream:function(){},df=class extends Rk{};ec.ChecksumStream=df});var nb=v(tc=>{"use strict";c();Object.defineProperty(tc,"__esModule",{value:!0});tc.createChecksumStream=void 0;var Pk=js(),Dk=rn(),Nk=rb(),Ok=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{if(!(0,Dk.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=o??Pk.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(l,u){t.update(l),u.enqueue(l)},async flush(l){let u=await t.digest(),m=s(u);if(e!==m){let h=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);l.error(h)}else l.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,Nk.ChecksumStream.prototype),a};tc.createChecksumStream=Ok});var ob=v(pf=>{"use strict";c();Object.defineProperty(pf,"__esModule",{value:!0});pf.createChecksumStream=Uk;var Lk=rn(),Mk=uf(),kk=nb();function Uk(e){return typeof ReadableStream=="function"&&(0,Lk.isReadableStream)(e.source)?(0,kk.createChecksumStream)(e):new Mk.ChecksumStream(e)}});var mf=v(rc=>{"use strict";c();Object.defineProperty(rc,"__esModule",{value:!0});rc.ByteArrayCollector=void 0;var ff=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};rc.ByteArrayCollector=ff});var cb=v(wr=>{"use strict";c();Object.defineProperty(wr,"__esModule",{value:!0});wr.createBufferedReadable=void 0;wr.createBufferedReadableStream=sb;wr.merge=ib;wr.flush=nc;wr.sizeOf=wo;wr.modeOf=ab;var Bk=mf();function sb(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new Bk.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,l=async u=>{let{value:m,done:h}=await n.read(),y=m;if(h){if(a!==-1){let g=nc(i,a);wo(g)>0&&u.enqueue(g)}u.close()}else{let g=ab(y,!1);if(a!==g&&(a>=0&&u.enqueue(nc(i,a)),a=g),a===-1){u.enqueue(y);return}let S=wo(y);s+=S;let x=wo(i[a]);if(S>=t&&x===0)u.enqueue(y);else{let R=ib(i,a,y);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${t}, automatically buffering.`)),R>=t?u.enqueue(nc(i,a)):await l(u)}}};return new ReadableStream({pull:l})}wr.createBufferedReadable=sb;function ib(e,t,r){switch(t){case 0:return e[0]+=r,wo(e[0]);case 1:case 2:return e[t].push(r),wo(e[t])}}function nc(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function wo(e){return e?.byteLength??e?.length??0}function ab(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var ub=v(hf=>{"use strict";c();Object.defineProperty(hf,"__esModule",{value:!0});hf.createBufferedReadable=Gk;var Fk=me("node:stream"),lb=mf(),Ir=cb(),$k=rn();function Gk(e,t,r){if((0,$k.isReadableStream)(e))return(0,Ir.createBufferedReadableStream)(e,t,r);let n=new Fk.Readable({read(){}}),o=!1,s=0,i=["",new lb.ByteArrayCollector(l=>new Uint8Array(l)),new lb.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],a=-1;return e.on("data",l=>{let u=(0,Ir.modeOf)(l,!0);if(a!==u&&(a>=0&&n.push((0,Ir.flush)(i,a)),a=u),a===-1){n.push(l);return}let m=(0,Ir.sizeOf)(l);s+=m;let h=(0,Ir.sizeOf)(i[a]);if(m>=t&&h===0)n.push(l);else{let y=(0,Ir.merge)(i,a,l);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${t}, automatically buffering.`)),y>=t&&n.push((0,Ir.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let l=(0,Ir.flush)(i,a);(0,Ir.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var db=v(oc=>{"use strict";c();Object.defineProperty(oc,"__esModule",{value:!0});oc.getAwsChunkedEncodingStream=void 0;var jk=me("stream"),qk=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,l=a?i(o,e):void 0,u=new jk.Readable({read:()=>{}});return e.on("data",m=>{let h=n(m)||0;u.push(`${h.toString(16)}\r
`),u.push(m),u.push(`\r
`)}),e.on("end",async()=>{if(u.push(`0\r
`),a){let m=r(await l);u.push(`${s}:${m}\r
`),u.push(`\r
`)}u.push(null)}),u};oc.getAwsChunkedEncodingStream=qk});var pb=v(gf=>{"use strict";c();Object.defineProperty(gf,"__esModule",{value:!0});gf.headStream=Hk;async function Hk(e,t){let r=0,n=[],o=e.getReader(),s=!1;for(;!s;){let{done:l,value:u}=await o.read();if(u&&(n.push(u),r+=u?.byteLength??0),r>=t)break;s=l}o.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let l of n){if(l.byteLength>i.byteLength-a){i.set(l.subarray(0,i.byteLength-a),a);break}else i.set(l,a);a+=l.length}return i}});var fb=v(sc=>{"use strict";c();Object.defineProperty(sc,"__esModule",{value:!0});sc.headStream=void 0;var zk=me("stream"),Vk=pb(),Wk=rn(),Kk=(e,t)=>(0,Wk.isReadableStream)(e)?(0,Vk.headStream)(e,t):new Promise((r,n)=>{let o=new yf;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});sc.headStream=Kk;var yf=class extends zk.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var Sf=v(Ef=>{"use strict";c();var mb=e=>encodeURIComponent(e).replace(/[!'()*]/g,Yk),Yk=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,Xk=e=>e.split("/").map(mb).join("/");Ef.escapeUri=mb;Ef.escapeUriPath=Xk});var _f=v(hb=>{"use strict";c();var bf=Sf();function Qk(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=bf.escapeUri(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${bf.escapeUri(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${bf.escapeUri(n)}`),t.push(o)}}return t.join("&")}hb.buildQueryString=Qk});var Wn=v(qs=>{"use strict";c();var Sb=_e(),bb=_f(),ic=me("http"),ac=me("https"),_b=me("stream"),Tf=me("http2"),Jk=["ECONNRESET","EPIPE","ETIMEDOUT"],Tb=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},it={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},gb=1e3,Zk=(e,t,r=0)=>{if(!r)return-1;let n=o=>{let s=it.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-o),i=a=>{a?.connecting?a.on("connect",()=>{it.clearTimeout(s)}):it.clearTimeout(s)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):it.setTimeout(n.bind(null,gb),gb)},eU=(e,t,r=0,n,o)=>r?it.setTimeout(()=>{let s=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(s)},r):-1,tU=3e3,rU=(e,{keepAlive:t,keepAliveMsecs:r},n=tU)=>{if(t!==!0)return-1;let o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})};return n===0?(o(),0):it.setTimeout(o,n)},yb=3e3,nU=(e,t,r=0)=>{let n=o=>{let s=r-o,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)};return 0<r&&r<6e3?(n(0),0):it.setTimeout(n.bind(null,r===0?0:yb),yb)},Eb=6e3;async function wb(e,t,r=Eb,n=!1){let o=t.headers??{},s=o.Expect||o.expect,i=-1,a=!0;!n&&s==="100-continue"&&(a=await Promise.race([new Promise(l=>{i=Number(it.setTimeout(()=>l(!0),Math.max(Eb,r)))}),new Promise(l=>{e.on("continue",()=>{it.clearTimeout(i),l(!0)}),e.on("response",()=>{it.clearTimeout(i),l(!1)}),e.on("error",()=>{it.clearTimeout(i),l(!1)})})])),a&&oU(e,t.body)}function oU(e,t){if(t instanceof _b.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var sU=0,wf=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let l in o){let u=o[l]?.length??0,m=s[l]?.length??0;if(u>=i&&m>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${m} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:l}=t||{},u=!0,m=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:l,httpAgent:i instanceof ic.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new ic.Agent({keepAlive:u,maxSockets:m,...i}),httpsAgent:a instanceof ac.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new ac.Agent({keepAlive:u,maxSockets:m,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i=this.config,a,l=[],u=async ne=>{await a,l.forEach(it.clearTimeout),o(ne)},m=async ne=>{await a,l.forEach(it.clearTimeout),s(ne)};if(r?.aborted){let ne=new Error("Request aborted");ne.name="AbortError",m(ne);return}let h=t.protocol==="https:",y=t.headers??{},g=(y.Expect??y.expect)==="100-continue",S=h?i.httpsAgent:i.httpAgent;g&&!this.externalAgent&&(S=new(h?ac.Agent:ic.Agent)({keepAlive:!1,maxSockets:1/0})),l.push(it.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(S,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let x=bb.buildQueryString(t.query||{}),R;if(t.username!=null||t.password!=null){let ne=t.username??"",ue=t.password??"";R=`${ne}:${ue}`}let P=t.path;x&&(P+=`?${x}`),t.fragment&&(P+=`#${t.fragment}`);let O=t.hostname??"";O[0]==="["&&O.endsWith("]")?O=t.hostname.slice(1,-1):O=t.hostname;let z={headers:t.headers,host:O,method:t.method,path:P,port:t.port,agent:S,auth:R},Z=(h?ac.request:ic.request)(z,ne=>{let ue=new Sb.HttpResponse({statusCode:ne.statusCode||-1,reason:ne.statusMessage,headers:Tb(ne.headers),body:ne});u({response:ue})});if(Z.on("error",ne=>{Jk.includes(ne.code)?m(Object.assign(ne,{name:"TimeoutError"})):m(ne)}),r){let ne=()=>{Z.destroy();let ue=new Error("Request aborted");ue.name="AbortError",m(ue)};if(typeof r.addEventListener=="function"){let ue=r;ue.addEventListener("abort",ne,{once:!0}),Z.once("close",()=>ue.removeEventListener("abort",ne))}else r.onabort=ne}let we=n??i.requestTimeout;l.push(Zk(Z,m,i.connectionTimeout)),l.push(eU(Z,m,we,i.throwOnRequestTimeout,i.logger??console)),l.push(nU(Z,m,i.socketTimeout));let Le=z.agent;typeof Le=="object"&&"keepAlive"in Le&&l.push(rU(Z,{keepAlive:Le.keepAlive,keepAliveMsecs:Le.keepAliveMsecs})),a=wb(Z,t,we,this.externalAgent).catch(ne=>(l.forEach(it.clearTimeout),s(ne)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},If=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},Af=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let l=o.poll();if(l&&!this.config.disableConcurrency)return l}let s=Tf.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=()=>{s.destroy(),this.deleteSession(n,s)};s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new If;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},xf=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new Af({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,l)=>{let u=!1,m,h=async be=>{await m,a(be)},y=async be=>{await m,l(be)};if(r?.aborted){u=!0;let be=new Error("Request aborted");be.name="AbortError",y(be);return}let{hostname:g,method:S,port:x,protocol:R,query:P}=t,O="";if(t.username!=null||t.password!=null){let be=t.username??"",Me=t.password??"";O=`${be}:${Me}@`}let z=`${R}//${O}${g}${x?`:${x}`:""}`,W={destination:new URL(z)},Z=this.connectionManager.lease(W,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),we=be=>{s&&this.destroySession(Z),u=!0,y(be)},Le=bb.buildQueryString(P||{}),ne=t.path;Le&&(ne+=`?${Le}`),t.fragment&&(ne+=`#${t.fragment}`);let ue=Z.request({...t.headers,[Tf.constants.HTTP2_HEADER_PATH]:ne,[Tf.constants.HTTP2_HEADER_METHOD]:S});if(Z.ref(),ue.on("response",be=>{let Me=new Sb.HttpResponse({statusCode:be[":status"]||-1,headers:Tb(be),body:ue});u=!0,h({response:Me}),s&&(Z.close(),this.connectionManager.deleteSession(z,Z))}),i&&ue.setTimeout(i,()=>{ue.close();let be=new Error(`Stream timed out because of no activity for ${i} ms`);be.name="TimeoutError",we(be)}),r){let be=()=>{ue.close();let Me=new Error("Request aborted");Me.name="AbortError",we(Me)};if(typeof r.addEventListener=="function"){let Me=r;Me.addEventListener("abort",be,{once:!0}),ue.once("close",()=>Me.removeEventListener("abort",be))}else r.onabort=be}ue.on("frameError",(be,Me,So)=>{we(new Error(`Frame type id ${be} in stream id ${So} has failed with code ${Me}.`))}),ue.on("error",we),ue.on("aborted",()=>{we(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ue.rstCode}.`))}),ue.on("close",()=>{Z.unref(),s&&Z.destroy(),u||we(new Error("Unexpected error: http2 request did not get a response"))}),m=wb(ue,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Cf=class extends _b.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},iU=e=>aU(e)?cU(e):new Promise((t,r)=>{let n=new Cf;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),aU=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function cU(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}qs.DEFAULT_REQUEST_TIMEOUT=sU;qs.NodeHttp2Handler=xf;qs.NodeHttpHandler=wf;qs.streamCollector=iU});var Ib=v(cc=>{"use strict";c();Object.defineProperty(cc,"__esModule",{value:!0});cc.fromBase64=void 0;var lU=ze(),uU=/^[A-Za-z0-9+/]*={0,2}$/,dU=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!uU.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,lU.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};cc.fromBase64=dU});var Ab=v(lc=>{"use strict";c();Object.defineProperty(lc,"__esModule",{value:!0});lc.toBase64=void 0;var pU=ze(),fU=Ce(),mU=e=>{let t;if(typeof e=="string"?t=(0,fU.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,pU.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};lc.toBase64=mU});var vb=v(Hs=>{"use strict";c();var xb=Ib(),Cb=Ab();Object.keys(xb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Hs,e)&&Object.defineProperty(Hs,e,{enumerable:!0,get:function(){return xb[e]}})});Object.keys(Cb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Hs,e)&&Object.defineProperty(Hs,e,{enumerable:!0,get:function(){return Cb[e]}})})});var Db=v(dc=>{"use strict";c();var Rb=_e(),hU=_f(),gU=vb();function Pb(e,t){return new Request(e,t)}function yU(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var uc={supported:void 0},vf=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),uc.supported===void 0&&(uc.supported=typeof Request<"u"&&"keepalive"in Pb("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let O=new Error("Request aborted");return O.name="AbortError",Promise.reject(O)}let a=t.path,l=hU.buildQueryString(t.query||{});l&&(a+=`?${l}`),t.fragment&&(a+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let O=t.username??"",z=t.password??"";u=`${O}:${z}@`}let{port:m,method:h}=t,y=`${t.protocol}//${u}${t.hostname}${m?`:${m}`:""}${a}`,g=h==="GET"||h==="HEAD"?void 0:t.body,S={body:g,headers:new Headers(t.headers),method:h,credentials:i};this.config?.cache&&(S.cache=this.config.cache),g&&(S.duplex="half"),typeof AbortController<"u"&&(S.signal=r),uc.supported&&(S.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(S,this.config.requestInit(t));let x=()=>{},R=Pb(y,S),P=[fetch(R).then(O=>{let z=O.headers,W={};for(let we of z.entries())W[we[0]]=we[1];return O.body!=null?{response:new Rb.HttpResponse({headers:W,reason:O.statusText,statusCode:O.status,body:O.body})}:O.blob().then(we=>({response:new Rb.HttpResponse({headers:W,reason:O.statusText,statusCode:O.status,body:we})}))}),yU(o)];return r&&P.push(new Promise((O,z)=>{let W=()=>{let Z=new Error("Request aborted");Z.name="AbortError",z(Z)};if(typeof r.addEventListener=="function"){let Z=r;Z.addEventListener("abort",W,{once:!0}),x=()=>Z.removeEventListener("abort",W)}else r.onabort=W})),Promise.race(P).finally(x)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},EU=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):SU(e):bU(e);async function SU(e){let t=await _U(e),r=gU.fromBase64(t);return new Uint8Array(r)}async function bU(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}function _U(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}dc.FetchHttpHandler=vf;dc.keepAliveSupport=uc;dc.streamCollector=EU});var Df=v(Pf=>{"use strict";c();var Nb={},Rf={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Nb[e]=t,Rf[t]=e}function TU(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Rf)t[r/2]=Rf[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function wU(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Nb[e[r]];return t}Pf.fromHex=TU;Pf.toHex=wU});var kb=v(pc=>{"use strict";c();Object.defineProperty(pc,"__esModule",{value:!0});pc.sdkStreamMixin=void 0;var IU=Db(),AU=js(),xU=Df(),CU=Ce(),Ob=rn(),Lb="The stream has already been transformed.",vU=e=>{if(!Mb(e)&&!(0,Ob.isReadableStream)(e)){let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(Lb);return t=!0,await(0,IU.streamCollector)(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let s=await r();if(o==="base64")return(0,AU.toBase64)(s);if(o==="hex")return(0,xU.toHex)(s);if(o===void 0||o==="utf8"||o==="utf-8")return(0,CU.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(Lb);if(t=!0,Mb(e))return n(e);if((0,Ob.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};pc.sdkStreamMixin=vU;var Mb=e=>typeof Blob=="function"&&e instanceof Blob});var Bb=v(fc=>{"use strict";c();Object.defineProperty(fc,"__esModule",{value:!0});fc.sdkStreamMixin=void 0;var RU=Wn(),PU=ze(),Nf=me("stream"),DU=kb(),Ub="The stream has already been transformed.",NU=e=>{if(!(e instanceof Nf.Readable))try{return(0,DU.sdkStreamMixin)(e)}catch{let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(Ub);return t=!0,await(0,RU.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();return n===void 0||Buffer.isEncoding(n)?(0,PU.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(n):new TextDecoder(n).decode(o)},transformToWebStream:()=>{if(t)throw new Error(Ub);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Nf.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,Nf.Readable.toWeb(e)}})};fc.sdkStreamMixin=NU});var Fb=v(Of=>{"use strict";c();Object.defineProperty(Of,"__esModule",{value:!0});Of.splitStream=OU;async function OU(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var jb=v(Lf=>{"use strict";c();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.splitStream=MU;var $b=me("stream"),LU=Fb(),Gb=rn();async function MU(e){if((0,Gb.isReadableStream)(e)||(0,Gb.isBlob)(e))return(0,LU.splitStream)(e);let t=new $b.PassThrough,r=new $b.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var mc=v(Ve=>{"use strict";c();var qb=js(),Hb=Ce(),zb=uf(),Vb=ob(),Wb=ub(),Kb=db(),Yb=fb(),Xb=Bb(),Qb=jb(),Jb=rn(),Mf=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(qb.fromBase64(t)):e.mutate(Hb.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?qb.toBase64(this):Hb.toUtf8(this)}};Ve.Uint8ArrayBlobAdapter=Mf;Object.keys(zb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ve,e)&&Object.defineProperty(Ve,e,{enumerable:!0,get:function(){return zb[e]}})});Object.keys(Vb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ve,e)&&Object.defineProperty(Ve,e,{enumerable:!0,get:function(){return Vb[e]}})});Object.keys(Wb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ve,e)&&Object.defineProperty(Ve,e,{enumerable:!0,get:function(){return Wb[e]}})});Object.keys(Kb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ve,e)&&Object.defineProperty(Ve,e,{enumerable:!0,get:function(){return Kb[e]}})});Object.keys(Yb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ve,e)&&Object.defineProperty(Ve,e,{enumerable:!0,get:function(){return Yb[e]}})});Object.keys(Xb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ve,e)&&Object.defineProperty(Ve,e,{enumerable:!0,get:function(){return Xb[e]}})});Object.keys(Qb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ve,e)&&Object.defineProperty(Ve,e,{enumerable:!0,get:function(){return Qb[e]}})});Object.keys(Jb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ve,e)&&Object.defineProperty(Ve,e,{enumerable:!0,get:function(){return Jb[e]}})})});var hc,$t,gc=w(()=>{c();hc=A(mc()),$t=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return hc.Uint8ArrayBlobAdapter.mutate(e);if(!e)return hc.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return hc.Uint8ArrayBlobAdapter.mutate(await r)}});function Jt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var yc=w(()=>{c()});var Gt,kf=w(()=>{c();Gt=e=>typeof e=="function"?e():e});var zs,Ec=w(()=>{c();zs=(e,t,r,n,o)=>({name:t,namespace:e,traits:r,input:n,output:o})});var Zb,e_,t_,Uf,r_=w(()=>{c();Zb=A(_e()),e_=A(st());Ec();t_=e=>(t,r)=>async n=>{let{response:o}=await t(n),{operationSchema:s}=(0,e_.getSmithyContext)(r),[,i,a,l,u,m]=s??[];try{let h=await e.protocol.deserializeResponse(zs(i,a,l,u,m),{...e,...r},o);return{response:o,output:h}}catch(h){if(Object.defineProperty(h,"$response",{value:o}),!("$metadata"in h)){let y="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{h.message+=`
  `+y}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(y):r.logger?.warn?.(y)}typeof h.$responseBodyText<"u"&&h.$response&&(h.$response.body=h.$responseBodyText);try{if(Zb.HttpResponse.isInstance(o)){let{headers:g={}}=o,S=Object.entries(g);h.$metadata={httpStatusCode:o.statusCode,requestId:Uf(/^x-[\w-]+-request-?id$/,S),extendedRequestId:Uf(/^x-[\w-]+-id-2$/,S),cfId:Uf(/^x-[\w-]+-cf-id$/,S)}}}catch{}}throw h}},Uf=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var n_,o_,s_=w(()=>{c();n_=A(st());Ec();o_=e=>(t,r)=>async n=>{let{operationSchema:o}=(0,n_.getSmithyContext)(r),[,s,i,a,l,u]=o??[],m=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,h=await e.protocol.serializeRequest(zs(s,i,a,l,u),n.input,{...e,...r,endpoint:m});return t({...n,request:h})}});function kU(e){return{applyToStack:t=>{t.add(o_(e),a_),t.add(t_(e),i_),e.protocol.setSerdeContext(e)}}}var i_,a_,c_=w(()=>{c();r_();s_();i_={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},a_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var ke,nn=w(()=>{c();ke=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var Sc,UU,l_=w(()=>{c();nn();Sc=class e extends ke{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},UU=(e,t,r,n)=>ke.assign(new Sc,{name:t,namespace:e,traits:r,valueSchema:n})});var bc,BU,u_=w(()=>{c();nn();bc=class e extends ke{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},BU=(e,t,r,n,o)=>ke.assign(new bc,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:o})});var _c,FU,d_=w(()=>{c();nn();_c=class e extends ke{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},FU=(e,t,r,n,o)=>ke.assign(new _c,{name:t,namespace:e,traits:r,input:n,output:o})});var Io,$U,Bf=w(()=>{c();nn();Io=class e extends ke{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},$U=(e,t,r,n,o)=>ke.assign(new Io,{name:t,namespace:e,traits:r,memberNames:n,memberList:o})});var Tc,GU,p_=w(()=>{c();nn();Bf();Tc=class e extends Io{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},GU=(e,t,r,n,o,s)=>ke.assign(new Tc,{name:t,namespace:e,traits:r,memberNames:n,memberList:o,ctor:null})});function Zt(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var Ff=w(()=>{c()});function Vs(e,t){if(e instanceof j)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=j;return new r(e,t)}var j,$f,f_,m_=w(()=>{c();kf();Ff();j=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],o=t,s=t;for(this._isMemberSchema=!1;$f(o);)n.push(o[1]),o=o[0],s=Gt(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,Zt(a))}}else this.memberTraits=0;if(s instanceof e){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=Gt(s),f_(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=Gt(t);if(r instanceof e)return r;if($f(r)){let[n,o]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),Zt(o)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();return t[0]===3||t[0]===-3}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=s=>(s&4)===4||!!s?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:o}=this;return t(r)||t(n)||t(o)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Zt(this.memberTraits)}getOwnTraits(){return Zt(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),o=t?15:n[4]??0;return Vs([o,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,o]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||o)?t[3+t[0]]:r?15:void 0;if(s!=null)return Vs([s,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),o=r[5][n];return Vs($f(o)?o:[o,0],t)}if(this.isDocumentSchema())return Vs([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],Vs([t[5][r],0],t[4][r])]}};$f=e=>Array.isArray(e)&&e.length===2,f_=e=>Array.isArray(e)&&e.length>=5});var Ws,jU,qU,h_=w(()=>{c();nn();Ws=class e extends ke{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},jU=(e,t,r,n)=>ke.assign(new Ws,{name:t,namespace:e,traits:n,schemaRef:r}),qU=(e,t,r,n)=>ke.assign(new Ws,{name:t,namespace:e,traits:r,schemaRef:n})});var HU,g_=w(()=>{c();HU={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var qe,y_=w(()=>{c();qe=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,o=e.for(n[1]);o.schemas.set(n[1]+"#"+n[2],n),o.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,o=r+"#"+n;if(o.startsWith("smithy.ts.sdk.synthetic.")&&o.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var Gf={};mt(Gf,{ErrorSchema:()=>Tc,ListSchema:()=>Sc,MapSchema:()=>bc,NormalizedSchema:()=>j,OperationSchema:()=>_c,SCHEMA:()=>HU,Schema:()=>ke,SimpleSchema:()=>Ws,StructureSchema:()=>Io,TypeRegistry:()=>qe,deref:()=>Gt,deserializerMiddlewareOption:()=>i_,error:()=>GU,getSchemaSerdePlugin:()=>kU,isStaticSchema:()=>f_,list:()=>UU,map:()=>BU,op:()=>FU,operation:()=>zs,serializerMiddlewareOption:()=>a_,sim:()=>jU,simAdapter:()=>qU,struct:()=>$U,translateTraits:()=>Zt});var ve=w(()=>{c();kf();c_();l_();u_();d_();Ec();p_();m_();nn();h_();Bf();g_();Ff();y_()});var zU,E_=w(()=>{c();zU=(e,t,r=n=>n)=>e});var VU,WU,Ks,KU,wc,Ys,YU,jf,qf,Hf,zf,XU,QU,S_,JU,ZU,Ac,eB,Vf,tB,Ao,Wf,rB,nB,oB,b_,__,sB,iB,Kn,Kf,Ic,Xs,Yf=w(()=>{c();VU=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},WU=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Xs.warn(Ic(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Xs.warn(Ic(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Ks=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Xs.warn(Ic(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},KU=Math.ceil(34028234663852886e22),wc=e=>{let t=Ks(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>KU)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Ys=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},YU=Ys,jf=e=>zf(e,32),qf=e=>zf(e,16),Hf=e=>zf(e,8),zf=(e,t)=>{let r=Ys(e);if(r!==void 0&&XU(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},XU=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},QU=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},S_=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},JU=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Xs.warn(Ic(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},ZU=e=>{if(e==null)return;let t=S_(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Ac=e=>Ks(typeof e=="string"?Ao(e):e),eB=Ac,Vf=e=>wc(typeof e=="string"?Ao(e):e),tB=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Ao=e=>{let t=e.match(tB);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Wf=e=>typeof e=="string"?b_(e):Ks(e),rB=Wf,nB=Wf,oB=e=>typeof e=="string"?b_(e):wc(e),b_=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},__=e=>Ys(typeof e=="string"?Ao(e):e),sB=__,iB=e=>jf(typeof e=="string"?Ao(e):e),Kn=e=>qf(typeof e=="string"?Ao(e):e),Kf=e=>Hf(typeof e=="string"?Ao(e):e),Ic=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Xs={warn:console.warn}});function Js(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),l=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,m=i<10?`0${i}`:`${i}`,h=a<10?`0${a}`:`${a}`;return`${aB[n]}, ${l} ${Qf[r]} ${t} ${u}:${m}:${h} GMT`}var aB,Qf,cB,lB,uB,Jf,dB,pB,fB,Zf,em,Qs,mB,hB,gB,Xf,yB,EB,SB,er,bB,_B,xo,T_=w(()=>{c();Yf();aB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];cB=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),lB=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=cB.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,l,u]=t,m=Kn(xo(n)),h=er(o,"month",1,12),y=er(s,"day",1,31);return Qs(m,h,y,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u})},uB=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Jf=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=uB.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,l,u,m]=t,h=Kn(xo(n)),y=er(o,"month",1,12),g=er(s,"day",1,31),S=Qs(h,y,g,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u});return m.toUpperCase()!="Z"&&S.setTime(S.getTime()-_B(m)),S},dB=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),pB=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),fB=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Zf=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=dB.exec(e);if(t){let[r,n,o,s,i,a,l,u]=t;return Qs(Kn(xo(s)),Xf(o),er(n,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u})}if(t=pB.exec(e),t){let[r,n,o,s,i,a,l,u]=t;return gB(Qs(mB(s),Xf(o),er(n,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u}))}if(t=fB.exec(e),t){let[r,n,o,s,i,a,l,u]=t;return Qs(Kn(xo(u)),Xf(n),er(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},em=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Ac(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Qs=(e,t,r,n)=>{let o=t-1;return EB(e,o,r),new Date(Date.UTC(e,o,r,er(n.hours,"hour",0,23),er(n.minutes,"minute",0,59),er(n.seconds,"seconds",0,60),bB(n.fractionalMilliseconds)))},mB=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Kn(xo(e));return r<t?r+100:r},hB=50*365*24*60*60*1e3,gB=e=>e.getTime()-new Date().getTime()>hB?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Xf=e=>{let t=Qf.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},yB=[31,28,31,30,31,30,31,31,30,31,30,31],EB=(e,t,r)=>{let n=yB[t];if(t===1&&SB(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Qf[t]} in ${e}: ${r}`)},SB=e=>e%4===0&&(e%100!==0||e%400===0),er=(e,t,r,n)=>{let o=Kf(xo(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},bB=e=>e==null?0:Vf("0."+e)*1e3,_B=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},xo=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Zs={};mt(Zs,{__addDisposableResource:()=>W_,__assign:()=>xc,__asyncDelegator:()=>F_,__asyncGenerator:()=>B_,__asyncValues:()=>$_,__await:()=>Co,__awaiter:()=>N_,__classPrivateFieldGet:()=>H_,__classPrivateFieldIn:()=>V_,__classPrivateFieldSet:()=>z_,__createBinding:()=>vc,__decorate:()=>A_,__disposeResources:()=>K_,__esDecorate:()=>C_,__exportStar:()=>L_,__extends:()=>w_,__generator:()=>O_,__importDefault:()=>q_,__importStar:()=>j_,__makeTemplateObject:()=>G_,__metadata:()=>D_,__param:()=>x_,__propKey:()=>R_,__read:()=>nm,__rest:()=>I_,__rewriteRelativeImportExtension:()=>Y_,__runInitializers:()=>v_,__setFunctionName:()=>P_,__spread:()=>M_,__spreadArray:()=>U_,__spreadArrays:()=>k_,__values:()=>Cc,default:()=>IB});function w_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function I_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function A_(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function x_(e,t){return function(r,n){t(r,n,e)}}function C_(e,t,r,n,o,s){function i(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,m=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,y=!1,g=r.length-1;g>=0;g--){var S={};for(var x in n)S[x]=x==="access"?{}:n[x];for(var x in n.access)S.access[x]=n.access[x];S.addInitializer=function(P){if(y)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(P||null))};var R=(0,r[g])(a==="accessor"?{get:m.get,set:m.set}:m[l],S);if(a==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(h=i(R.get))&&(m.get=h),(h=i(R.set))&&(m.set=h),(h=i(R.init))&&o.unshift(h)}else(h=i(R))&&(a==="field"?o.unshift(h):m[l]=h)}u&&Object.defineProperty(u,n.name,m),y=!0}function v_(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function R_(e){return typeof e=="symbol"?e:"".concat(e)}function P_(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function D_(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function N_(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(m){try{u(n.next(m))}catch(h){i(h)}}function l(m){try{u(n.throw(m))}catch(h){i(h)}}function u(m){m.done?s(m.value):o(m.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function O_(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(m){return l([u,m])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(m){u=[6,m],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function L_(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vc(t,e,r)}function Cc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nm(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function M_(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nm(arguments[t]));return e}function k_(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function U_(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Co(e){return this instanceof Co?(this.v=e,this):new Co(e)}function B_(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(g){return function(S){return Promise.resolve(S).then(g,h)}}function a(g,S){n[g]&&(o[g]=function(x){return new Promise(function(R,P){s.push([g,x,R,P])>1||l(g,x)})},S&&(o[g]=S(o[g])))}function l(g,S){try{u(n[g](S))}catch(x){y(s[0][3],x)}}function u(g){g.value instanceof Co?Promise.resolve(g.value.v).then(m,h):y(s[0][2],g)}function m(g){l("next",g)}function h(g){l("throw",g)}function y(g,S){g(S),s.shift(),s.length&&l(s[0][0],s[0][1])}}function F_(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:Co(e[o](i)),done:!1}:s?s(i):i}:s}}function $_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Cc=="function"?Cc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,l){i=e[s](i),o(a,l,i.done,i.value)})}}function o(s,i,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},i)}}function G_(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function j_(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=rm(e),n=0;n<r.length;n++)r[n]!=="default"&&vc(t,e,r[n]);return TB(t,e),t}function q_(e){return e&&e.__esModule?e:{default:e}}function H_(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function z_(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function V_(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function W_(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function K_(e){function t(s){e.error=e.hasError?new wB(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function Y_(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var tm,xc,vc,TB,rm,wB,IB,ei=w(()=>{c();tm=function(e,t){return tm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},tm(e,t)};xc=function(){return xc=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},xc.apply(this,arguments)};vc=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});TB=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},rm=function(e){return rm=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},rm(e)};wB=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};IB={__extends:w_,__assign:xc,__rest:I_,__decorate:A_,__param:x_,__esDecorate:C_,__runInitializers:v_,__propKey:R_,__setFunctionName:P_,__metadata:D_,__awaiter:N_,__generator:O_,__createBinding:vc,__exportStar:L_,__values:Cc,__read:nm,__spread:M_,__spreadArrays:k_,__spreadArray:U_,__await:Co,__asyncGenerator:B_,__asyncDelegator:F_,__asyncValues:$_,__makeTemplateObject:G_,__importStar:j_,__importDefault:q_,__classPrivateFieldGet:H_,__classPrivateFieldSet:z_,__classPrivateFieldIn:V_,__addDisposableResource:W_,__disposeResources:K_,__rewriteRelativeImportExtension:Y_}});var Q_=v(Rc=>{"use strict";c();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.randomUUID=void 0;var AB=(ei(),ae(Zs)),X_=AB.__importDefault(me("crypto"));Rc.randomUUID=X_.default.randomUUID.bind(X_.default)});var om=v(Z_=>{"use strict";c();var J_=Q_(),Je=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),xB=()=>{if(J_.randomUUID)return J_.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Je[e[0]]+Je[e[1]]+Je[e[2]]+Je[e[3]]+"-"+Je[e[4]]+Je[e[5]]+"-"+Je[e[6]]+Je[e[7]]+"-"+Je[e[8]]+Je[e[9]]+"-"+Je[e[10]]+Je[e[11]]+Je[e[12]]+Je[e[13]]+Je[e[14]]+Je[e[15]]};Z_.v4=xB});var tr,eT=w(()=>{c();tr=A(om())});var at,tT=w(()=>{c();at=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};at.from=e=>e&&typeof e=="object"&&(e instanceof at||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?at(String(e)):at(JSON.stringify(e));at.fromObject=at.from});function sm(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var rT=w(()=>{c()});function Ar(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var im,am,cm,nT,oT,CB,vB,RB,PB,DB,ti,lm,um,sT=w(()=>{c();im="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",am="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",cm="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",nT="(\\d?\\d)",oT="(\\d{4})",CB=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),vB=new RegExp(`^${im}, ${nT} ${am} ${oT} ${cm} GMT$`),RB=new RegExp(`^${im}, ${nT}-${am}-(\\d\\d) ${cm} GMT$`),PB=new RegExp(`^${im} ${am} ( [1-9]|\\d\\d) ${cm} ${oT}$`),DB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ti=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},lm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=CB.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,o,s,i,a,,l,u]=t;Ar(n,1,12),Ar(o,1,31),Ar(s,0,23),Ar(i,0,59),Ar(a,0,60);let m=new Date(Date.UTC(Number(r),Number(n)-1,Number(o),Number(s),Number(i),Number(a),Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0));if(m.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,h,y,g]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],S=h==="-"?1:-1;m.setTime(m.getTime()+S*(Number(y)*60*60*1e3+Number(g)*60*1e3))}return m},um=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,o,s,i,a,l;if((l=vB.exec(e))?[,t,r,n,o,s,i,a]=l:(l=RB.exec(e))?([,t,r,n,o,s,i,a]=l,n=(Number(n)+1900).toString()):(l=PB.exec(e))&&([,r,t,o,s,i,a,n]=l),n&&i){let u=Date.UTC(Number(n),DB.indexOf(r),Number(t),Number(o),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Ar(t,1,31),Ar(o,0,23),Ar(s,0,59),Ar(i,0,60);let m=new Date(u);return m.setUTCFullYear(Number(n)),m}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function dm(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var iT=w(()=>{c()});var ri,aT=w(()=>{c();ri=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function pm(e){return new Re(String(e),"bigDecimal")}var cT,Re,lT=w(()=>{c();cT=/^-?\d*(\.\d+)?$/,Re=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!cT.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&cT.test(r.string)}}});var uT={};mt(uT,{LazyJsonString:()=>at,NumericValue:()=>Re,_parseEpochTimestamp:()=>ti,_parseRfc3339DateTimeWithOffset:()=>lm,_parseRfc7231DateTime:()=>um,copyDocumentWithTransform:()=>zU,dateToUtcString:()=>Js,expectBoolean:()=>WU,expectByte:()=>Hf,expectFloat32:()=>wc,expectInt:()=>YU,expectInt32:()=>jf,expectLong:()=>Ys,expectNonNull:()=>QU,expectNumber:()=>Ks,expectObject:()=>S_,expectShort:()=>qf,expectString:()=>JU,expectUnion:()=>ZU,generateIdempotencyToken:()=>tr.v4,handleFloat:()=>rB,limitedParseDouble:()=>Wf,limitedParseFloat:()=>nB,limitedParseFloat32:()=>oB,logger:()=>Xs,nv:()=>pm,parseBoolean:()=>VU,parseEpochTimestamp:()=>em,parseRfc3339DateTime:()=>lB,parseRfc3339DateTimeWithOffset:()=>Jf,parseRfc7231DateTime:()=>Zf,quoteHeader:()=>sm,splitEvery:()=>dm,splitHeader:()=>ri,strictParseByte:()=>Kf,strictParseDouble:()=>Ac,strictParseFloat:()=>eB,strictParseFloat32:()=>Vf,strictParseInt:()=>sB,strictParseInt32:()=>iB,strictParseLong:()=>__,strictParseShort:()=>Kn});var ht=w(()=>{c();E_();T_();eT();tT();Yf();rT();sT();iT();aT();lT()});var ct,vo=w(()=>{c();ct=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var dT,fm,pT=w(()=>{c();dT=A(Ce()),fm=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:o,defaultContentType:s}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=o,this.defaultContentType=s}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let o=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,l=this.defaultContentType,u=Symbol("initialRequestMarker"),m={async*[Symbol.asyncIterator](){if(n){let h={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};a.write(r,n);let y=a.flush();yield{[u]:!0,headers:h,body:y}}for await(let h of t)yield h}};return o.serialize(m,h=>{if(h[u])return{headers:h.headers,body:h.body};let y=Object.keys(h).find(O=>O!=="__type")??"",{additionalHeaders:g,body:S,eventType:x,explicitPayloadContentType:R}=this.writeEventBody(y,i,h);return{headers:{":event-type":{type:"string",value:x},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:R??l},...g},body:S}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let o=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),l=Symbol("initialResponseMarker"),u=o.deserialize(t.body,async y=>{let g=Object.keys(y).find(S=>S!=="__type")??"";if(g==="initial-response"){let S=await this.deserializer.read(r,y[g].body);return delete S[s],{[l]:!0,...S}}else if(g in a){let S=a[g];return{[g]:await this.deserializer.read(S,y[g].body)}}else return{$unknown:y}}),m=u[Symbol.asyncIterator](),h=await m.next();if(h.done)return u;if(h.value?.[l]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[y,g]of Object.entries(h.value))n[y]=g}return{async*[Symbol.asyncIterator](){for(h?.value?.[l]||(yield h.value);;){let{done:y,value:g}=await m.next();if(y)break;yield g}}}}writeEventBody(t,r,n){let o=this.serializer,s=t,i=null,a,l=r.getSchema()[4].includes(t),u={};if(l){let y=r.getMemberSchema(t);if(y.isStructSchema()){for(let[g,S]of y.structIterator()){let{eventHeader:x,eventPayload:R}=S.getMergedTraits();if(R){i=g;break}else if(x){let P=n[t][g],O="binary";S.isNumericSchema()?(-2)**31<=P&&P<=2**31-1?O="integer":O="long":S.isTimestampSchema()?O="timestamp":S.isStringSchema()?O="string":S.isBooleanSchema()&&(O="boolean"),P!=null&&(u[g]={type:O,value:P},delete n[t][g])}}if(i!==null){let g=y.getMemberSchema(i);g.isBlobSchema()?a="application/octet-stream":g.isStringSchema()&&(a="text/plain"),o.write(g,n[t][i])}else o.write(y,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[y,g]=n[t];s=y,o.write(15,g)}let m=o.flush();return{body:typeof m=="string"?(this.serdeContext?.utf8Decoder??dT.fromUtf8)(m):m,eventType:s,explicitPayloadContentType:a,additionalHeaders:u}}}});var fT={};mt(fT,{EventStreamSerde:()=>fm});var mT=w(()=>{c();pT()});var Pc,Yn,Dc=w(()=>{c();ve();Pc=A(_e());vo();Yn=class extends ct{options;constructor(t){super(),this.options=t}getRequestType(){return Pc.HttpRequest}getResponseType(){return Pc.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,o]of r.url.searchParams.entries())t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=j.of(r.input),s=Zt(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...o.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of a){let u=n[l];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);i=i.replace(`{${l}}`,u)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(mT(),fT));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,o,s){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var hT,gT,Xn,yT=w(()=>{c();ve();ht();hT=A(_e()),gT=A(mc());gc();yc();Dc();Xn=class extends Yn{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},l=await n.endpoint(),u=j.of(t?.input),m=u.getSchema(),h=!1,y,g=new hT.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(l){this.updateServiceEndpoint(g,l),this.setHostPrefix(g,t,o);let S=Zt(t.traits);if(S.http){g.method=S.http[0];let[x,R]=S.http[1].split("?");g.path=="/"?g.path=x:g.path+=x;let P=new URLSearchParams(R??"");Object.assign(i,Object.fromEntries(P))}}for(let[S,x]of u.structIterator()){let R=x.getMergedTraits()??{},P=o[S];if(P!=null)if(R.httpPayload)x.isStreaming()?x.isStructSchema()?o[S]&&(y=await this.serializeEventStream({eventStream:o[S],requestSchema:u})):y=P:(s.write(x,P),y=s.flush()),delete o[S];else if(R.httpLabel){s.write(x,P);let O=s.flush();g.path.includes(`{${S}+}`)?g.path=g.path.replace(`{${S}+}`,O.split("/").map(Jt).join("/")):g.path.includes(`{${S}}`)&&(g.path=g.path.replace(`{${S}}`,Jt(O))),delete o[S]}else if(R.httpHeader)s.write(x,P),a[R.httpHeader.toLowerCase()]=String(s.flush()),delete o[S];else if(typeof R.httpPrefixHeaders=="string"){for(let[O,z]of Object.entries(P)){let W=R.httpPrefixHeaders+O;s.write([x.getValueSchema(),{httpHeader:W}],z),a[W.toLowerCase()]=s.flush()}delete o[S]}else R.httpQuery||R.httpQueryParams?(this.serializeQuery(x,P,i),delete o[S]):h=!0}return h&&o&&(s.write(m,o),y=s.flush()),g.headers=a,g.query=i,g.body=y,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let l=t.getValueSchema();Object.assign(l.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(l,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let l of r){o.write([t.getValueSchema(),s],l);let u=o.flush();(i||u!==void 0)&&a.push(u)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=j.of(t.output),i={};if(n.statusCode>=300){let l=await $t(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(15,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await $t(n.body,r);if(l.byteLength>0){let u=await o.read(s,l);for(let m of a)i[m]=u[m]}}return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,l=j.of(t),u=[];for(let[m,h]of l.structIterator()){let y=h.getMemberTraits();if(y.httpPayload){if(h.isStreaming())h.isStructSchema()?i[m]=await this.deserializeEventStream({response:n,responseSchema:l}):i[m]=(0,gT.sdkStreamMixin)(n.body);else if(n.body){let S=await $t(n.body,r);S.byteLength>0&&(i[m]=await a.read(h,S))}}else if(y.httpHeader){let g=String(y.httpHeader).toLowerCase(),S=n.headers[g];if(S!=null)if(h.isListSchema()){let x=h.getValueSchema();x.getMergedTraits().httpHeader=g;let R;x.isTimestampSchema()&&x.getSchema()===4?R=dm(S,",",2):R=ri(S);let P=[];for(let O of R)P.push(await a.read(x,O.trim()));i[m]=P}else i[m]=await a.read(h,S)}else if(y.httpPrefixHeaders!==void 0){i[m]={};for(let[g,S]of Object.entries(n.headers))if(g.startsWith(y.httpPrefixHeaders)){let x=h.getValueSchema();x.getMergedTraits().httpHeader=g,i[m][g.slice(y.httpPrefixHeaders.length)]=await a.read(x,S)}}else y.httpResponseCode?i[m]=n.statusCode:u.push(m)}return u}}});var ET,xr,ST=w(()=>{c();ve();ET=A(_e());gc();Dc();xr=class extends Yn{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=j.of(t?.input),u=l.getSchema(),m,h=new ET.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(h,a),this.setHostPrefix(h,t,r));let y={...r};if(r){let g=l.getEventStreamMember();if(g){if(y[g]){let S={};for(let[x,R]of l.structIterator())x!==g&&y[x]&&(o.write(R,y[x]),S[x]=o.flush());m=await this.serializeEventStream({eventStream:y[g],requestSchema:l,initialRequest:S})}}else o.write(u,y),m=o.flush()}return h.headers=i,h.query=s,h.body=m,h.method="POST",h}async deserializeResponse(t,r,n){let o=this.deserializer,s=j.of(t.output),i={};if(n.statusCode>=300){let l=await $t(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(15,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:s,initialResponseContainer:i});else{let l=await $t(n.body,r);l.byteLength>0&&Object.assign(i,await o.read(s,l))}return i.$metadata=this.deserializeMetadata(n),i}}});var mm,hm=w(()=>{c();yc();mm=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Jt(a)).join("/"):Jt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function ni(e,t){return new Nc(e,t)}var bT,Nc,_T=w(()=>{c();bT=A(_e());hm();Nc=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new bT.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=mm(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});var TT=v(Oc=>{"use strict";c();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.fromBase64=void 0;var NB=ze(),OB=/^[A-Za-z0-9+/]*={0,2}$/,LB=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!OB.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,NB.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Oc.fromBase64=LB});var wT=v(Lc=>{"use strict";c();Object.defineProperty(Lc,"__esModule",{value:!0});Lc.toBase64=void 0;var MB=ze(),kB=Ce(),UB=e=>{let t;if(typeof e=="string"?t=(0,kB.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,MB.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Lc.toBase64=UB});var Mc=v(oi=>{"use strict";c();var IT=TT(),AT=wT();Object.keys(IT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(oi,e)&&Object.defineProperty(oi,e,{enumerable:!0,get:function(){return IT[e]}})});Object.keys(AT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(oi,e)&&Object.defineProperty(oi,e,{enumerable:!0,get:function(){return AT[e]}})})});function Tt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?6:s||r?5:void 0:void 0)??t.timestampFormat.default}var kc=w(()=>{c()});var gm,xT,Qn,ym=w(()=>{c();ve();ht();gm=A(Mc()),xT=A(Ce());vo();kc();Qn=class extends ct{settings;constructor(t){super(),this.settings=t}read(t,r){let n=j.of(t);if(n.isListSchema())return ri(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??gm.fromBase64)(r);if(n.isTimestampSchema())switch(Tt(n,this.settings)){case 5:return lm(r);case 6:return um(r);case 7:return ti(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=at.from(s)),s}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Re(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??xT.toUtf8)((this.serdeContext?.base64Decoder??gm.fromBase64)(t))}}});var Uc,Jn,CT=w(()=>{c();ve();Uc=A(Ce());vo();ym();Jn=class extends ct{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new Qn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=j.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??Uc.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Uc.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Em,si,Sm=w(()=>{c();ve();ht();Em=A(Mc());vo();kc();si=class extends ct{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=j.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Tt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Js(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Em.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let l=this.flush(),u=n.getValueSchema().isTimestampSchema()?l:sm(l);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=at.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Em.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Zn,vT=w(()=>{c();ve();Sm();Zn=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new si(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=j.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var RT={};mt(RT,{FromStringShapeDeserializer:()=>Qn,HttpBindingProtocol:()=>Xn,HttpInterceptingShapeDeserializer:()=>Jn,HttpInterceptingShapeSerializer:()=>Zn,HttpProtocol:()=>Yn,RequestBuilder:()=>Nc,RpcProtocol:()=>xr,SerdeContext:()=>ct,ToStringShapeSerializer:()=>si,collectBody:()=>$t,determineTimestampFormat:()=>Tt,extendedEncodeURIComponent:()=>Jt,requestBuilder:()=>ni,resolvedPath:()=>mm});var gt=w(()=>{c();gc();yc();yT();Dc();ST();_T();hm();ym();CT();vT();Sm();kc();vo()});var PT=w(()=>{c();gt()});function BB(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var DT=w(()=>{c()});var eo,NT=w(()=>{c();eo=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var OT,bm,_m,LT=w(()=>{c();OT=A(_e()),bm=A(Zr()),_m=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=OT.HttpRequest.clone(t);if(n.in===bm.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===bm.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var MT,Tm,kT=w(()=>{c();MT=A(_e()),Tm=class{async sign(t,r,n){let o=MT.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Cr,UT=w(()=>{c();Cr=class{async sign(t,r,n){return t}}});var BT=w(()=>{c();LT();kT();UT()});var FT,FB,wm,Bc,Im,$T=w(()=>{c();FT=e=>function(r){return Bc(r)&&r.expiration.getTime()-Date.now()<e},FB=3e5,wm=FT(3e5),Bc=e=>e.expiration!==void 0,Im=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,l=async u=>{s||(s=n(u));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async u=>((!i||u?.forceRefresh)&&(o=await l(u)),o):async u=>((!i||u?.forceRefresh)&&(o=await l(u)),a?o:r(o)?(t(o)&&await l(u),o):(a=!0,o))}});var GT=w(()=>{c();NT();BT();$T()});var to={};mt(to,{DefaultIdentityProviderConfig:()=>eo,EXPIRATION_MS:()=>FB,HttpApiKeyAuthSigner:()=>_m,HttpBearerAuthSigner:()=>Tm,NoAuthSigner:()=>Cr,createIsIdentityExpiredFunction:()=>FT,createPaginator:()=>WS,doesIdentityRequireRefresh:()=>Bc,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Fs,getHttpAuthSchemePlugin:()=>ck,getHttpSigningPlugin:()=>$s,getSmithyContext:()=>ok,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>DS,httpAuthSchemeMiddleware:()=>Bs,httpAuthSchemeMiddlewareOptions:()=>BS,httpSigningMiddleware:()=>nf,httpSigningMiddlewareOptions:()=>qS,isIdentityExpired:()=>wm,memoizeIdentityProvider:()=>Im,normalizeProvider:()=>tn,requestBuilder:()=>ni,setFeature:()=>BB});var lt=w(()=>{c();CS();$S();zS();VS();KS();PT();DT();GT()});var no=v(ro=>{"use strict";c();var xm=Zr(),Cm=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),s=0;for(;;){let{value:i,done:a}=o.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let s=String(t[o]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}},$B=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),jT=e=>$B.test(e)||e.startsWith("[")&&e.endsWith("]"),GB=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Rm=(e,t=!1)=>{if(!t)return GB.test(e);let r=e.split(".");for(let n of r)if(!Rm(n))return!1;return!0},vm={},ii="endpoints";function on(e){return typeof e!="object"||e==null?e:"ref"in e?`$${on(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(on).join(", ")})`:JSON.stringify(e,null,2)}var Ze=class extends Error{constructor(t){super(t),this.name="EndpointError"}},jB=(e,t)=>e===t,qB=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Ze(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new Ze(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},qT=(e,t)=>qB(t).reduce((r,n)=>{if(typeof r!="object")throw new Ze(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),HB=e=>e!=null,zB=e=>!e,Am={[xm.EndpointURLScheme.HTTP]:80,[xm.EndpointURLScheme.HTTPS]:443},VB=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:g,protocol:S="",path:x="",query:R={}}=e,P=new URL(`${S}//${y}${g?`:${g}`:""}${x}`);return P.search=Object.entries(R).map(([O,z])=>`${O}=${z}`).join("&"),P}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let l=i.slice(0,-1);if(!Object.values(xm.EndpointURLScheme).includes(l))return null;let u=jT(o),m=r.includes(`${n}:${Am[l]}`)||typeof e=="string"&&e.includes(`${n}:${Am[l]}`),h=`${n}${m?`:${Am[l]}`:""}`;return{scheme:l,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},WB=(e,t)=>e===t,KB=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),YB=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),XB={booleanEquals:jB,getAttr:qT,isSet:HB,isValidHostLabel:Rm,not:zB,parseURL:VB,stringEquals:WB,substring:KB,uriEncode:YB},HT=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[l,u]=a.split("#");r.push(qT(n[l],u))}else r.push(n[a]);o=i+1}return r.join("")},QB=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Fc=(e,t,r)=>{if(typeof e=="string")return HT(e,r);if(e.fn)return VT.callFunction(e,r);if(e.ref)return QB(e,r);throw new Ze(`'${t}': ${String(e)} is not a string, function or reference.`)},zT=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:VT.evaluateExpression(s,"arg",r)),o=e.split(".");return o[0]in vm&&o[1]!=null?vm[o[0]][o[1]](...n):XB[e](...n)},VT={evaluateExpression:Fc,callFunction:zT},JB=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Ze(`'${e}' is already defined in Reference Record.`);let n=zT(t,r);return r.logger?.debug?.(`${ii} evaluateCondition: ${on(t)} = ${on(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Pm=(e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=JB(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${ii} assign: ${s.name} := ${on(s.value)}`))}return{result:!0,referenceRecord:r}},ZB=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Fc(s,"Header value entry",t);if(typeof i!="string")throw new Ze(`Header '${n}' value '${i}' is not a string`);return i})}),{}),WT=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:YT.getEndpointProperty(o,t)}),{}),KT=(e,t)=>{if(Array.isArray(e))return e.map(r=>KT(r,t));switch(typeof e){case"string":return HT(e,t);case"object":if(e===null)throw new Ze(`Unexpected endpoint property: ${e}`);return YT.getEndpointProperties(e,t);case"boolean":return e;default:throw new Ze(`Unexpected endpoint property type: ${typeof e}`)}},YT={getEndpointProperty:KT,getEndpointProperties:WT},eF=(e,t)=>{let r=Fc(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ze(`Endpoint URL must be a string, got ${typeof r}`)},tF=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=Pm(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:l,headers:u}=n;return t.logger?.debug?.(`${ii} Resolving endpoint from template: ${on(n)}`),{...u!=null&&{headers:ZB(u,i)},...l!=null&&{properties:WT(l,i)},url:eF(a,i)}},rF=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Pm(r,t);if(o)throw new Ze(Fc(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},XT=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=tF(r,t);if(n)return n}else if(r.type==="error")rF(r,t);else if(r.type==="tree"){let n=QT.evaluateTreeRule(r,t);if(n)return n}else throw new Ze(`Unknown endpoint rule: ${r}`);throw new Ze("Rules evaluation failed")},nF=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Pm(r,t);if(o)return QT.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},QT={evaluateRules:XT,evaluateTreeRule:nF},oF=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${ii} Initial EndpointParams: ${on(r)}`);let i=Object.entries(o).filter(([,u])=>u.default!=null).map(([u,m])=>[u,m.default]);if(i.length>0)for(let[u,m]of i)r[u]=r[u]??m;let a=Object.entries(o).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new Ze(`Missing required parameter: '${u}'`);let l=XT(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${ii} Resolved endpoint: ${on(l)}`),l};ro.EndpointCache=Cm;ro.EndpointError=Ze;ro.customEndpointFunctions=vm;ro.isIpAddress=jT;ro.isValidHostLabel=Rm;ro.resolveEndpoint=oF});var ZT=v(JT=>{"use strict";c();function sF(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}JT.parseQueryString=sF});var sn=v(tw=>{"use strict";c();var iF=ZT(),ew=e=>{if(typeof e=="string")return ew(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=iF.parseQueryString(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};tw.parseUrl=ew});var Po=v(jt=>{"use strict";c();var Ro=no(),aF=sn(),nw=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!nw(r))return!1;return!0}return!(!Ro.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Ro.isIpAddress(e))},rw=":",cF="/",lF=e=>{let t=e.split(rw);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(rw)==="")return null;let l=a.map(u=>u.split(cF)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:l}},uF=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],dF="1.1",ow={partitions:uF,version:dF},sw=ow,iw="",aw=e=>{let{partitions:t}=sw;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},cw=(e,t="")=>{sw=e,iw=t},pF=()=>{cw(ow,"")},fF=()=>iw,lw={isVirtualHostableS3Bucket:nw,parseArn:lF,partition:aw};Ro.customEndpointFunctions.aws=lw;var mF=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>uw(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},uw=e=>aF.parseUrl(e.url);Object.defineProperty(jt,"EndpointError",{enumerable:!0,get:function(){return Ro.EndpointError}});Object.defineProperty(jt,"isIpAddress",{enumerable:!0,get:function(){return Ro.isIpAddress}});Object.defineProperty(jt,"resolveEndpoint",{enumerable:!0,get:function(){return Ro.resolveEndpoint}});jt.awsEndpointFunctions=lw;jt.getUserAgentPrefix=fF;jt.partition=aw;jt.resolveDefaultAwsRegionalEndpointsConfig=mF;jt.setPartitionInfo=cw;jt.toEndpointV1=uw;jt.useDefaultPartitionInfo=pF});var $c,Do,dw=w(()=>{c();$c={warningEmitted:!1},Do=e=>{e&&!$c.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&($c.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function an(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var pw=w(()=>{c()});function fw(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var mw=w(()=>{c()});function hw(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var gw=w(()=>{c()});var cn={};mt(cn,{emitWarningIfUnsupportedVersion:()=>Do,setCredentialFeature:()=>an,setFeature:()=>fw,setTokenFeature:()=>hw,state:()=>$c});var qt=w(()=>{c();dw();pw();mw();gw()});var yw,Dm,Ew=w(()=>{c();yw=A(_e()),Dm=e=>yw.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var No,Nm=w(()=>{c();No=e=>new Date(Date.now()+e)});var Sw,bw=w(()=>{c();Nm();Sw=(e,t)=>Math.abs(No(t).getTime()-e)>=3e5});var Om,_w=w(()=>{c();bw();Om=(e,t)=>{let r=Date.parse(e);return Sw(r,t)?r-Date.now():t}});var Lm=w(()=>{c();Ew();Nm();_w()});var Tw,ai,Oo,yt,Mm,km=w(()=>{c();Tw=A(_e());Lm();ai=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Oo=async e=>{let t=ai("context",e.context),r=ai("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await ai("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,l=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:l}},yt=class{async sign(t,r,n){if(!Tw.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Oo(n),{config:s,signer:i}=o,{signingRegion:a,signingName:l}=o,u=n.context;if(u?.authSchemes?.length??!1){let[h,y]=u.authSchemes;h?.name==="sigv4a"&&y?.name==="sigv4"&&(a=y?.signingRegion??a,l=y?.signingName??l)}return await i.sign(t,{signingDate:No(s.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(t){return r=>{let n=r.ServerTime??Dm(r.$response);if(n){let o=ai("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Om(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Dm(t);if(n){let o=ai("config",r.config);o.systemClockOffset=Om(n,o.systemClockOffset)}}},Mm=yt});var ww,ci,Iw=w(()=>{c();ww=A(_e());Lm();km();ci=class extends yt{async sign(t,r,n){if(!ww.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:l}=await Oo(n),m=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:No(o.systemClockOffset),signingRegion:m,signingService:l})}}});var Um,Aw=w(()=>{c();Um=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Gc,Bm=w(()=>{c();Gc=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var xw,Cw,Lo,vw=w(()=>{c();Aw();Bm();xw="AWS_AUTH_SCHEME_PREFERENCE",Cw="auth_scheme_preference",Lo={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Gc(t.signingName)in e)return["httpBearerAuth"];if(xw in e)return Um(e[xw])},configFileSelector:e=>{if(Cw in e)return Um(e[Cw])},default:[]}});var ut=v(oo=>{"use strict";c();var Mo=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.tryNextLink=o,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},Fm=class e extends Mo{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},$m=class e extends Mo{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},hF=(...e)=>async()=>{if(e.length===0)throw new Mo("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},gF=e=>()=>Promise.resolve(e),yF=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async l=>((!s||l?.forceRefresh)&&(n=await a()),n):async l=>((!s||l?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};oo.CredentialsProviderError=Fm;oo.ProviderError=Mo;oo.TokenProviderError=$m;oo.chain=hF;oo.fromStatic=gF;oo.memoize=yF});var Gm,Rw,Pw,Dw=w(()=>{c();lt();Gm=A(ut()),Rw=e=>(e.sigv4aSigningRegionSet=tn(e.sigv4aSigningRegionSet),e),Pw={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Gm.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Gm.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var tI=v(ee=>{"use strict";c();var ln=Df(),so=Ce(),EF=sf(),Mw=_e(),Nw=st(),jc=Sf(),kw="X-Amz-Algorithm",Uw="X-Amz-Credential",Wm="X-Amz-Date",Bw="X-Amz-SignedHeaders",Fw="X-Amz-Expires",Km="X-Amz-Signature",Ym="X-Amz-Security-Token",SF="X-Amz-Region-Set",Xm="authorization",Qm=Wm.toLowerCase(),$w="date",Gw=[Xm,Qm,$w],jw=Km.toLowerCase(),Wc="x-amz-content-sha256",qw=Ym.toLowerCase(),bF="host",Hw={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},zw=/^proxy-/,Vw=/^sec-/,_F=[/^proxy-/i,/^sec-/i],qc="AWS4-HMAC-SHA256",TF="AWS4-ECDSA-P256-SHA256",Ww="AWS4-HMAC-SHA256-PAYLOAD",Kw="UNSIGNED-PAYLOAD",Yw=50,Jm="aws4_request",Xw=3600*24*7,ko={},Hc=[],zc=(e,t,r)=>`${e}/${t}/${r}/${Jm}`,Qw=async(e,t,r,n,o)=>{let s=await Ow(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${ln.toHex(s)}:${t.sessionToken}`;if(i in ko)return ko[i];for(Hc.push(i);Hc.length>Yw;)delete ko[Hc.shift()];let a=`AWS4${t.secretAccessKey}`;for(let l of[r,n,o,Jm])a=await Ow(e,a,l);return ko[i]=a},wF=()=>{Hc.length=0,Object.keys(ko).forEach(e=>{delete ko[e]})},Ow=(e,t,r)=>{let n=new e(t);return n.update(so.toUint8Array(r)),n.digest()},jm=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in Hw||t?.has(s)||zw.test(s)||Vw.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},Vc=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Wc)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||EF.isArrayBuffer(t)){let n=new r;return n.update(so.toUint8Array(t)),ln.toHex(await n.digest())}return Kw},qm=class{format(t){let r=[];for(let s of Object.keys(t)){let i=so.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=so.fromUtf8(t.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);let u=new Uint8Array(l.buffer);return u.set(a,3),u;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(Hm.fromNumber(t.value.valueOf()).bytes,1),m;case"uuid":if(!IF.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(ln.fromHex(t.value.replace(/\-/g,"")),1),h}}},IF=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Hm=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Lw(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Lw(t),parseInt(ln.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Lw(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var Jw=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},Zw=(e,t={})=>{let{headers:r,query:n={}}=Mw.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},zm=e=>{e=Mw.HttpRequest.clone(e);for(let t of Object.keys(e.headers))Gw.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},eI=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===jw)continue;let o=jc.escapeUri(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${jc.escapeUri(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${jc.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},AF=e=>xF(e).toISOString().replace(/\.\d{3}Z$/,"Z"),xF=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Kc=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Nw.normalizeProvider(n),this.credentialProvider=Nw.normalizeProvider(r)}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${eI(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n,o){let s=new this.sha256;s.update(so.toUint8Array(n));let i=await s.digest();return`${o}
${t}
${r}
${ln.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return jc.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=AF(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},Vm=class extends Kc{headerFormatter=new qm;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:l,signingRegion:u,signingService:m}=r,h=await this.credentialProvider();this.validateResolvedCredentials(h);let y=u??await this.regionProvider(),{longDate:g,shortDate:S}=this.formatDate(n);if(o>Xw)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let x=zc(S,y,m??this.service),R=Zw(zm(t),{unhoistableHeaders:i,hoistableHeaders:l});h.sessionToken&&(R.query[Ym]=h.sessionToken),R.query[kw]=qc,R.query[Uw]=`${h.accessKeyId}/${x}`,R.query[Wm]=g,R.query[Fw]=o.toString(10);let P=jm(R,s,a);return R.query[Bw]=this.getCanonicalHeaderList(P),R.query[Km]=await this.getSignature(g,x,this.getSigningKey(h,y,S,m),this.createCanonicalRequest(R,P,await Vc(t,this.sha256))),R}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:l,longDate:u}=this.formatDate(n),m=zc(l,a,i??this.service),h=await Vc({headers:{},body:r},this.sha256),y=new this.sha256;y.update(t);let g=ln.toHex(await y.digest()),S=[Ww,u,m,o,g,h].join(`
`);return this.signString(S,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),l=new this.sha256(await this.getSigningKey(s,i,a,o));return l.update(so.toUint8Array(t)),ln.toHex(await l.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let l=s??await this.regionProvider(),u=zm(t),{longDate:m,shortDate:h}=this.formatDate(r),y=zc(h,l,i??this.service);u.headers[Qm]=m,a.sessionToken&&(u.headers[qw]=a.sessionToken);let g=await Vc(u,this.sha256);!Jw(Wc,u.headers)&&this.applyChecksum&&(u.headers[Wc]=g);let S=jm(u,o,n),x=await this.getSignature(m,y,this.getSigningKey(a,l,h,i),this.createCanonicalRequest(u,S,g));return u.headers[Xm]=`${qc} Credential=${a.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(S)}, Signature=${x}`,u}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o,qc),i=new this.sha256(await n);return i.update(so.toUint8Array(s)),ln.toHex(await i.digest())}getSigningKey(t,r,n,o){return Qw(this.sha256,t,n,r,o||this.service)}},CF={SignatureV4a:null};ee.ALGORITHM_IDENTIFIER=qc;ee.ALGORITHM_IDENTIFIER_V4A=TF;ee.ALGORITHM_QUERY_PARAM=kw;ee.ALWAYS_UNSIGNABLE_HEADERS=Hw;ee.AMZ_DATE_HEADER=Qm;ee.AMZ_DATE_QUERY_PARAM=Wm;ee.AUTH_HEADER=Xm;ee.CREDENTIAL_QUERY_PARAM=Uw;ee.DATE_HEADER=$w;ee.EVENT_ALGORITHM_IDENTIFIER=Ww;ee.EXPIRES_QUERY_PARAM=Fw;ee.GENERATED_HEADERS=Gw;ee.HOST_HEADER=bF;ee.KEY_TYPE_IDENTIFIER=Jm;ee.MAX_CACHE_SIZE=Yw;ee.MAX_PRESIGNED_TTL=Xw;ee.PROXY_HEADER_PATTERN=zw;ee.REGION_SET_PARAM=SF;ee.SEC_HEADER_PATTERN=Vw;ee.SHA256_HEADER=Wc;ee.SIGNATURE_HEADER=jw;ee.SIGNATURE_QUERY_PARAM=Km;ee.SIGNED_HEADERS_QUERY_PARAM=Bw;ee.SignatureV4=Vm;ee.SignatureV4Base=Kc;ee.TOKEN_HEADER=qw;ee.TOKEN_QUERY_PARAM=Ym;ee.UNSIGNABLE_PATTERNS=_F;ee.UNSIGNED_PAYLOAD=Kw;ee.clearCredentialCache=wF;ee.createScope=zc;ee.getCanonicalHeaders=jm;ee.getCanonicalQuery=eI;ee.getPayloadHash=Vc;ee.getSigningKey=Qw;ee.hasHeader=Jw;ee.moveHeadersToQuery=Zw;ee.prepareRequest=zm;ee.signatureV4aContainer=CF});function vF(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Im(t,wm,Bc):r?n=tn(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function RF(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Zm,io,rI,nI=w(()=>{c();qt();lt();Zm=A(tI()),io=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let m=vF(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),h=RF(e,m);r&&!h.attributed?(n=async y=>h(y).then(g=>an(g,"CREDENTIALS_CODE","e")),n.memoized=h.memoized,n.configBound=h.configBound,n.attributed=!0):n=h},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=tn(e.signer):e.regionInfoProvider?a=()=>tn(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,m])=>{let{signingRegion:h,signingService:y}=u;e.signingRegion=e.signingRegion||h||m,e.signingName=e.signingName||y||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},S=e.signerConstructor||Zm.SignatureV4;return new S(g)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await tn(e.region)(),properties:{}},u);let m=u.signingRegion,h=u.signingName;e.signingRegion=e.signingRegion||m,e.signingName=e.signingName||h||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||Zm.SignatureV4;return new g(y)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},rI=io});var oI=w(()=>{c();km();Iw();vw();Dw();nI()});var sI={};mt(sI,{AWSSDKSigV4Signer:()=>Mm,AwsSdkSigV4ASigner:()=>ci,AwsSdkSigV4Signer:()=>yt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Lo,NODE_SIGV4A_CONFIG_OPTIONS:()=>Pw,getBearerTokenEnvKey:()=>Gc,resolveAWSSDKSigV4Config:()=>rI,resolveAwsSdkSigV4AConfig:()=>Rw,resolveAwsSdkSigV4Config:()=>io,validateSigningProperties:()=>Oo});var eh=w(()=>{c();oI();Bm()});function un(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Yc(e){return e[th]=!0,e}var th,Xc=w(()=>{c();th=Symbol("@smithy/core/cbor::tagSymbol")});function cI(e){Te=e,Rr=new DataView(Te.buffer,Te.byteOffset,Te.byteLength)}function rr(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(Te[e]&224)>>5,n=Te[e]&31;switch(r){case 0:case 1:case 6:let o,s;if(n<24)o=n,s=1;else switch(n){case 24:case 25:case 26:case 27:let i=uI[n],a=i+1;if(s=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let l=e+1;i===1?o=Te[l]:i===2?o=Rr.getUint16(l):i===4?o=Rr.getUint32(l):o=Rr.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return oe=s,rh(o);if(r===1){let i;return typeof o=="bigint"?i=BigInt(-1)-o:i=-1-o,oe=s,rh(i)}else if(n===2||n===3){let i=pi(e+s,t),a=BigInt(0),l=e+s+oe;for(let u=l;u<l+i;++u)a=a<<BigInt(8)|BigInt(Te[u]);return oe=s+oe+i,n===3?-a-BigInt(1):a}else if(n===4){let i=rr(e+s,t),[a,l]=i,u=l<0?-1:1,m="0".repeat(Math.abs(a)+1)+String(BigInt(u)*BigInt(l)),h,y=l<0?"-":"";return h=a===0?m:m.slice(0,m.length+a)+"."+m.slice(a),h=h.replace(/^0+/g,""),h===""&&(h="0"),h[0]==="."&&(h="0"+h),h=y+h,oe=s+oe,pm(h)}else{let i=rr(e+s,t);return oe=s+oe,Yc({tag:rh(o),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return kF(e,t);case 5:return GF(e,t);case 4:return FF(e,t);case 2:return UF(e,t)}else switch(r){case 3:return MF(e,t);case 5:return $F(e,t);case 4:return BF(e,t);case 2:return ch(e,t)}default:return jF(e,t)}}function lI(e,t,r){return NF&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):iI?iI.decode(e.subarray(t,r)):(0,aI.toUtf8)(e.subarray(t,r))}function OF(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function LF(e,t){let r=e>>7,n=(e&124)>>2,o=(e&3)<<8|t,s=r===0?1:-1,i,a;if(n===0){if(o===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return o===0?s*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=o/1024,s*(i*a)}function pi(e,t){let r=Te[e]&31;if(r<24)return oe=1,r;if(r===24||r===25||r===26||r===27){let n=uI[r];if(oe=n+1,t-e<oe)throw new Error(`countLength ${n} greater than remaining buf len.`);let o=e+1;return n===1?Te[o]:n===2?Rr.getUint16(o):n===4?Rr.getUint32(o):OF(Rr.getBigUint64(o))}throw new Error(`unexpected minor value ${r}.`)}function MF(e,t){let r=pi(e,t),n=oe;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let o=lI(Te,e,e+r);return oe=n+r,o}function kF(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Te[e]===255){let l=un(r.length);return l.set(r,0),oe=e-n+2,lI(l,0,l.length)}let o=(Te[e]&224)>>5,s=Te[e]&31;if(o!==3)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=ch(e,t);e+=oe;for(let l=0;l<i.length;++l)r.push(i[l])}throw new Error("expected break marker.")}function ch(e,t){let r=pi(e,t),n=oe;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let o=Te.subarray(e,e+r);return oe=n+r,o}function UF(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Te[e]===255){let l=un(r.length);return l.set(r,0),oe=e-n+2,l}let o=(Te[e]&224)>>5,s=Te[e]&31;if(o!==2)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=ch(e,t);e+=oe;for(let l=0;l<i.length;++l)r.push(i[l])}throw new Error("expected break marker.")}function BF(e,t){let r=pi(e,t),n=oe;e+=n;let o=e,s=Array(r);for(let i=0;i<r;++i){let a=rr(e,t),l=oe;s[i]=a,e+=l}return oe=n+(e-o),s}function FF(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Te[e]===255)return oe=e-n+2,r;let o=rr(e,t);e+=oe,r.push(o)}throw new Error("expected break marker.")}function $F(e,t){let r=pi(e,t),n=oe;e+=n;let o=e,s={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(Te[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let l=rr(e,t);e+=oe;let u=rr(e,t);e+=oe,s[l]=u}return oe=n+(e-o),s}function GF(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(Te[e]===255)return oe=e-r+2,n;let o=(Te[e]&224)>>5;if(o!==3)throw new Error(`unexpected major type ${o} for map key.`);let s=rr(e,t);e+=oe;let i=rr(e,t);e+=oe,n[s]=i}throw new Error("expected break marker.")}function jF(e,t){let r=Te[e]&31;switch(r){case 21:case 20:return oe=1,r===21;case 22:return oe=1,null;case 23:return oe=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return oe=3,LF(Te[e+1],Te[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return oe=5,Rr.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return oe=9,Rr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function rh(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var aI,DF,NF,Te,Rr,iI,oe,uI,dI=w(()=>{c();ht();aI=A(Ce());Xc();DF=typeof TextDecoder<"u",NF=typeof Buffer<"u",Te=un(0),Rr=new DataView(Te.buffer,Te.byteOffset,Te.byteLength),iI=DF?new TextDecoder:null,oe=0;uI={24:1,25:2,26:4,27:8}});function uh(e){K.byteLength-q<e&&(q<16e6?Jc(Math.max(K.byteLength*4,K.byteLength+e)):Jc(K.byteLength+e+16e6))}function dh(){let e=un(q);return e.set(K.subarray(0,q),0),q=0,e}function Jc(e){let t=K;K=un(e),t&&(t.copy?t.copy(K,0,0,t.byteLength):K.set(t,0)),Nr=new DataView(K.buffer,K.byteOffset,K.byteLength)}function Dr(e,t){t<24?K[q++]=e<<5|t:t<256?(K[q++]=e<<5|24,K[q++]=t):t<65536?(K[q++]=e<<5|25,Nr.setUint16(q,t),q+=2):t<2**32?(K[q++]=e<<5|26,Nr.setUint32(q,t),q+=4):(K[q++]=e<<5|27,Nr.setBigUint64(q,typeof t=="bigint"?t:BigInt(t)),q+=8)}function mI(e){let t=[e];for(;t.length;){let r=t.pop();if(uh(typeof r=="string"?r.length*4:64),typeof r=="string"){if(pI)Dr(3,Buffer.byteLength(r)),q+=K.write(r,q);else{let n=(0,fI.fromUtf8)(r);Dr(3,n.byteLength),K.set(n,q),q+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,o=n?0:1,s=n?r:-r-1;s<24?K[q++]=o<<5|s:s<256?(K[q++]=o<<5|24,K[q++]=s):s<65536?(K[q++]=o<<5|25,K[q++]=s>>8,K[q++]=s):s<4294967296?(K[q++]=o<<5|26,Nr.setUint32(q,s),q+=4):(K[q++]=o<<5|27,Nr.setBigUint64(q,BigInt(s)),q+=8);continue}K[q++]=251,Nr.setFloat64(q,r),q+=8;continue}else if(typeof r=="bigint"){let n=r>=0,o=n?0:1,s=n?r:-r-BigInt(1),i=Number(s);if(i<24)K[q++]=o<<5|i;else if(i<256)K[q++]=o<<5|24,K[q++]=i;else if(i<65536)K[q++]=o<<5|25,K[q++]=i>>8,K[q++]=i&255;else if(i<4294967296)K[q++]=o<<5|26,Nr.setUint32(q,i),q+=4;else if(s<BigInt("18446744073709551616"))K[q++]=o<<5|27,Nr.setBigUint64(q,s),q+=8;else{let a=s.toString(2),l=new Uint8Array(Math.ceil(a.length/8)),u=s,m=0;for(;l.byteLength-++m>=0;)l[l.byteLength-m]=Number(u&BigInt(255)),u>>=BigInt(8);uh(l.byteLength*2),K[q++]=n?194:195,pI?Dr(2,Buffer.byteLength(l)):Dr(2,l.byteLength),K.set(l,q),q+=l.byteLength}continue}else if(r===null){K[q++]=246;continue}else if(typeof r=="boolean"){K[q++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);Dr(4,r.length);continue}else if(typeof r.byteLength=="number"){uh(r.length*2),Dr(2,r.length),K.set(r,q),q+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Re){let o=r.string.indexOf("."),s=o===-1?0:o-r.string.length+1,i=BigInt(r.string.replace(".",""));K[q++]=196,t.push(i),t.push(s),Dr(4,2);continue}if(r[th])if("tag"in r&&"value"in r){t.push(r.value),Dr(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let o=n.length-1;o>=0;--o){let s=n[o];t.push(r[s]),t.push(s)}Dr(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var fI,pI,qF,K,Nr,q,hI=w(()=>{c();ht();fI=A(Ce());Xc();pI=typeof Buffer<"u",qF=2048,K=un(qF),Nr=new DataView(K.buffer,K.byteOffset,K.byteLength),q=0});var ph,gI=w(()=>{c();dI();hI();ph={deserialize(e){return cI(e),rr(0,e.length)},serialize(e){try{return mI(e),dh()}catch(t){throw dh(),t}},resizeEncodingBuffer(e){Jc(e)}}});var Zc,el,tl=w(()=>{c();Xc();Zc=e=>Yc({tag:1,value:e.getTime()/1e3}),el=(e,t)=>{let r=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(o=>o.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var hh,rl,fh,mh,gh=w(()=>{c();gt();ve();ht();hh=A(Mc());gI();tl();rl=class extends ct{createSerializer(){let t=new fh;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new mh;return t.setSerdeContext(this.serdeContext),t}},fh=class extends ct{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=j.of(t);if(r==null)return n.isIdempotencyToken()?(0,tr.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??hh.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?Zc(new Date(Number(r)/1e3|0)):Zc(r);if(typeof r=="function"||typeof r=="object"){let o=r;if(n.isListSchema()&&Array.isArray(o)){let i=!!n.getMergedTraits().sparse,a=[],l=0;for(let u of o){let m=this.serialize(n.getValueSchema(),u);(m!=null||i)&&(a[l++]=m)}return a}if(o instanceof Date)return Zc(o);let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(o)){let l=this.serialize(n.getValueSchema(),o[a]);(l!=null||i)&&(s[a]=l)}}else if(n.isStructSchema())for(let[i,a]of n.structIterator()){let l=this.serialize(a,o[i]);l!=null&&(s[i]=l)}else if(n.isDocumentSchema())for(let i of Object.keys(o))s[i]=this.serialize(n.getValueSchema(),o[i]);return s}return r}flush(){let t=ph.serialize(this.value);return this.value=void 0,t}},mh=class extends ct{read(t,r){let n=ph.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=j.of(t);if(n.isTimestampSchema()&&typeof r=="number")return ti(r);if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??hh.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let s=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let l of r){let u=this.readValue(i,l);(u!=null||a)&&s.push(u)}return s}let o={};if(n.isMapSchema()){let s=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let l=this.readValue(i,r[a]);(l!=null||s)&&(o[a]=l)}}else if(n.isStructSchema())for(let[s,i]of n.structIterator()){let a=this.readValue(i,r[s]);a!=null&&(o[s]=a)}return o}else return r}}});var yI,nl,EI=w(()=>{c();gt();ve();yI=A(st());gh();tl();nl=class extends xr{codec=new rl;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);if(Object.assign(o.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Gt(t.input)==="unit")delete o.body,delete o.headers["content-type"];else{o.body||(this.serializer.write(15,{}),o.body=this.serializer.flush());try{o.headers["content-length"]=String(o.body.byteLength)}catch{}}let{service:s,operation:i}=(0,yI.getSmithyContext)(n),a=`/service/${s}/operation/${i}`;return o.path.endsWith("/")?o.path+=a.slice(1):o.path+=a,o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=el(n,o)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let l={$metadata:s,$response:n,$fault:n.statusCode<=500?"client":"server"},u=qe.for(a),m;try{m=u.getSchema(i)}catch{o.Message&&(o.message=o.Message);let P=qe.for("smithy.ts.sdk.synthetic."+a),O=P.getBaseException();if(O){let z=P.getErrorCtor(O);throw Object.assign(new z({name:i}),l,o)}throw Object.assign(new Error(i),l,o)}let h=j.of(m),y=u.getErrorCtor(m),g=o.message??o.Message??"Unknown",S=new y(g),x={};for(let[R,P]of h.structIterator())x[R]=this.deserializer.readValue(P,o[R]);throw Object.assign(S,l,{$fault:h.getMergedTraits().error,message:g},x)}getDefaultContentType(){return"application/cbor"}}});var SI=w(()=>{c();tl();EI();gh()});var vt,Bo=w(()=>{c();ve();vt=class{resolveRestContentType(t,r){let n=r.getMemberSchemas(),o=Object.values(n).find(s=>!!s.getMergedTraits().httpPayload);if(o){let s=o.getMergedTraits().mediaType;return s||(o.isStringSchema()?"text/plain":o.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:l,httpHeader:u,httpLabel:m,httpPrefixHeaders:h}=i.getMergedTraits();return!a&&!l&&!u&&!m&&h===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,o,s,i){let a=r,l=t;t.includes("#")&&([a,l]=t.split("#"));let u={$metadata:s,$response:n,$fault:n.statusCode<500?"client":"server"},m=qe.for(a);try{return{errorSchema:i?.(m,l)??m.getSchema(t),errorMetadata:u}}catch{o.message=o.message??o.Message??"UnknownError";let y=qe.for("smithy.ts.sdk.synthetic."+a),g=y.getBaseException();if(g){let S=y.getErrorCtor(g)??Error;throw Object.assign(new S({name:l}),u,o)}throw Object.assign(new Error(l),u,o)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,s]=n.split(";"),i=Object.entries(t),a={Code:o,Type:s};Object.assign(t,a);for(let[l,u]of i)a[l]=u;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var ol,bI=w(()=>{c();SI();ve();Bo();ol=class extends nl{awsQueryCompatible;mixin=new vt;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),o}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=el(n,o)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=j.of(a),m=o.message??o.Message??"Unknown",h=qe.for(a[1]).getErrorCtor(a)??Error,y=new h(m),g={};for(let[S,x]of u.structIterator())g[S]=this.deserializer.readValue(x,o[S]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,g),Object.assign(y,l,{$fault:u.getMergedTraits().error,message:m},g)}}});var _I,TI,wI,II=w(()=>{c();_I=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},TI=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},wI=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var et,mn=w(()=>{c();et=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var AI=v(sl=>{"use strict";c();Object.defineProperty(sl,"__esModule",{value:!0});sl.fromBase64=void 0;var HF=ze(),zF=/^[A-Za-z0-9+/]*={0,2}$/,VF=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!zF.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,HF.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};sl.fromBase64=VF});var xI=v(il=>{"use strict";c();Object.defineProperty(il,"__esModule",{value:!0});il.toBase64=void 0;var WF=ze(),KF=Ce(),YF=e=>{let t;if(typeof e=="string"?t=(0,KF.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,WF.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};il.toBase64=YF});var mi=v(fi=>{"use strict";c();var CI=AI(),vI=xI();Object.keys(CI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(fi,e)&&Object.defineProperty(fi,e,{enumerable:!0,get:function(){return CI[e]}})});Object.keys(vI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(fi,e)&&Object.defineProperty(fi,e,{enumerable:!0,get:function(){return vI[e]}})})});function RI(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Re(n,"bigDecimal"):BigInt(n)}return t}var PI=w(()=>{c();ht()});var LI=v(OI=>{"use strict";c();var ao=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},hn=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,yh=()=>{let e=[],t=[],r=!1,n=new Set,o=h=>h.sort((y,g)=>DI[g.step]-DI[y.step]||NI[g.priority||"normal"]-NI[y.priority||"normal"]),s=h=>{let y=!1,g=S=>{let x=ao(S.name,S.aliases);if(x.includes(h)){y=!0;for(let R of x)n.delete(R);return!1}return!0};return e=e.filter(g),t=t.filter(g),y},i=h=>{let y=!1,g=S=>{if(S.middleware===h){y=!0;for(let x of ao(S.name,S.aliases))n.delete(x);return!1}return!0};return e=e.filter(g),t=t.filter(g),y},a=h=>(e.forEach(y=>{h.add(y.middleware,{...y})}),t.forEach(y=>{h.addRelativeTo(y.middleware,{...y})}),h.identifyOnResolve?.(m.identifyOnResolve()),h),l=h=>{let y=[];return h.before.forEach(g=>{g.before.length===0&&g.after.length===0?y.push(g):y.push(...l(g))}),y.push(h),h.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?y.push(g):y.push(...l(g))}),y},u=(h=!1)=>{let y=[],g=[],S={};return e.forEach(R=>{let P={...R,before:[],after:[]};for(let O of ao(P.name,P.aliases))S[O]=P;y.push(P)}),t.forEach(R=>{let P={...R,before:[],after:[]};for(let O of ao(P.name,P.aliases))S[O]=P;g.push(P)}),g.forEach(R=>{if(R.toMiddleware){let P=S[R.toMiddleware];if(P===void 0){if(h)return;throw new Error(`${R.toMiddleware} is not found when adding ${hn(R.name,R.aliases)} middleware ${R.relation} ${R.toMiddleware}`)}R.relation==="after"&&P.after.push(R),R.relation==="before"&&P.before.push(R)}}),o(y).map(l).reduce((R,P)=>(R.push(...P),R),[])},m={add:(h,y={})=>{let{name:g,override:S,aliases:x}=y,R={step:"initialize",priority:"normal",middleware:h,...y},P=ao(g,x);if(P.length>0){if(P.some(O=>n.has(O))){if(!S)throw new Error(`Duplicate middleware name '${hn(g,x)}'`);for(let O of P){let z=e.findIndex(Z=>Z.name===O||Z.aliases?.some(we=>we===O));if(z===-1)continue;let W=e[z];if(W.step!==R.step||R.priority!==W.priority)throw new Error(`"${hn(W.name,W.aliases)}" middleware with ${W.priority} priority in ${W.step} step cannot be overridden by "${hn(g,x)}" middleware with ${R.priority} priority in ${R.step} step.`);e.splice(z,1)}}for(let O of P)n.add(O)}e.push(R)},addRelativeTo:(h,y)=>{let{name:g,override:S,aliases:x}=y,R={middleware:h,...y},P=ao(g,x);if(P.length>0){if(P.some(O=>n.has(O))){if(!S)throw new Error(`Duplicate middleware name '${hn(g,x)}'`);for(let O of P){let z=t.findIndex(Z=>Z.name===O||Z.aliases?.some(we=>we===O));if(z===-1)continue;let W=t[z];if(W.toMiddleware!==R.toMiddleware||W.relation!==R.relation)throw new Error(`"${hn(W.name,W.aliases)}" middleware ${W.relation} "${W.toMiddleware}" middleware cannot be overridden by "${hn(g,x)}" middleware ${R.relation} "${R.toMiddleware}" middleware.`);t.splice(z,1)}}for(let O of P)n.add(O)}t.push(R)},clone:()=>a(yh()),use:h=>{h.applyToStack(m)},remove:h=>typeof h=="string"?s(h):i(h),removeByTag:h=>{let y=!1,g=S=>{let{tags:x,name:R,aliases:P}=S;if(x&&x.includes(h)){let O=ao(R,P);for(let z of O)n.delete(z);return y=!0,!1}return!0};return e=e.filter(g),t=t.filter(g),y},concat:h=>{let y=a(yh());return y.use(h),y.identifyOnResolve(r||y.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),y},applyToStack:a,identify:()=>u(!0).map(h=>{let y=h.step??h.relation+" "+h.toMiddleware;return hn(h.name,h.aliases)+" - "+y}),identifyOnResolve(h){return typeof h=="boolean"&&(r=h),r},resolve:(h,y)=>{for(let g of u().map(S=>S.middleware).reverse())h=g(h,y);return r&&console.log(m.identify()),h}};return m},DI={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},NI={high:3,normal:2,low:1};OI.constructStack=yh});var te=v(Ee=>{"use strict";c();var UI=LI(),xh=(gt(),ae(RT)),Sh=Zr(),XF=(ve(),ae(Gf)),MI=(ht(),ae(uT)),bh=class{config;middlewareStack=UI.constructStack();initConfig;handlers;constructor(t){this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=o===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let l=this.handlers;l.has(t.constructor)?a=l.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),l.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(l=>s(null,l.output),l=>s(l)).catch(()=>{});else return a(t).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Eh="***SensitiveInformation***";function _h(e,t){if(t==null)return t;let r=XF.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Eh;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Eh}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Eh}else if(r.isStructSchema()&&typeof t=="object"){let n=t,o={};for(let[s,i]of r.structIterator())n[s]!=null&&(o[s]=_h(i,n[s]));return o}return t}var al=class{middlewareStack=UI.constructStack();schema;static classBuilder(){return new Th}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:m,CommandCtor:h}){for(let R of o.bind(this)(h,t,r,n))this.middlewareStack.use(R);let y=t.concat(this.middlewareStack),{logger:g}=r,S={logger:g,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[Sh.SMITHY_CONTEXT_KEY]:{commandInstance:this,...u},...m},{requestHandler:x}=r;return y.resolve(R=>x.handle(R.request,n||{}),S)}},Th=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends al{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,o,s){let i=t._operationSchema,a=i?.[4]??i?.input,l=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,o,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?_h.bind(null,a):u=>u),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?_h.bind(null,l):u=>u),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},QF="***SensitiveInformation***",JF=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=async function(i,a,l){let u=new n(i);if(typeof a=="function")this.send(u,a);else if(typeof l=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},l)}else return this.send(u,a)},s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},wh=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},BI=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},FI=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=e$(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw BI(i,t)},ZF=e=>({output:t,parsedBody:r,errorCode:n})=>{FI({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},e$=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),t$=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},kI=!1,r$=e=>{e&&!kI&&parseInt(e.substring(1,e.indexOf(".")))<16&&(kI=!0)},n$=e=>{let t=[];for(let r in Sh.AlgorithmId){let n=Sh.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},o$=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},s$=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),i$=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},$I=e=>Object.assign(n$(e),s$(e)),a$=$I,c$=e=>Object.assign(o$(e),i$(e)),l$=e=>Array.isArray(e)?e:[e],GI=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=GI(e[r]));return e},u$=e=>e!=null,Ih=class{trace(){}debug(){}info(){}warn(){}error(){}};function jI(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,f$(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}qI(n,null,s,i)}return n}var d$=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},p$=(e,t)=>{let r={};for(let n in t)qI(r,e,t,n);return r},f$=(e,t,r)=>jI(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),qI=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=m$,l=h$,u=n]=i;(typeof a=="function"&&a(t[u])||typeof a!="function"&&a)&&(e[n]=l(t[u]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,l=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:l&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},m$=e=>e!=null,h$=e=>e,g$=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},y$=e=>e.toISOString().replace(".000Z","Z"),Ah=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Ah);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Ah(e[r]));return t}return e};Object.defineProperty(Ee,"collectBody",{enumerable:!0,get:function(){return xh.collectBody}});Object.defineProperty(Ee,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return xh.extendedEncodeURIComponent}});Object.defineProperty(Ee,"resolvedPath",{enumerable:!0,get:function(){return xh.resolvedPath}});Ee.Client=bh;Ee.Command=al;Ee.NoOpLogger=Ih;Ee.SENSITIVE_STRING=QF;Ee.ServiceException=wh;Ee._json=Ah;Ee.convertMap=d$;Ee.createAggregatedClient=JF;Ee.decorateServiceException=BI;Ee.emitWarningIfUnsupportedVersion=r$;Ee.getArrayIfSingleItem=l$;Ee.getDefaultClientConfiguration=a$;Ee.getDefaultExtensionConfiguration=$I;Ee.getValueFromTextNode=GI;Ee.isSerializableHeaderValue=u$;Ee.loadConfigsForDefaultMode=t$;Ee.map=jI;Ee.resolveDefaultRuntimeConfig=c$;Ee.serializeDateTime=y$;Ee.serializeFloat=g$;Ee.take=p$;Ee.throwDefaultError=FI;Ee.withBaseException=ZF;Object.keys(MI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ee,e)&&Object.defineProperty(Ee,e,{enumerable:!0,get:function(){return MI[e]}})})});var HI,zI,cl,Ch=w(()=>{c();HI=A(te()),zI=A(Ce()),cl=(e,t)=>(0,HI.collectBody)(e,t).then(r=>(t?.utf8Encoder??zI.toUtf8)(r))});var co,ll,gn,hi=w(()=>{c();Ch();co=(e,t)=>cl(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),ll=async(e,t)=>{let r=await co(e,t);return r.message=r.message??r.Message,r},gn=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var VI,Fo,vh=w(()=>{c();gt();ve();ht();VI=A(mi());mn();PI();hi();Fo=class extends et{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,RI):await co(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=j.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],l=!!o.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&a.push(this._read(i,u));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},l=!!o.getMergedTraits().sparse;for(let[u,m]of Object.entries(r))(l||m!=null)&&(a[u]=this._read(i,m));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,l]of o.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??a:a,m=this._read(l,r[u]);m!=null&&(i[a]=m)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,VI.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return at.from(r);if(o.isTimestampSchema()&&r!=null)switch(Tt(o,this.settings)){case 5:return Jf(r);case 6:return Zf(r);case 7:return em(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null){if(r instanceof Re)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new Re(i.string,i.type):new Re(String(r),"bigDecimal")}if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,l]of Object.entries(r))l instanceof Re?i[a]=l:i[a]=this._read(o,l);return i}else return structuredClone(r);return r}}});var WI,ul,KI=w(()=>{c();ht();WI="\u039D",ul=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Re){let n=`${WI+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${WI+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var YI,$o,Rh=w(()=>{c();gt();ve();ht();YI=A(mi());mn();KI();$o=class extends et{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=j.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=j.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new ul;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=j.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),a=[],l=!!s.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&a.push(this._write(i,u));return a}else if(s.isMapSchema()&&o){let i=s.getValueSchema(),a={},l=!!s.getMergedTraits().sparse;for(let[u,m]of Object.entries(r))(l||m!=null)&&(a[u]=this._write(i,m));return a}else if(s.isStructSchema()&&o){let i={};for(let[a,l]of s.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??a:a,m=this._write(l,r[a],s);m!==void 0&&(i[u]=m)}return i}if(!(r===null&&n?.isStructSchema())){if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||s.isDocumentSchema()&&r instanceof Uint8Array)return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??YI.toBase64)(r);if((s.isTimestampSchema()||s.isDocumentSchema())&&r instanceof Date)switch(Tt(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Js(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return(0,tr.v4)();let i=s.getMergedTraits().mediaType;if(r!=null&&i&&(i==="application/json"||i.endsWith("+json")))return at.from(r)}if(s.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,l]of Object.entries(r))l instanceof Re?i[a]=l:i[a]=this._write(s,l);return i}else return structuredClone(r);return r}}}});var yn,dl=w(()=>{c();mn();vh();Rh();yn=class extends et{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new $o(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Fo(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var En,pl=w(()=>{c();gt();ve();Bo();dl();hi();En=class extends xr{serializer;deserializer;serviceTarget;codec;mixin=new vt;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new yn({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),(Gt(t.input)==="unit"||!o.body)&&(o.body="{}"),o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=gn(n,o)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=j.of(a),m=o.message??o.Message??"Unknown",h=qe.for(a[1]).getErrorCtor(a)??Error,y=new h(m),g={};for(let[S,x]of u.structIterator()){let R=x.getMergedTraits().jsonName??S;g[S]=this.codec.createDeserializer().readObject(x,o[R])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,g),Object.assign(y,l,{$fault:u.getMergedTraits().error,message:m},g)}}});var fl,XI=w(()=>{c();pl();fl=class extends En{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var ml,QI=w(()=>{c();pl();ml=class extends En{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var hl,JI=w(()=>{c();gt();ve();Bo();dl();hi();hl=class extends Xn{serializer;deserializer;codec;mixin=new vt;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new yn(r),this.serializer=new Zn(this.codec.createSerializer(),r),this.deserializer=new Jn(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=j.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return o.headers["content-type"]&&!o.body&&(o.body="{}"),o}async handleError(t,r,n,o,s){let i=gn(n,o)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=j.of(a),m=o.message??o.Message??"Unknown",h=qe.for(a[1]).getErrorCtor(a)??Error,y=new h(m);await this.deserializeHttpMessage(a,r,n,o);let g={};for(let[S,x]of u.structIterator()){let R=x.getMergedTraits().jsonName??S;g[S]=this.codec.createDeserializer().readObject(x,o[R])}throw Object.assign(y,l,{$fault:u.getMergedTraits().error,message:m},g)}getDefaultContentType(){return"application/json"}}});var ZI,eA,tA=w(()=>{c();ZI=A(te()),eA=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,ZI.expectUnion)(e)}});var nA=v((Cde,rA)=>{c();(()=>{"use strict";var e={d:(p,f)=>{for(var E in f)e.o(f,E)&&!e.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:f[E]})},o:(p,f)=>Object.prototype.hasOwnProperty.call(p,f),r:p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Qr,XMLParser:()=>ML,XMLValidator:()=>qL});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function o(p,f){let E=[],T=f.exec(p);for(;T;){let b=[];b.startIndex=f.lastIndex-T[0].length;let _=T.length;for(let D=0;D<_;D++)b.push(T[D]);E.push(b),T=f.exec(p)}return E}let s=function(p){return n.exec(p)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(p,f){f=Object.assign({},i,f);let E=[],T=!1,b=!1;p[0]==="\uFEFF"&&(p=p.substr(1));for(let _=0;_<p.length;_++)if(p[_]==="<"&&p[_+1]==="?"){if(_+=2,_=u(p,_),_.err)return _}else{if(p[_]!=="<"){if(l(p[_]))continue;return P("InvalidChar","char '"+p[_]+"' is not expected.",z(p,_))}{let D=_;if(_++,p[_]==="!"){_=m(p,_);continue}{let C=!1;p[_]==="/"&&(C=!0,_++);let N="";for(;_<p.length&&p[_]!==">"&&p[_]!==" "&&p[_]!=="	"&&p[_]!==`
`&&p[_]!=="\r";_++)N+=p[_];if(N=N.trim(),N[N.length-1]==="/"&&(N=N.substring(0,N.length-1),_--),!s(N)){let H;return H=N.trim().length===0?"Invalid space after '<'.":"Tag '"+N+"' is an invalid name.",P("InvalidTag",H,z(p,_))}let M=g(p,_);if(M===!1)return P("InvalidAttr","Attributes for '"+N+"' have open quote.",z(p,_));let X=M.value;if(_=M.index,X[X.length-1]==="/"){let H=_-X.length;X=X.substring(0,X.length-1);let de=x(X,f);if(de!==!0)return P(de.err.code,de.err.msg,z(p,H+de.err.line));T=!0}else if(C){if(!M.tagClosed)return P("InvalidTag","Closing tag '"+N+"' doesn't have proper closing.",z(p,_));if(X.trim().length>0)return P("InvalidTag","Closing tag '"+N+"' can't have attributes or invalid starting.",z(p,D));if(E.length===0)return P("InvalidTag","Closing tag '"+N+"' has not been opened.",z(p,D));{let H=E.pop();if(N!==H.tagName){let de=z(p,H.tagStartPos);return P("InvalidTag","Expected closing tag '"+H.tagName+"' (opened in line "+de.line+", col "+de.col+") instead of closing tag '"+N+"'.",z(p,D))}E.length==0&&(b=!0)}}else{let H=x(X,f);if(H!==!0)return P(H.err.code,H.err.msg,z(p,_-X.length+H.err.line));if(b===!0)return P("InvalidXml","Multiple possible root nodes found.",z(p,_));f.unpairedTags.indexOf(N)!==-1||E.push({tagName:N,tagStartPos:D}),T=!0}for(_++;_<p.length;_++)if(p[_]==="<"){if(p[_+1]==="!"){_++,_=m(p,_);continue}if(p[_+1]!=="?")break;if(_=u(p,++_),_.err)return _}else if(p[_]==="&"){let H=R(p,_);if(H==-1)return P("InvalidChar","char '&' is not expected.",z(p,_));_=H}else if(b===!0&&!l(p[_]))return P("InvalidXml","Extra text at the end",z(p,_));p[_]==="<"&&_--}}}return T?E.length==1?P("InvalidTag","Unclosed tag '"+E[0].tagName+"'.",z(p,E[0].tagStartPos)):!(E.length>0)||P("InvalidXml","Invalid '"+JSON.stringify(E.map((_=>_.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):P("InvalidXml","Start tag expected.",1)}function l(p){return p===" "||p==="	"||p===`
`||p==="\r"}function u(p,f){let E=f;for(;f<p.length;f++)if(!(p[f]!="?"&&p[f]!=" ")){let T=p.substr(E,f-E);if(f>5&&T==="xml")return P("InvalidXml","XML declaration allowed only at the start of the document.",z(p,f));if(p[f]=="?"&&p[f+1]==">"){f++;break}}return f}function m(p,f){if(p.length>f+5&&p[f+1]==="-"&&p[f+2]==="-"){for(f+=3;f<p.length;f++)if(p[f]==="-"&&p[f+1]==="-"&&p[f+2]===">"){f+=2;break}}else if(p.length>f+8&&p[f+1]==="D"&&p[f+2]==="O"&&p[f+3]==="C"&&p[f+4]==="T"&&p[f+5]==="Y"&&p[f+6]==="P"&&p[f+7]==="E"){let E=1;for(f+=8;f<p.length;f++)if(p[f]==="<")E++;else if(p[f]===">"&&(E--,E===0))break}else if(p.length>f+9&&p[f+1]==="["&&p[f+2]==="C"&&p[f+3]==="D"&&p[f+4]==="A"&&p[f+5]==="T"&&p[f+6]==="A"&&p[f+7]==="["){for(f+=8;f<p.length;f++)if(p[f]==="]"&&p[f+1]==="]"&&p[f+2]===">"){f+=2;break}}return f}let h='"',y="'";function g(p,f){let E="",T="",b=!1;for(;f<p.length;f++){if(p[f]===h||p[f]===y)T===""?T=p[f]:T!==p[f]||(T="");else if(p[f]===">"&&T===""){b=!0;break}E+=p[f]}return T===""&&{value:E,index:f,tagClosed:b}}let S=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function x(p,f){let E=o(p,S),T={};for(let b=0;b<E.length;b++){if(E[b][1].length===0)return P("InvalidAttr","Attribute '"+E[b][2]+"' has no space in starting.",W(E[b]));if(E[b][3]!==void 0&&E[b][4]===void 0)return P("InvalidAttr","Attribute '"+E[b][2]+"' is without value.",W(E[b]));if(E[b][3]===void 0&&!f.allowBooleanAttributes)return P("InvalidAttr","boolean attribute '"+E[b][2]+"' is not allowed.",W(E[b]));let _=E[b][2];if(!O(_))return P("InvalidAttr","Attribute '"+_+"' is an invalid name.",W(E[b]));if(T.hasOwnProperty(_))return P("InvalidAttr","Attribute '"+_+"' is repeated.",W(E[b]));T[_]=1}return!0}function R(p,f){if(p[++f]===";")return-1;if(p[f]==="#")return(function(T,b){let _=/\d/;for(T[b]==="x"&&(b++,_=/[\da-fA-F]/);b<T.length;b++){if(T[b]===";")return b;if(!T[b].match(_))break}return-1})(p,++f);let E=0;for(;f<p.length;f++,E++)if(!(p[f].match(/\w/)&&E<20)){if(p[f]===";")break;return-1}return f}function P(p,f,E){return{err:{code:p,msg:f,line:E.line||E,col:E.col}}}function O(p){return s(p)}function z(p,f){let E=p.substring(0,f).split(/\r?\n/);return{line:E.length,col:E[E.length-1].length+1}}function W(p){return p.startIndex+p[1].length}let Z={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(p,f){return f},attributeValueProcessor:function(p,f){return f},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(p,f,E){return p},captureMetaData:!1},we;we=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Le{constructor(f){this.tagname=f,this.child=[],this[":@"]={}}add(f,E){f==="__proto__"&&(f="#__proto__"),this.child.push({[f]:E})}addChild(f,E){f.tagname==="__proto__"&&(f.tagname="#__proto__"),f[":@"]&&Object.keys(f[":@"]).length>0?this.child.push({[f.tagname]:f.child,":@":f[":@"]}):this.child.push({[f.tagname]:f.child}),E!==void 0&&(this.child[this.child.length-1][we]={startIndex:E})}static getMetaDataSymbol(){return we}}function ne(p,f){let E={};if(p[f+3]!=="O"||p[f+4]!=="C"||p[f+5]!=="T"||p[f+6]!=="Y"||p[f+7]!=="P"||p[f+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{f+=9;let T=1,b=!1,_=!1,D="";for(;f<p.length;f++)if(p[f]!=="<"||_)if(p[f]===">"){if(_?p[f-1]==="-"&&p[f-2]==="-"&&(_=!1,T--):T--,T===0)break}else p[f]==="["?b=!0:D+=p[f];else{if(b&&qn(p,"!ENTITY",f)){let C,N;f+=7,[C,N,f]=be(p,f+1),N.indexOf("&")===-1&&(E[C]={regx:RegExp(`&${C};`,"g"),val:N})}else if(b&&qn(p,"!ELEMENT",f)){f+=8;let{index:C}=mL(p,f+1);f=C}else if(b&&qn(p,"!ATTLIST",f))f+=8;else if(b&&qn(p,"!NOTATION",f)){f+=9;let{index:C}=Me(p,f+1);f=C}else{if(!qn(p,"!--",f))throw new Error("Invalid DOCTYPE");_=!0}T++,D=""}if(T!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:f}}let ue=(p,f)=>{for(;f<p.length&&/\s/.test(p[f]);)f++;return f};function be(p,f){f=ue(p,f);let E="";for(;f<p.length&&!/\s/.test(p[f])&&p[f]!=='"'&&p[f]!=="'";)E+=p[f],f++;if(Lp(E),f=ue(p,f),p.substring(f,f+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(p[f]==="%")throw new Error("Parameter entities are not supported");let T="";return[f,T]=So(p,f,"entity"),[E,T,--f]}function Me(p,f){f=ue(p,f);let E="";for(;f<p.length&&!/\s/.test(p[f]);)E+=p[f],f++;Lp(E),f=ue(p,f);let T=p.substring(f,f+6).toUpperCase();if(T!=="SYSTEM"&&T!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${T}"`);f+=T.length,f=ue(p,f);let b=null,_=null;if(T==="PUBLIC")[f,b]=So(p,f,"publicIdentifier"),p[f=ue(p,f)]!=='"'&&p[f]!=="'"||([f,_]=So(p,f,"systemIdentifier"));else if(T==="SYSTEM"&&([f,_]=So(p,f,"systemIdentifier"),!_))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:E,publicIdentifier:b,systemIdentifier:_,index:--f}}function So(p,f,E){let T="",b=p[f];if(b!=='"'&&b!=="'")throw new Error(`Expected quoted string, found "${b}"`);for(f++;f<p.length&&p[f]!==b;)T+=p[f],f++;if(p[f]!==b)throw new Error(`Unterminated ${E} value`);return[++f,T]}function mL(p,f){f=ue(p,f);let E="";for(;f<p.length&&!/\s/.test(p[f]);)E+=p[f],f++;if(!Lp(E))throw new Error(`Invalid element name: "${E}"`);let T="";if(p[f=ue(p,f)]==="E"&&qn(p,"MPTY",f))f+=4;else if(p[f]==="A"&&qn(p,"NY",f))f+=2;else{if(p[f]!=="(")throw new Error(`Invalid Element Expression, found "${p[f]}"`);for(f++;f<p.length&&p[f]!==")";)T+=p[f],f++;if(p[f]!==")")throw new Error("Unterminated content model")}return{elementName:E,contentModel:T.trim(),index:f}}function qn(p,f,E){for(let T=0;T<f.length;T++)if(f[T]!==p[E+T+1])return!1;return!0}function Lp(p){if(s(p))return p;throw new Error(`Invalid entity name ${p}`)}let hL=/^[-+]?0x[a-fA-F0-9]+$/,gL=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,yL={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},EL=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function $E(p){return typeof p=="function"?p:Array.isArray(p)?f=>{for(let E of p)if(typeof E=="string"&&f===E||E instanceof RegExp&&E.test(f))return!0}:()=>!1}class SL{constructor(f){this.options=f,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(E,T)=>String.fromCodePoint(Number.parseInt(T,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(E,T)=>String.fromCodePoint(Number.parseInt(T,16))}},this.addExternalEntities=bL,this.parseXml=AL,this.parseTextData=_L,this.resolveNameSpace=TL,this.buildAttributesMap=IL,this.isItStopNode=RL,this.replaceEntitiesValue=CL,this.readStopNodeData=PL,this.saveTextToParentTag=vL,this.addChild=xL,this.ignoreAttributesFn=$E(this.options.ignoreAttributes)}}function bL(p){let f=Object.keys(p);for(let E=0;E<f.length;E++){let T=f[E];this.lastEntities[T]={regex:new RegExp("&"+T+";","g"),val:p[T]}}}function _L(p,f,E,T,b,_,D){if(p!==void 0&&(this.options.trimValues&&!T&&(p=p.trim()),p.length>0)){D||(p=this.replaceEntitiesValue(p));let C=this.options.tagValueProcessor(f,p,E,b,_);return C==null?p:typeof C!=typeof p||C!==p?C:this.options.trimValues||p.trim()===p?GE(p,this.options.parseTagValue,this.options.numberParseOptions):p}}function TL(p){if(this.options.removeNSPrefix){let f=p.split(":"),E=p.charAt(0)==="/"?"/":"";if(f[0]==="xmlns")return"";f.length===2&&(p=E+f[1])}return p}let wL=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function IL(p,f,E){if(this.options.ignoreAttributes!==!0&&typeof p=="string"){let T=o(p,wL),b=T.length,_={};for(let D=0;D<b;D++){let C=this.resolveNameSpace(T[D][1]);if(this.ignoreAttributesFn(C,f))continue;let N=T[D][4],M=this.options.attributeNamePrefix+C;if(C.length)if(this.options.transformAttributeName&&(M=this.options.transformAttributeName(M)),M==="__proto__"&&(M="#__proto__"),N!==void 0){this.options.trimValues&&(N=N.trim()),N=this.replaceEntitiesValue(N);let X=this.options.attributeValueProcessor(C,N,f);_[M]=X==null?N:typeof X!=typeof N||X!==N?X:GE(N,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(_[M]=!0)}if(!Object.keys(_).length)return;if(this.options.attributesGroupName){let D={};return D[this.options.attributesGroupName]=_,D}return _}}let AL=function(p){p=p.replace(/\r\n?/g,`
`);let f=new Le("!xml"),E=f,T="",b="";for(let _=0;_<p.length;_++)if(p[_]==="<")if(p[_+1]==="/"){let D=Hn(p,">",_,"Closing Tag is not closed."),C=p.substring(_+2,D).trim();if(this.options.removeNSPrefix){let X=C.indexOf(":");X!==-1&&(C=C.substr(X+1))}this.options.transformTagName&&(C=this.options.transformTagName(C)),E&&(T=this.saveTextToParentTag(T,E,b));let N=b.substring(b.lastIndexOf(".")+1);if(C&&this.options.unpairedTags.indexOf(C)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${C}>`);let M=0;N&&this.options.unpairedTags.indexOf(N)!==-1?(M=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):M=b.lastIndexOf("."),b=b.substring(0,M),E=this.tagsNodeStack.pop(),T="",_=D}else if(p[_+1]==="?"){let D=Mp(p,_,!1,"?>");if(!D)throw new Error("Pi Tag is not closed.");if(T=this.saveTextToParentTag(T,E,b),!(this.options.ignoreDeclaration&&D.tagName==="?xml"||this.options.ignorePiTags)){let C=new Le(D.tagName);C.add(this.options.textNodeName,""),D.tagName!==D.tagExp&&D.attrExpPresent&&(C[":@"]=this.buildAttributesMap(D.tagExp,b,D.tagName)),this.addChild(E,C,b,_)}_=D.closeIndex+1}else if(p.substr(_+1,3)==="!--"){let D=Hn(p,"-->",_+4,"Comment is not closed.");if(this.options.commentPropName){let C=p.substring(_+4,D-2);T=this.saveTextToParentTag(T,E,b),E.add(this.options.commentPropName,[{[this.options.textNodeName]:C}])}_=D}else if(p.substr(_+1,2)==="!D"){let D=ne(p,_);this.docTypeEntities=D.entities,_=D.i}else if(p.substr(_+1,2)==="!["){let D=Hn(p,"]]>",_,"CDATA is not closed.")-2,C=p.substring(_+9,D);T=this.saveTextToParentTag(T,E,b);let N=this.parseTextData(C,E.tagname,b,!0,!1,!0,!0);N==null&&(N=""),this.options.cdataPropName?E.add(this.options.cdataPropName,[{[this.options.textNodeName]:C}]):E.add(this.options.textNodeName,N),_=D+2}else{let D=Mp(p,_,this.options.removeNSPrefix),C=D.tagName,N=D.rawTagName,M=D.tagExp,X=D.attrExpPresent,H=D.closeIndex;this.options.transformTagName&&(C=this.options.transformTagName(C)),E&&T&&E.tagname!=="!xml"&&(T=this.saveTextToParentTag(T,E,b,!1));let de=E;de&&this.options.unpairedTags.indexOf(de.tagname)!==-1&&(E=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),C!==f.tagname&&(b+=b?"."+C:C);let ye=_;if(this.isItStopNode(this.options.stopNodes,b,C)){let fe="";if(M.length>0&&M.lastIndexOf("/")===M.length-1)C[C.length-1]==="/"?(C=C.substr(0,C.length-1),b=b.substr(0,b.length-1),M=C):M=M.substr(0,M.length-1),_=D.closeIndex;else if(this.options.unpairedTags.indexOf(C)!==-1)_=D.closeIndex;else{let Xt=this.readStopNodeData(p,N,H+1);if(!Xt)throw new Error(`Unexpected end of ${N}`);_=Xt.i,fe=Xt.tagContent}let $e=new Le(C);C!==M&&X&&($e[":@"]=this.buildAttributesMap(M,b,C)),fe&&(fe=this.parseTextData(fe,C,b,!0,X,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),$e.add(this.options.textNodeName,fe),this.addChild(E,$e,b,ye)}else{if(M.length>0&&M.lastIndexOf("/")===M.length-1){C[C.length-1]==="/"?(C=C.substr(0,C.length-1),b=b.substr(0,b.length-1),M=C):M=M.substr(0,M.length-1),this.options.transformTagName&&(C=this.options.transformTagName(C));let fe=new Le(C);C!==M&&X&&(fe[":@"]=this.buildAttributesMap(M,b,C)),this.addChild(E,fe,b,ye),b=b.substr(0,b.lastIndexOf("."))}else{let fe=new Le(C);this.tagsNodeStack.push(E),C!==M&&X&&(fe[":@"]=this.buildAttributesMap(M,b,C)),this.addChild(E,fe,b,ye),E=fe}T="",_=H}}else T+=p[_];return f.child};function xL(p,f,E,T){this.options.captureMetaData||(T=void 0);let b=this.options.updateTag(f.tagname,E,f[":@"]);b===!1||(typeof b=="string"&&(f.tagname=b),p.addChild(f,T))}let CL=function(p){if(this.options.processEntities){for(let f in this.docTypeEntities){let E=this.docTypeEntities[f];p=p.replace(E.regx,E.val)}for(let f in this.lastEntities){let E=this.lastEntities[f];p=p.replace(E.regex,E.val)}if(this.options.htmlEntities)for(let f in this.htmlEntities){let E=this.htmlEntities[f];p=p.replace(E.regex,E.val)}p=p.replace(this.ampEntity.regex,this.ampEntity.val)}return p};function vL(p,f,E,T){return p&&(T===void 0&&(T=f.child.length===0),(p=this.parseTextData(p,f.tagname,E,!1,!!f[":@"]&&Object.keys(f[":@"]).length!==0,T))!==void 0&&p!==""&&f.add(this.options.textNodeName,p),p=""),p}function RL(p,f,E){let T="*."+E;for(let b in p){let _=p[b];if(T===_||f===_)return!0}return!1}function Hn(p,f,E,T){let b=p.indexOf(f,E);if(b===-1)throw new Error(T);return b+f.length-1}function Mp(p,f,E,T=">"){let b=(function(H,de,ye=">"){let fe,$e="";for(let Xt=de;Xt<H.length;Xt++){let Jr=H[Xt];if(fe)Jr===fe&&(fe="");else if(Jr==='"'||Jr==="'")fe=Jr;else if(Jr===ye[0]){if(!ye[1])return{data:$e,index:Xt};if(H[Xt+1]===ye[1])return{data:$e,index:Xt}}else Jr==="	"&&(Jr=" ");$e+=Jr}})(p,f+1,T);if(!b)return;let _=b.data,D=b.index,C=_.search(/\s/),N=_,M=!0;C!==-1&&(N=_.substring(0,C),_=_.substring(C+1).trimStart());let X=N;if(E){let H=N.indexOf(":");H!==-1&&(N=N.substr(H+1),M=N!==b.data.substr(H+1))}return{tagName:N,tagExp:_,closeIndex:D,attrExpPresent:M,rawTagName:X}}function PL(p,f,E){let T=E,b=1;for(;E<p.length;E++)if(p[E]==="<")if(p[E+1]==="/"){let _=Hn(p,">",E,`${f} is not closed`);if(p.substring(E+2,_).trim()===f&&(b--,b===0))return{tagContent:p.substring(T,E),i:_};E=_}else if(p[E+1]==="?")E=Hn(p,"?>",E+1,"StopNode is not closed.");else if(p.substr(E+1,3)==="!--")E=Hn(p,"-->",E+3,"StopNode is not closed.");else if(p.substr(E+1,2)==="![")E=Hn(p,"]]>",E,"StopNode is not closed.")-2;else{let _=Mp(p,E,">");_&&((_&&_.tagName)===f&&_.tagExp[_.tagExp.length-1]!=="/"&&b++,E=_.closeIndex)}}function GE(p,f,E){if(f&&typeof p=="string"){let T=p.trim();return T==="true"||T!=="false"&&(function(b,_={}){if(_=Object.assign({},yL,_),!b||typeof b!="string")return b;let D=b.trim();if(_.skipLike!==void 0&&_.skipLike.test(D))return b;if(b==="0")return 0;if(_.hex&&hL.test(D))return(function(N){if(parseInt)return parseInt(N,16);if(Number.parseInt)return Number.parseInt(N,16);if(window&&window.parseInt)return window.parseInt(N,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(D);if(D.search(/.+[eE].+/)!==-1)return(function(N,M,X){if(!X.eNotation)return N;let H=M.match(EL);if(H){let de=H[1]||"",ye=H[3].indexOf("e")===-1?"E":"e",fe=H[2],$e=de?N[fe.length+1]===ye:N[fe.length]===ye;return fe.length>1&&$e?N:fe.length!==1||!H[3].startsWith(`.${ye}`)&&H[3][0]!==ye?X.leadingZeros&&!$e?(M=(H[1]||"")+H[3],Number(M)):N:Number(M)}return N})(b,D,_);{let N=gL.exec(D);if(N){let M=N[1]||"",X=N[2],H=((C=N[3])&&C.indexOf(".")!==-1&&((C=C.replace(/0+$/,""))==="."?C="0":C[0]==="."?C="0"+C:C[C.length-1]==="."&&(C=C.substring(0,C.length-1))),C),de=M?b[X.length+1]===".":b[X.length]===".";if(!_.leadingZeros&&(X.length>1||X.length===1&&!de))return b;{let ye=Number(D),fe=String(ye);if(ye===0||ye===-0)return ye;if(fe.search(/[eE]/)!==-1)return _.eNotation?ye:b;if(D.indexOf(".")!==-1)return fe==="0"||fe===H||fe===`${M}${H}`?ye:b;let $e=X?H:D;return X?$e===fe||M+$e===fe?ye:b:$e===fe||$e===M+fe?ye:b}}return b}var C})(p,E)}return p!==void 0?p:""}let kp=Le.getMetaDataSymbol();function DL(p,f){return jE(p,f)}function jE(p,f,E){let T,b={};for(let _=0;_<p.length;_++){let D=p[_],C=NL(D),N="";if(N=E===void 0?C:E+"."+C,C===f.textNodeName)T===void 0?T=D[C]:T+=""+D[C];else{if(C===void 0)continue;if(D[C]){let M=jE(D[C],f,N),X=LL(M,f);D[kp]!==void 0&&(M[kp]=D[kp]),D[":@"]?OL(M,D[":@"],N,f):Object.keys(M).length!==1||M[f.textNodeName]===void 0||f.alwaysCreateTextNode?Object.keys(M).length===0&&(f.alwaysCreateTextNode?M[f.textNodeName]="":M=""):M=M[f.textNodeName],b[C]!==void 0&&b.hasOwnProperty(C)?(Array.isArray(b[C])||(b[C]=[b[C]]),b[C].push(M)):f.isArray(C,N,X)?b[C]=[M]:b[C]=M}}}return typeof T=="string"?T.length>0&&(b[f.textNodeName]=T):T!==void 0&&(b[f.textNodeName]=T),b}function NL(p){let f=Object.keys(p);for(let E=0;E<f.length;E++){let T=f[E];if(T!==":@")return T}}function OL(p,f,E,T){if(f){let b=Object.keys(f),_=b.length;for(let D=0;D<_;D++){let C=b[D];T.isArray(C,E+"."+C,!0,!0)?p[C]=[f[C]]:p[C]=f[C]}}}function LL(p,f){let{textNodeName:E}=f,T=Object.keys(p).length;return T===0||!(T!==1||!p[E]&&typeof p[E]!="boolean"&&p[E]!==0)}class ML{constructor(f){this.externalEntities={},this.options=(function(E){return Object.assign({},Z,E)})(f)}parse(f,E){if(typeof f!="string"){if(!f.toString)throw new Error("XML data is accepted in String or Bytes[] form.");f=f.toString()}if(E){E===!0&&(E={});let _=a(f,E);if(_!==!0)throw Error(`${_.err.msg}:${_.err.line}:${_.err.col}`)}let T=new SL(this.options);T.addExternalEntities(this.externalEntities);let b=T.parseXml(f);return this.options.preserveOrder||b===void 0?b:DL(b,this.options)}addEntity(f,E){if(E.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(f.indexOf("&")!==-1||f.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(E==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[f]=E}static getMetaDataSymbol(){return Le.getMetaDataSymbol()}}function kL(p,f){let E="";return f.format&&f.indentBy.length>0&&(E=`
`),qE(p,f,"",E)}function qE(p,f,E,T){let b="",_=!1;for(let D=0;D<p.length;D++){let C=p[D],N=UL(C);if(N===void 0)continue;let M="";if(M=E.length===0?N:`${E}.${N}`,N===f.textNodeName){let ye=C[N];BL(M,f)||(ye=f.tagValueProcessor(N,ye),ye=zE(ye,f)),_&&(b+=T),b+=ye,_=!1;continue}if(N===f.cdataPropName){_&&(b+=T),b+=`<![CDATA[${C[N][0][f.textNodeName]}]]>`,_=!1;continue}if(N===f.commentPropName){b+=T+`<!--${C[N][0][f.textNodeName]}-->`,_=!0;continue}if(N[0]==="?"){let ye=HE(C[":@"],f),fe=N==="?xml"?"":T,$e=C[N][0][f.textNodeName];$e=$e.length!==0?" "+$e:"",b+=fe+`<${N}${$e}${ye}?>`,_=!0;continue}let X=T;X!==""&&(X+=f.indentBy);let H=T+`<${N}${HE(C[":@"],f)}`,de=qE(C[N],f,M,X);f.unpairedTags.indexOf(N)!==-1?f.suppressUnpairedNode?b+=H+">":b+=H+"/>":de&&de.length!==0||!f.suppressEmptyNode?de&&de.endsWith(">")?b+=H+`>${de}${T}</${N}>`:(b+=H+">",de&&T!==""&&(de.includes("/>")||de.includes("</"))?b+=T+f.indentBy+de+T:b+=de,b+=`</${N}>`):b+=H+"/>",_=!0}return b}function UL(p){let f=Object.keys(p);for(let E=0;E<f.length;E++){let T=f[E];if(p.hasOwnProperty(T)&&T!==":@")return T}}function HE(p,f){let E="";if(p&&!f.ignoreAttributes)for(let T in p){if(!p.hasOwnProperty(T))continue;let b=f.attributeValueProcessor(T,p[T]);b=zE(b,f),b===!0&&f.suppressBooleanAttributes?E+=` ${T.substr(f.attributeNamePrefix.length)}`:E+=` ${T.substr(f.attributeNamePrefix.length)}="${b}"`}return E}function BL(p,f){let E=(p=p.substr(0,p.length-f.textNodeName.length-1)).substr(p.lastIndexOf(".")+1);for(let T in f.stopNodes)if(f.stopNodes[T]===p||f.stopNodes[T]==="*."+E)return!0;return!1}function zE(p,f){if(p&&p.length>0&&f.processEntities)for(let E=0;E<f.entities.length;E++){let T=f.entities[E];p=p.replace(T.regex,T.val)}return p}let FL={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(p,f){return f},attributeValueProcessor:function(p,f){return f},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Qr(p){this.options=Object.assign({},FL,p),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=$E(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=jL),this.processTextOrObjNode=$L,this.options.format?(this.indentate=GL,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function $L(p,f,E,T){let b=this.j2x(p,E+1,T.concat(f));return p[this.options.textNodeName]!==void 0&&Object.keys(p).length===1?this.buildTextValNode(p[this.options.textNodeName],f,b.attrStr,E):this.buildObjectNode(b.val,f,b.attrStr,E)}function GL(p){return this.options.indentBy.repeat(p)}function jL(p){return!(!p.startsWith(this.options.attributeNamePrefix)||p===this.options.textNodeName)&&p.substr(this.attrPrefixLen)}Qr.prototype.build=function(p){return this.options.preserveOrder?kL(p,this.options):(Array.isArray(p)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(p={[this.options.arrayNodeName]:p}),this.j2x(p,0,[]).val)},Qr.prototype.j2x=function(p,f,E){let T="",b="",_=E.join(".");for(let D in p)if(Object.prototype.hasOwnProperty.call(p,D))if(p[D]===void 0)this.isAttribute(D)&&(b+="");else if(p[D]===null)this.isAttribute(D)||D===this.options.cdataPropName?b+="":D[0]==="?"?b+=this.indentate(f)+"<"+D+"?"+this.tagEndChar:b+=this.indentate(f)+"<"+D+"/"+this.tagEndChar;else if(p[D]instanceof Date)b+=this.buildTextValNode(p[D],D,"",f);else if(typeof p[D]!="object"){let C=this.isAttribute(D);if(C&&!this.ignoreAttributesFn(C,_))T+=this.buildAttrPairStr(C,""+p[D]);else if(!C)if(D===this.options.textNodeName){let N=this.options.tagValueProcessor(D,""+p[D]);b+=this.replaceEntitiesValue(N)}else b+=this.buildTextValNode(p[D],D,"",f)}else if(Array.isArray(p[D])){let C=p[D].length,N="",M="";for(let X=0;X<C;X++){let H=p[D][X];if(H!==void 0)if(H===null)D[0]==="?"?b+=this.indentate(f)+"<"+D+"?"+this.tagEndChar:b+=this.indentate(f)+"<"+D+"/"+this.tagEndChar;else if(typeof H=="object")if(this.options.oneListGroup){let de=this.j2x(H,f+1,E.concat(D));N+=de.val,this.options.attributesGroupName&&H.hasOwnProperty(this.options.attributesGroupName)&&(M+=de.attrStr)}else N+=this.processTextOrObjNode(H,D,f,E);else if(this.options.oneListGroup){let de=this.options.tagValueProcessor(D,H);de=this.replaceEntitiesValue(de),N+=de}else N+=this.buildTextValNode(H,D,"",f)}this.options.oneListGroup&&(N=this.buildObjectNode(N,D,M,f)),b+=N}else if(this.options.attributesGroupName&&D===this.options.attributesGroupName){let C=Object.keys(p[D]),N=C.length;for(let M=0;M<N;M++)T+=this.buildAttrPairStr(C[M],""+p[D][C[M]])}else b+=this.processTextOrObjNode(p[D],D,f,E);return{attrStr:T,val:b}},Qr.prototype.buildAttrPairStr=function(p,f){return f=this.options.attributeValueProcessor(p,""+f),f=this.replaceEntitiesValue(f),this.options.suppressBooleanAttributes&&f==="true"?" "+p:" "+p+'="'+f+'"'},Qr.prototype.buildObjectNode=function(p,f,E,T){if(p==="")return f[0]==="?"?this.indentate(T)+"<"+f+E+"?"+this.tagEndChar:this.indentate(T)+"<"+f+E+this.closeTag(f)+this.tagEndChar;{let b="</"+f+this.tagEndChar,_="";return f[0]==="?"&&(_="?",b=""),!E&&E!==""||p.indexOf("<")!==-1?this.options.commentPropName!==!1&&f===this.options.commentPropName&&_.length===0?this.indentate(T)+`<!--${p}-->`+this.newLine:this.indentate(T)+"<"+f+E+_+this.tagEndChar+p+this.indentate(T)+b:this.indentate(T)+"<"+f+E+_+">"+p+b}},Qr.prototype.closeTag=function(p){let f="";return this.options.unpairedTags.indexOf(p)!==-1?this.options.suppressUnpairedNode||(f="/"):f=this.options.suppressEmptyNode?"/":`></${p}`,f},Qr.prototype.buildTextValNode=function(p,f,E,T){if(this.options.cdataPropName!==!1&&f===this.options.cdataPropName)return this.indentate(T)+`<![CDATA[${p}]]>`+this.newLine;if(this.options.commentPropName!==!1&&f===this.options.commentPropName)return this.indentate(T)+`<!--${p}-->`+this.newLine;if(f[0]==="?")return this.indentate(T)+"<"+f+E+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(f,p);return b=this.replaceEntitiesValue(b),b===""?this.indentate(T)+"<"+f+E+this.closeTag(f)+this.tagEndChar:this.indentate(T)+"<"+f+E+">"+b+"</"+f+this.tagEndChar}},Qr.prototype.replaceEntitiesValue=function(p){if(p&&p.length>0&&this.options.processEntities)for(let f=0;f<this.options.entities.length;f++){let E=this.options.entities[f];p=p.replace(E.regex,E.val)}return p};let qL={validate:a};rA.exports=t})()});var oA=v(Dh=>{"use strict";c();Object.defineProperty(Dh,"__esModule",{value:!0});Dh.parseXML=S$;var E$=nA(),Ph=new E$.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Ph.addEntity("#xD","\r");Ph.addEntity("#10",`
`);function S$(e){return Ph.parse(e,!0)}});var El=v(yl=>{"use strict";c();var b$=oA();function _$(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function T$(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var gl=class{value;constructor(t){this.value=t}toString(){return T$(""+this.value)}},Nh=class e{name;children;attributes={};static of(t,r,n){let o=new e(t);return r!==void 0&&o.addChildNode(new gl(r)),n!==void 0&&o.withName(n),o}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=e.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new e(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${_$(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(yl,"parseXML",{enumerable:!0,get:function(){return b$.parseXML}});yl.XmlNode=Nh;yl.XmlText=gl});var sA,iA,aA,Sn,Sl=w(()=>{c();sA=A(El());gt();ve();iA=A(te()),aA=A(Ce());mn();Sn=class extends et{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Qn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=j.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},m=Object.keys(s)[0];return s[m].isBlobSchema()?u[m]=r:u[m]=this.read(s[m],r),u}let a=(this.serdeContext?.utf8Encoder??aA.toUtf8)(r),l=this.parseXml(a);return this.readSchema(t,n?l[n]:l)}readSchema(t,r){let n=j.of(t);if(n.isUnitSchema())return;let o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),u=[],m=l.getMergedTraits().xmlName??"member",h=i?r:(r[0]??r)[m],y=Array.isArray(h)?h:[h];for(let g of y)(g!=null||s)&&u.push(this.readSchema(l,g));return u}let a={};if(n.isMapSchema()){let l=n.getKeySchema(),u=n.getValueSchema(),m;i?m=Array.isArray(r)?r:[r]:m=Array.isArray(r.entry)?r.entry:[r.entry];let h=l.getMergedTraits().xmlName??"key",y=u.getMergedTraits().xmlName??"value";for(let g of m){let S=g[h],x=g[y];(x!=null||s)&&(a[S]=this.readSchema(u,x))}return a}if(n.isStructSchema()){for(let[l,u]of n.structIterator()){let m=u.getMergedTraits(),h=m.httpPayload?m.xmlName??u.getName():u.getMemberTraits().xmlName??l;r[h]!=null&&(a[l]=this.readSchema(u,r[h]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,sA.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",o=Object.keys(r)[0],s=r[o];return s[n]&&(s[o]=s[n],delete s[n]),(0,iA.getValueFromTextNode)(s)}return{}}}});var cA,lA,bl,uA=w(()=>{c();gt();ve();ht();cA=A(te()),lA=A(mi());mn();bl=class extends et{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=j.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??lA.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,tr.v4)()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Re?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Tt(o,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,cA.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let l of r){if(l==null)continue;let u=this.getKey("member",s.getMergedTraits().xmlName),m=i?`${n}${a}`:`${n}${u}.${a}`;this.write(s,l,m),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,l=1;for(let[u,m]of Object.entries(r)){if(m==null)continue;let h=this.getKey("key",s.getMergedTraits().xmlName),y=a?`${n}${l}.${h}`:`${n}entry.${l}.${h}`,g=this.getKey("value",i.getMergedTraits().xmlName),S=a?`${n}${l}.${g}`:`${n}entry.${l}.${g}`;this.write(s,u,y),this.write(i,m,S),++l}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null&&!i.isIdempotencyToken())continue;let a=this.getKey(s,i.getMergedTraits().xmlName),l=`${n}${a}`;this.write(i,r[s],l)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Jt(t)}=`}writeValue(t){this.buffer+=Jt(t)}}});var Go,Oh=w(()=>{c();gt();ve();Bo();Sl();uA();Go=class extends xr{options;serializer;deserializer;mixin=new vt;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new bl(r),this.deserializer=new Sn(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Gt(t.input)==="unit"||!o.body)&&(o.body="");let s=t.name.split("#")[1]??t.name;return o.body=`Action=${s}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1)),o}async deserializeResponse(t,r,n){let o=this.deserializer,s=j.of(t.output),i={};if(n.statusCode>=300){let h=await $t(n.body,r);h.byteLength>0&&Object.assign(i,await o.read(15,h)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let h in n.headers){let y=n.headers[h];delete n.headers[h],n.headers[h.toLowerCase()]=y}let a=t.name.split("#")[1]??t.name,l=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await $t(n.body,r);return u.byteLength>0&&Object.assign(i,await o.read(s,u,l)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.loadQueryError(o),l=this.loadQueryErrorMessage(o);a.message=l,a.Error={Type:a.Type,Code:a.Code,Message:l};let{errorSchema:u,errorMetadata:m}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,s,(x,R)=>{try{return x.getSchema(R)}catch{return x.find(O=>j.of(O).getMergedTraits().awsQueryError?.[0]===R)}}),h=j.of(u),y=qe.for(u[1]).getErrorCtor(u)??Error,g=new y(l),S={Error:a.Error};for(let[x,R]of h.structIterator()){let P=R.getMergedTraits().xmlName??x,O=a[P]??o[P];S[x]=this.deserializer.readSchema(R,O)}throw Object.assign(g,m,{$fault:h.getMergedTraits().error,message:l},S)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var _l,dA=w(()=>{c();Oh();_l=class extends Go{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var pA,fA,jo,Tl,wl,Lh=w(()=>{c();pA=A(El()),fA=A(te());Ch();jo=(e,t)=>cl(e,t).then(r=>{if(r.length){let n;try{n=(0,pA.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,fA.getValueFromTextNode)(i)}return{}}),Tl=async(e,t)=>{let r=await jo(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},wl=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Rt,Mh,Il,qo,kh=w(()=>{c();Rt=A(El());gt();ve();ht();Mh=A(te()),Il=A(mi());mn();qo=class extends et{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=j.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Il.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Rt.XmlNode.of(s),[a,l]=this.getXmlnsAttribute(t,n);for(let[u,m]of t.structIterator()){let h=r[u];if(h!=null||m.isIdempotencyToken()){if(m.getMergedTraits().xmlAttribute){i.addAttribute(m.getMergedTraits().xmlName??u,this.writeSimple(m,h));continue}if(m.isListSchema())this.writeList(m,h,i,l);else if(m.isMapSchema())this.writeMap(m,h,i,l);else if(m.isStructSchema())i.addChildNode(this.writeStruct(m,h,l));else{let y=Rt.XmlNode.of(m.getMergedTraits().xmlName??m.getMemberName());this.writeSimpleInto(m,h,y,l),i.addChildNode(y)}}}return l&&i.addAttribute(a,l),i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),l=!!a.sparse,u=!!s.xmlFlattened,[m,h]=this.getXmlnsAttribute(t,o),y=(g,S)=>{if(i.isListSchema())this.writeList(i,Array.isArray(S)?S:[S],g,h);else if(i.isMapSchema())this.writeMap(i,S,g,h);else if(i.isStructSchema()){let x=this.writeStruct(i,S,h);g.addChildNode(x.withName(u?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let x=Rt.XmlNode.of(u?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,S,x,h),g.addChildNode(x)}};if(u)for(let g of r)(l||g!=null)&&y(n,g);else{let g=Rt.XmlNode.of(s.xmlName??t.getMemberName());h&&g.addAttribute(m,h);for(let S of r)(l||S!=null)&&y(g,S);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),u=a.getMergedTraits().xmlName??"key",m=t.getValueSchema(),h=m.getMergedTraits(),y=h.xmlName??"value",g=!!h.sparse,S=!!i.xmlFlattened,[x,R]=this.getXmlnsAttribute(t,o),P=(O,z,W)=>{let Z=Rt.XmlNode.of(u,z),[we,Le]=this.getXmlnsAttribute(a,R);Le&&Z.addAttribute(we,Le),O.addChildNode(Z);let ne=Rt.XmlNode.of(y);m.isListSchema()?this.writeList(m,W,ne,R):m.isMapSchema()?this.writeMap(m,W,ne,R,!0):m.isStructSchema()?ne=this.writeStruct(m,W,R):this.writeSimpleInto(m,W,ne,R),O.addChildNode(ne)};if(S){for(let[O,z]of Object.entries(r))if(g||z!=null){let W=Rt.XmlNode.of(i.xmlName??t.getMemberName());P(W,O,z),n.addChildNode(W)}}else{let O;s||(O=Rt.XmlNode.of(i.xmlName??t.getMemberName()),R&&O.addAttribute(x,R),n.addChildNode(O));for(let[z,W]of Object.entries(r))if(g||W!=null){let Z=Rt.XmlNode.of("entry");P(Z,z,W),(s?n:O).addChildNode(Z)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=j.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??Il.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Tt(n,this.settings)){case 5:o=r.toISOString().replace(".000Z","Z");break;case 6:o=(0,Mh.dateToUtcString)(r);break;case 7:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,Mh.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Re?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=(0,tr.v4)():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=j.of(t),a=new Rt.XmlText(s),[l,u]=this.getXmlnsAttribute(i,o);u&&n.addAttribute(l,u),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var Ho,Uh=w(()=>{c();mn();Sl();kh();Ho=class extends et{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new qo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Sn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Al,mA=w(()=>{c();gt();ve();Bo();Lh();Uh();Al=class extends Xn{codec;serializer;deserializer;mixin=new vt;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Ho(r),this.serializer=new Zn(this.codec.createSerializer(),r),this.deserializer=new Jn(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=j.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return o.headers["content-type"]===this.getDefaultContentType()&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=wl(n,o)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=j.of(a),m=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",h=qe.for(a[1]).getErrorCtor(a)??Error,y=new h(m);await this.deserializeHttpMessage(a,r,n,o);let g={};for(let[S,x]of u.structIterator()){let R=x.getMergedTraits().xmlName??S,P=o.Error?.[R]??o[R];g[S]=this.codec.createDeserializer().readSchema(x,P)}throw Object.assign(y,l,{$fault:u.getMergedTraits().error,message:m},g)}getDefaultContentType(){return"application/xml"}}});var hA={};mt(hA,{AwsEc2QueryProtocol:()=>_l,AwsJson1_0Protocol:()=>fl,AwsJson1_1Protocol:()=>ml,AwsJsonRpcProtocol:()=>En,AwsQueryProtocol:()=>Go,AwsRestJsonProtocol:()=>hl,AwsRestXmlProtocol:()=>Al,AwsSmithyRpcV2CborProtocol:()=>ol,JsonCodec:()=>yn,JsonShapeDeserializer:()=>Fo,JsonShapeSerializer:()=>$o,XmlCodec:()=>Ho,XmlShapeDeserializer:()=>Sn,XmlShapeSerializer:()=>qo,_toBool:()=>TI,_toNum:()=>wI,_toStr:()=>_I,awsExpectUnion:()=>eA,loadRestJsonErrorCode:()=>gn,loadRestXmlErrorCode:()=>wl,parseJsonBody:()=>co,parseJsonErrorBody:()=>ll,parseXmlBody:()=>jo,parseXmlErrorBody:()=>Tl});var Bh=w(()=>{c();bI();II();XI();QI();pl();JI();dl();vh();Rh();tA();hi();dA();Oh();mA();Uh();Sl();kh();Lh()});var nr={};mt(nr,{AWSSDKSigV4Signer:()=>Mm,AwsEc2QueryProtocol:()=>_l,AwsJson1_0Protocol:()=>fl,AwsJson1_1Protocol:()=>ml,AwsJsonRpcProtocol:()=>En,AwsQueryProtocol:()=>Go,AwsRestJsonProtocol:()=>hl,AwsRestXmlProtocol:()=>Al,AwsSdkSigV4ASigner:()=>ci,AwsSdkSigV4Signer:()=>yt,AwsSmithyRpcV2CborProtocol:()=>ol,JsonCodec:()=>yn,JsonShapeDeserializer:()=>Fo,JsonShapeSerializer:()=>$o,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Lo,NODE_SIGV4A_CONFIG_OPTIONS:()=>Pw,XmlCodec:()=>Ho,XmlShapeDeserializer:()=>Sn,XmlShapeSerializer:()=>qo,_toBool:()=>TI,_toNum:()=>wI,_toStr:()=>_I,awsExpectUnion:()=>eA,emitWarningIfUnsupportedVersion:()=>Do,getBearerTokenEnvKey:()=>Gc,loadRestJsonErrorCode:()=>gn,loadRestXmlErrorCode:()=>wl,parseJsonBody:()=>co,parseJsonErrorBody:()=>ll,parseXmlBody:()=>jo,parseXmlErrorBody:()=>Tl,resolveAWSSDKSigV4Config:()=>rI,resolveAwsSdkSigV4AConfig:()=>Rw,resolveAwsSdkSigV4Config:()=>io,setCredentialFeature:()=>an,setFeature:()=>fw,setTokenFeature:()=>hw,state:()=>$c,validateSigningProperties:()=>Oo});var We=w(()=>{c();qt();eh();Bh()});var Vo=v(zo=>{"use strict";c();var w$=(lt(),ae(to)),I$=Po(),A$=_e(),or=(We(),ae(nr)),SA=void 0;function x$(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function C$(e){let t=w$.normalizeProvider(e.userAgentAppId??SA),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!x$(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var v$=/\d{12}\.ddb/;async function R$(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&or.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?or.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):or.setFeature(e,"RETRY_MODE_STANDARD","E"):or.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(v$)&&or.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":or.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":or.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":or.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&or.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))or.setFeature(e,i,a)}}var gA="user-agent",Fh="x-amz-user-agent",yA=" ",$h="/",P$=/[^!$%&'*+\-.^_`|~\w]/g,D$=/[^!$%&'*+\-.^_`|~\w#]/g,EA="-",N$=1024;function O$(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=N$){t.length?t+=","+n:t+=n;continue}break}return t}var bA=e=>(t,r)=>async n=>{let{request:o}=n;if(!A$.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(xl)||[],a=(await e.defaultUserAgentProvider()).map(xl);await R$(r,e,n);let l=r;a.push(`m/${O$(Object.assign({},r.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(xl)||[],m=await e.userAgentAppId();m&&a.push(xl(["app",`${m}`]));let h=I$.getUserAgentPrefix(),y=(h?[h]:[]).concat([...a,...i,...u]).join(yA),g=[...a.filter(S=>S.startsWith("aws-sdk-")),...u].join(yA);return e.runtime!=="browser"?(g&&(s[Fh]=s[Fh]?`${s[gA]} ${g}`:g),s[gA]=y):s[Fh]=y,t({...n,request:o})},xl=e=>{let t=e[0].split($h).map(i=>i.replace(P$,EA)).join($h),r=e[1]?.replace(D$,EA),n=t.indexOf($h),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,l)=>{switch(l){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},_A={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},L$=e=>({applyToStack:t=>{t.add(bA(e),_A)}});zo.DEFAULT_UA_APP_ID=SA;zo.getUserAgentMiddlewareOptions=_A;zo.getUserAgentPlugin=L$;zo.resolveUserAgentConfig=C$;zo.userAgentMiddleware=bA});var TA=v(Wo=>{"use strict";c();var M$=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},k$=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};Wo.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Wo.SelectorType||(Wo.SelectorType={}));Wo.booleanSelector=M$;Wo.numberSelector=k$});var Pt=v(Ye=>{"use strict";c();var bn=TA(),Cl=st(),U$=no(),AA="AWS_USE_DUALSTACK_ENDPOINT",xA="use_dualstack_endpoint",B$=!1,F$={environmentVariableSelector:e=>bn.booleanSelector(e,AA,bn.SelectorType.ENV),configFileSelector:e=>bn.booleanSelector(e,xA,bn.SelectorType.CONFIG),default:!1},CA="AWS_USE_FIPS_ENDPOINT",vA="use_fips_endpoint",$$=!1,G$={environmentVariableSelector:e=>bn.booleanSelector(e,CA,bn.SelectorType.ENV),configFileSelector:e=>bn.booleanSelector(e,vA,bn.SelectorType.CONFIG),default:!1},j$=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:Cl.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:Cl.normalizeProvider(o??!1)})},q$=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},H$=e=>{let t=Cl.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?Cl.normalizeProvider(typeof r=="string"?o(r):r):()=>q$({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},RA="AWS_REGION",PA="region",z$={environmentVariableSelector:e=>e[RA],configFileSelector:e=>e[PA],default:()=>{throw new Error("Region is missing")}},V$={preferredFile:"credentials"},wA=new Set,W$=(e,t=U$.isValidHostLabel)=>{if(!wA.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else wA.add(e)},DA=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),K$=e=>DA(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,Y$=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,o=K$(n);return W$(o),o},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return DA(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},IA=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,X$=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),Q$=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",J$=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},Z$=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=Q$(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,l={useFipsEndpoint:t,useDualstackEndpoint:r},u=IA(o[a]?.variants,l),m=IA(s[i]?.variants,l),h=X$(a,{regionHostname:u,partitionHostname:m});if(h===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let y=J$(h,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:h,...y&&{signingRegion:y},...o[a]?.signingService&&{signingService:o[a].signingService}}};Ye.CONFIG_USE_DUALSTACK_ENDPOINT=xA;Ye.CONFIG_USE_FIPS_ENDPOINT=vA;Ye.DEFAULT_USE_DUALSTACK_ENDPOINT=B$;Ye.DEFAULT_USE_FIPS_ENDPOINT=$$;Ye.ENV_USE_DUALSTACK_ENDPOINT=AA;Ye.ENV_USE_FIPS_ENDPOINT=CA;Ye.NODE_REGION_CONFIG_FILE_OPTIONS=V$;Ye.NODE_REGION_CONFIG_OPTIONS=z$;Ye.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=F$;Ye.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=G$;Ye.REGION_ENV_NAME=RA;Ye.REGION_INI_NAME=PA;Ye.getRegionInfo=Z$;Ye.resolveCustomEndpointsConfig=j$;Ye.resolveEndpointsConfig=H$;Ye.resolveRegionConfig=Y$});var gi=v(vl=>{"use strict";c();var e2=_e(),NA="content-length";function OA(e){return t=>async r=>{let n=r.request;if(e2.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(NA)===-1)try{let i=e(o);n.headers={...n.headers,[NA]:String(i)}}catch{}}return t({...r,request:n})}}var LA={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},t2=e=>({applyToStack:t=>{t.add(OA(e.bodyLengthChecker),LA)}});vl.contentLengthMiddleware=OA;vl.contentLengthMiddlewareOptions=LA;vl.getContentLengthPlugin=t2});var jh=v(Rl=>{"use strict";c();Object.defineProperty(Rl,"__esModule",{value:!0});Rl.getHomeDir=void 0;var r2=me("os"),n2=me("path"),Gh={},o2=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",s2=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${n2.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=o2();return Gh[o]||(Gh[o]=(0,r2.homedir)()),Gh[o]};Rl.getHomeDir=s2});var qh=v(Pl=>{"use strict";c();Object.defineProperty(Pl,"__esModule",{value:!0});Pl.getSSOTokenFilepath=void 0;var i2=me("crypto"),a2=me("path"),c2=jh(),l2=e=>{let r=(0,i2.createHash)("sha1").update(e).digest("hex");return(0,a2.join)((0,c2.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Pl.getSSOTokenFilepath=l2});var MA=v(_n=>{"use strict";c();Object.defineProperty(_n,"__esModule",{value:!0});_n.getSSOTokenFromFile=_n.tokenIntercept=void 0;var u2=me("fs/promises"),d2=qh();_n.tokenIntercept={};var p2=async e=>{if(_n.tokenIntercept[e])return _n.tokenIntercept[e];let t=(0,d2.getSSOTokenFilepath)(e),r=await(0,u2.readFile)(t,"utf8");return JSON.parse(r)};_n.getSSOTokenFromFile=p2});var kA=v(wt=>{"use strict";c();Object.defineProperty(wt,"__esModule",{value:!0});wt.readFile=wt.fileIntercept=wt.filePromises=void 0;var f2=me("node:fs/promises");wt.filePromises={};wt.fileIntercept={};var m2=(e,t)=>wt.fileIntercept[e]!==void 0?wt.fileIntercept[e]:((!wt.filePromises[e]||t?.ignoreCache)&&(wt.filePromises[e]=(0,f2.readFile)(e,"utf8")),wt.filePromises[e]);wt.readFile=m2});var Or=v(dt=>{"use strict";c();var yi=jh(),UA=qh(),Hh=MA(),Dl=me("path"),Nl=Zr(),Ko=kA(),FA="AWS_PROFILE",$A="default",h2=e=>e.profile||process.env[FA]||$A,lo=".",g2=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(lo);return r===-1?!1:Object.values(Nl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(lo),s=r.substring(0,o)===Nl.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),y2="AWS_CONFIG_FILE",GA=()=>process.env[y2]||Dl.join(yi.getHomeDir(),".aws","config"),E2="AWS_SHARED_CREDENTIALS_FILE",S2=()=>process.env[E2]||Dl.join(yi.getHomeDir(),".aws","credentials"),b2=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,_2=["__proto__","profile __proto__"],zh=e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),l=b2.exec(a);if(l){let[,u,,m]=l;Object.values(Nl.IniSectionType).includes(u)&&(r=[u,m].join(lo))}else r=a;if(_2.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[l,u]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(u==="")n=l;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let m=n?[n,l].join(lo):l;t[r][m]=u}}}}return t},BA=()=>({}),jA=async(e={})=>{let{filepath:t=S2(),configFilepath:r=GA()}=e,n=yi.getHomeDir(),o="~/",s=t;t.startsWith(o)&&(s=Dl.join(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=Dl.join(n,r.slice(2)));let a=await Promise.all([Ko.readFile(i,{ignoreCache:e.ignoreCache}).then(zh).then(g2).catch(BA),Ko.readFile(s,{ignoreCache:e.ignoreCache}).then(zh).catch(BA)]);return{configFile:a[0],credentialsFile:a[1]}},T2=e=>Object.entries(e).filter(([t])=>t.startsWith(Nl.IniSectionType.SSO_SESSION+lo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(lo)+1)]:n}),{}),w2=()=>({}),I2=async(e={})=>Ko.readFile(e.configFilepath??GA()).then(zh).then(T2).catch(w2),A2=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},x2=async e=>{let t=await jA(e);return A2(t.configFile,t.credentialsFile)},C2={getFileRecord(){return Ko.fileIntercept},interceptFile(e,t){Ko.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return Hh.tokenIntercept},interceptToken(e,t){Hh.tokenIntercept[e]=t}};Object.defineProperty(dt,"getSSOTokenFromFile",{enumerable:!0,get:function(){return Hh.getSSOTokenFromFile}});Object.defineProperty(dt,"readFile",{enumerable:!0,get:function(){return Ko.readFile}});dt.CONFIG_PREFIX_SEPARATOR=lo;dt.DEFAULT_PROFILE=$A;dt.ENV_PROFILE=FA;dt.externalDataInterceptor=C2;dt.getProfileName=h2;dt.loadSharedConfigFiles=jA;dt.loadSsoSessionData=I2;dt.parseKnownFiles=x2;Object.keys(yi).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(dt,e)&&Object.defineProperty(dt,e,{enumerable:!0,get:function(){return yi[e]}})});Object.keys(UA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(dt,e)&&Object.defineProperty(dt,e,{enumerable:!0,get:function(){return UA[e]}})})});var Lr=v(zA=>{"use strict";c();var Ei=ut(),qA=Or();function HA(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var v2=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ei.CredentialsProviderError(r.message||`Not found in ENV: ${HA(e.toString())}`,{logger:t?.logger})}},R2=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=qA.getProfileName(r),{configFile:o,credentialsFile:s}=await qA.loadSharedConfigFiles(r),i=s[n]||{},a=o[n]||{},l=t==="config"?{...i,...a}:{...a,...i};try{let m=e(l,t==="config"?o:s);if(m===void 0)throw new Error;return m}catch(u){throw new Ei.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${HA(e.toString())}`,{logger:r.logger})}},P2=e=>typeof e=="function",D2=e=>P2(e)?async()=>await e():Ei.fromStatic(e),N2=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return Ei.memoize(Ei.chain(v2(e,i),R2(t,n),D2(r)))};zA.loadConfig=N2});var YA=v(Ol=>{"use strict";c();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.getEndpointUrlConfig=void 0;var VA=Or(),WA="AWS_ENDPOINT_URL",KA="endpoint_url",O2=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[WA,...r].join("_")];if(n)return n;let o=t[WA];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(VA.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),KA].join(VA.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[KA];if(n)return n},default:void 0});Ol.getEndpointUrlConfig=O2});var XA=v(Ll=>{"use strict";c();Object.defineProperty(Ll,"__esModule",{value:!0});Ll.getEndpointFromConfig=void 0;var L2=Lr(),M2=YA(),k2=async e=>(0,L2.loadConfig)((0,M2.getEndpointUrlConfig)(e??""))();Ll.getEndpointFromConfig=k2});var Tn=v(Mr=>{"use strict";c();var JA=XA(),QA=sn(),U2=(lt(),ae(to)),Ml=st(),B2=Vn(),F2=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),H2(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!q2(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},$2=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,G2=/(\d+\.){3}\d+/,j2=/\.\./,q2=e=>$2.test(e)&&!G2.test(e)&&!j2.test(e),H2=e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},z2=(e,t,r)=>{let n=async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o};return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:l}=o;return`${s}//${i}${a?":"+a:""}${l}`}}return o}:n},Vh=e=>typeof e=="object"?"url"in e?QA.parseUrl(e.url):e:QA.parseUrl(e),ZA=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await JA.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Vh(i)),r.isCustomEndpoint=!0)}let o=await ex(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},ex=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await z2(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await F2(n),n},tx=({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&U2.setFeature(n,"ENDPOINT_OVERRIDE","N");let s=await ZA(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let l=Ml.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},rx={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:B2.serializerMiddlewareOption.name},V2=(e,t)=>({applyToStack:r=>{r.addRelativeTo(tx({config:e,instructions:t}),rx)}}),W2=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>Vh(await Ml.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Ml.normalizeProvider(n??!1),useFipsEndpoint:Ml.normalizeProvider(o??!1)}),l;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=JA.getEndpointFromConfig(e.serviceId)),l),a},K2=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Mr.endpointMiddleware=tx;Mr.endpointMiddlewareOptions=rx;Mr.getEndpointFromInstructions=ZA;Mr.getEndpointPlugin=V2;Mr.resolveEndpointConfig=W2;Mr.resolveEndpointRequiredConfig=K2;Mr.resolveParams=ex;Mr.toEndpointV1=Vh});var Kh=v(wn=>{"use strict";c();var Y2=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],X2=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Q2=["TimeoutError","RequestTimeout","RequestTimeoutException"],J2=[500,502,503,504],Z2=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],eG=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],nx=e=>e?.$retryable!==void 0,tG=e=>Y2.includes(e.name),ox=e=>e.$metadata?.clockSkewCorrected,sx=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},rG=e=>e.$metadata?.httpStatusCode===429||X2.includes(e.name)||e.$retryable?.throttling==!0,Wh=(e,t=0)=>nx(e)||ox(e)||Q2.includes(e.name)||Z2.includes(e?.code||"")||eG.includes(e?.code||"")||J2.includes(e.$metadata?.httpStatusCode||0)||sx(e)||e.cause!==void 0&&t<=10&&Wh(e.cause,t+1),nG=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Wh(e)}return!1};wn.isBrowserNetworkError=sx;wn.isClockSkewCorrectedError=ox;wn.isClockSkewError=tG;wn.isRetryableByTrait=nx;wn.isServerError=nG;wn.isThrottlingError=rG;wn.isTransientError=Wh});var Yo=v(De=>{"use strict";c();var oG=Kh();De.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(De.RETRY_MODES||(De.RETRY_MODES={}));var Yh=3,sG=De.RETRY_MODES.STANDARD,kl=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),oG.isThrottlingError(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Si=100,Zh=20*1e3,ax=500,Xh=500,cx=5,lx=10,ux=1,iG="amz-sdk-invocation-id",aG="amz-sdk-request",cG=()=>{let e=Si;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Zh,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},ix=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Zh,e),getRetryCost:()=>r}),bi=class{maxAttempts;mode=De.RETRY_MODES.STANDARD;capacity=Xh;retryBackoffStrategy=cG();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return ix({retryDelay:Si,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?ax:Si);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,ix({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Xh,this.capacity+(t.getRetryCost()??ux))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Yh}`),Yh}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?lx:cx}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},Qh=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=De.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new kl,this.standardRetryStrategy=new bi(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},Jh=class extends bi{computeNextBackoffDelay;constructor(t,r=Si){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};De.AdaptiveRetryStrategy=Qh;De.ConfiguredRetryStrategy=Jh;De.DEFAULT_MAX_ATTEMPTS=Yh;De.DEFAULT_RETRY_DELAY_BASE=Si;De.DEFAULT_RETRY_MODE=sG;De.DefaultRateLimiter=kl;De.INITIAL_RETRY_TOKENS=Xh;De.INVOCATION_ID_HEADER=iG;De.MAXIMUM_RETRY_DELAY=Zh;De.NO_RETRY_INCREMENT=ux;De.REQUEST_HEADER=aG;De.RETRY_COST=cx;De.StandardRetryStrategy=bi;De.THROTTLING_RETRY_DELAY_BASE=ax;De.TIMEOUT_RETRY_COST=lx});var dx=v(Ul=>{"use strict";c();Object.defineProperty(Ul,"__esModule",{value:!0});Ul.isStreamingPayload=void 0;var lG=me("stream"),uG=e=>e?.body instanceof lG.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Ul.isStreamingPayload=uG});var kr=v(He=>{"use strict";c();var Pe=Yo(),Xo=_e(),In=Kh(),fx=om(),px=st(),dG=te(),pG=dx(),fG=(e,t)=>{let r=e,n=Pe.NO_RETRY_INCREMENT,o=Pe.RETRY_COST,s=Pe.TIMEOUT_RETRY_COST,i=e,a=h=>h.name==="TimeoutError"?s:o,l=h=>a(h)<=i;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:h=>{if(!l(h))throw new Error("No retry token available");let y=a(h);return i-=y,y},releaseRetryTokens:h=>{i+=h??n,i=Math.min(i,r)}})},mx=(e,t)=>Math.floor(Math.min(Pe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),hx=e=>e?In.isRetryableByTrait(e)||In.isClockSkewError(e)||In.isThrottlingError(e)||In.isTransientError(e):!1,gx=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Bl=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Pe.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??hx,this.delayDecider=r?.delayDecider??mx,this.retryQuota=r?.retryQuota??fG(Pe.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Pe.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:l}=r;for(Xo.HttpRequest.isInstance(l)&&(l.headers[Pe.INVOCATION_ID_HEADER]=fx.v4());;)try{Xo.HttpRequest.isInstance(l)&&(l.headers[Pe.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:u,output:m}=await t(r);return n?.afterRequest&&n.afterRequest(u),this.retryQuota.releaseRetryTokens(o),m.$metadata.attempts=s+1,m.$metadata.totalRetryDelay=i,{response:u,output:m}}catch(u){let m=gx(u);if(s++,this.shouldRetry(m,s,a)){o=this.retryQuota.retrieveRetryTokens(m);let h=this.delayDecider(In.isThrottlingError(m)?Pe.THROTTLING_RETRY_DELAY_BASE:Pe.DEFAULT_RETRY_DELAY_BASE,s),y=mG(m.$response),g=Math.max(y||0,h);i+=g,await new Promise(S=>setTimeout(S,g));continue}throw m.$metadata||(m.$metadata={}),m.$metadata.attempts=s,m.$metadata.totalRetryDelay=i,m}}},mG=e=>{if(!Xo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},eg=class extends Bl{rateLimiter;constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new Pe.DefaultRateLimiter,this.mode=Pe.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},tg="AWS_MAX_ATTEMPTS",rg="max_attempts",hG={environmentVariableSelector:e=>{let t=e[tg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${tg} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[rg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${rg} mast be a number, got "${t}"`);return r},default:Pe.DEFAULT_MAX_ATTEMPTS},gG=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=px.normalizeProvider(n??Pe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await px.normalizeProvider(r)()===Pe.RETRY_MODES.ADAPTIVE?new Pe.AdaptiveRetryStrategy(o):new Pe.StandardRetryStrategy(o))})},yx="AWS_RETRY_MODE",Ex="retry_mode",yG={environmentVariableSelector:e=>e[yx],configFileSelector:e=>e[Ex],default:Pe.DEFAULT_RETRY_MODE},Sx=()=>e=>async t=>{let{request:r}=t;return Xo.HttpRequest.isInstance(r)&&(delete r.headers[Pe.INVOCATION_ID_HEADER],delete r.headers[Pe.REQUEST_HEADER]),e(t)},bx={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},EG=e=>({applyToStack:t=>{t.addRelativeTo(Sx(),bx)}}),_x=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(SG(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,l=0,u=0,{request:m}=n,h=Xo.HttpRequest.isInstance(m);for(h&&(m.headers[Pe.INVOCATION_ID_HEADER]=fx.v4());;)try{h&&(m.headers[Pe.REQUEST_HEADER]=`attempt=${l+1}; max=${s}`);let{response:y,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=l+1,g.$metadata.totalRetryDelay=u,{response:y,output:g}}catch(y){let g=bG(y);if(a=gx(y),h&&pG.isStreamingPayload(m))throw(r.logger instanceof dG.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=l+1,a.$metadata.totalRetryDelay=u,a}l=i.getRetryCount();let S=i.getRetryDelay();u+=S,await new Promise(x=>setTimeout(x,S))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},SG=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",bG=e=>{let t={error:e,errorType:_G(e)},r=wx(e.$response);return r&&(t.retryAfterHint=r),t},_G=e=>In.isThrottlingError(e)?"THROTTLING":In.isTransientError(e)?"TRANSIENT":In.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",Tx={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},TG=e=>({applyToStack:t=>{t.add(_x(e),Tx)}}),wx=e=>{if(!Xo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};He.AdaptiveRetryStrategy=eg;He.CONFIG_MAX_ATTEMPTS=rg;He.CONFIG_RETRY_MODE=Ex;He.ENV_MAX_ATTEMPTS=tg;He.ENV_RETRY_MODE=yx;He.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=hG;He.NODE_RETRY_MODE_CONFIG_OPTIONS=yG;He.StandardRetryStrategy=Bl;He.defaultDelayDecider=mx;He.defaultRetryDecider=hx;He.getOmitRetryHeadersPlugin=EG;He.getRetryAfterHint=wx;He.getRetryPlugin=TG;He.omitRetryHeadersMiddleware=Sx;He.omitRetryHeadersMiddlewareOptions=bx;He.resolveRetryConfig=gG;He.retryMiddleware=_x;He.retryMiddlewareOptions=Tx});var og=v(An=>{"use strict";c();Object.defineProperty(An,"__esModule",{value:!0});An.resolveHttpAuthSchemeConfig=An.defaultDynamoDBHttpAuthSchemeProvider=An.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var wG=(We(),ae(nr)),ng=st(),IG=async(e,t,r)=>({operation:(0,ng.getSmithyContext)(t).operation,region:await(0,ng.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});An.defaultDynamoDBHttpAuthSchemeParametersProvider=IG;function AG(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var xG=e=>{let t=[];switch(e.operation){default:t.push(AG(e))}return t};An.defaultDynamoDBHttpAuthSchemeProvider=xG;var CG=e=>{let t=(0,wG.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,ng.normalizeProvider)(e.authSchemePreference??[])})};An.resolveHttpAuthSchemeConfig=CG});var Ix=v((xfe,vG)=>{vG.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.928.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.928.0","@aws-sdk/credential-provider-node":"3.928.0","@aws-sdk/middleware-endpoint-discovery":"3.922.0","@aws-sdk/middleware-host-header":"3.922.0","@aws-sdk/middleware-logger":"3.922.0","@aws-sdk/middleware-recursion-detection":"3.922.0","@aws-sdk/middleware-user-agent":"3.928.0","@aws-sdk/region-config-resolver":"3.925.0","@aws-sdk/types":"3.922.0","@aws-sdk/util-endpoints":"3.922.0","@aws-sdk/util-user-agent-browser":"3.922.0","@aws-sdk/util-user-agent-node":"3.928.0","@smithy/config-resolver":"^4.4.2","@smithy/core":"^3.17.2","@smithy/fetch-http-handler":"^5.3.5","@smithy/hash-node":"^4.2.4","@smithy/invalid-dependency":"^4.2.4","@smithy/middleware-content-length":"^4.2.4","@smithy/middleware-endpoint":"^4.3.6","@smithy/middleware-retry":"^4.4.6","@smithy/middleware-serde":"^4.2.4","@smithy/middleware-stack":"^4.2.4","@smithy/node-config-provider":"^4.3.4","@smithy/node-http-handler":"^4.4.4","@smithy/protocol-http":"^5.3.4","@smithy/smithy-client":"^4.9.2","@smithy/types":"^4.8.1","@smithy/url-parser":"^4.2.4","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.5","@smithy/util-defaults-mode-node":"^4.2.8","@smithy/util-endpoints":"^3.2.4","@smithy/util-middleware":"^4.2.4","@smithy/util-retry":"^4.2.4","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.4",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var sg=v(xn=>{"use strict";c();var RG=(qt(),ae(cn)),PG=ut(),Ax="AWS_ACCESS_KEY_ID",xx="AWS_SECRET_ACCESS_KEY",Cx="AWS_SESSION_TOKEN",vx="AWS_CREDENTIAL_EXPIRATION",Rx="AWS_CREDENTIAL_SCOPE",Px="AWS_ACCOUNT_ID",DG=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Ax],r=process.env[xx],n=process.env[Cx],o=process.env[vx],s=process.env[Rx],i=process.env[Px];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return RG.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new PG.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};xn.ENV_ACCOUNT_ID=Px;xn.ENV_CREDENTIAL_SCOPE=Rx;xn.ENV_EXPIRATION=vx;xn.ENV_KEY=Ax;xn.ENV_SECRET=xx;xn.ENV_SESSION=Cx;xn.fromEnv=DG});var Ti=v(tt=>{"use strict";c();var sr=ut(),NG=me("url"),OG=me("buffer"),LG=me("http"),ug=Lr(),MG=sn();function _i(e){return new Promise((t,r)=>{let n=LG.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new sr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new sr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new sr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(OG.Buffer.concat(i)),n.destroy()})}),n.end()})}var Lx=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Mx=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),kx=1e3,Ux=0,dg=({maxRetries:e=Ux,timeout:t=kx})=>({maxRetries:e,timeout:t}),ag=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},Fl="AWS_CONTAINER_CREDENTIALS_FULL_URI",$l="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",cg="AWS_CONTAINER_AUTHORIZATION_TOKEN",kG=(e={})=>{let{timeout:t,maxRetries:r}=dg(e);return()=>ag(async()=>{let n=await GG({logger:e.logger}),o=JSON.parse(await UG(t,n));if(!Lx(o))throw new sr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Mx(o)},r)},UG=async(e,t)=>(process.env[cg]&&(t.headers={...t.headers,Authorization:process.env[cg]}),(await _i({...t,timeout:e})).toString()),BG="169.254.170.2",FG={localhost:!0,"127.0.0.1":!0},$G={"http:":!0,"https:":!0},GG=async({logger:e})=>{if(process.env[$l])return{hostname:BG,path:process.env[$l]};if(process.env[Fl]){let t=NG.parse(process.env[Fl]);if(!t.hostname||!(t.hostname in FG))throw new sr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in $G))throw new sr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new sr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${$l} or ${Fl} environment variable is set`,{tryNextLink:!1,logger:e})},lg=class e extends sr.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};tt.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(tt.Endpoint||(tt.Endpoint={}));var jG="AWS_EC2_METADATA_SERVICE_ENDPOINT",qG="ec2_metadata_service_endpoint",HG={environmentVariableSelector:e=>e[jG],configFileSelector:e=>e[qG],default:void 0},Qo;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Qo||(Qo={}));var zG="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",VG="ec2_metadata_service_endpoint_mode",WG={environmentVariableSelector:e=>e[zG],configFileSelector:e=>e[VG],default:Qo.IPv4},Bx=async()=>MG.parseUrl(await KG()||await YG()),KG=async()=>ug.loadConfig(HG)(),YG=async()=>{let e=await ug.loadConfig(WG)();switch(e){case Qo.IPv4:return tt.Endpoint.IPv4;case Qo.IPv6:return tt.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Qo)}`)}},XG=300,QG=300,JG="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Dx=(e,t)=>{let r=XG+Math.floor(Math.random()*QG),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+JG);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},ZG=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Dx(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Dx(n,r);else throw s}return n=o,o}},Fx="/latest/meta-data/iam/security-credentials/",ej="/latest/api/token",ig="AWS_EC2_METADATA_V1_DISABLED",Nx="ec2_metadata_v1_disabled",Ox="x-aws-ec2-metadata-token",tj=(e={})=>ZG(rj(e),{logger:e.logger}),rj=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=dg(e),i=async(a,l)=>{if(t||l.headers?.[Ox]==null){let h=!1,y=!1,g=await ug.loadConfig({environmentVariableSelector:S=>{let x=S[ig];if(y=!!x&&x!=="false",x===void 0)throw new sr.CredentialsProviderError(`${ig} not set in env, checking config file next.`,{logger:e.logger});return y},configFileSelector:S=>{let x=S[Nx];return h=!!x&&x!=="false",h},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),h&&S.push(`config file profile (${Nx})`),y&&S.push(`process environment variable (${ig})`),new lg(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let m=(await ag(async()=>{let h;try{h=await oj(l)}catch(y){throw y.statusCode===401&&(t=!1),y}return h},a)).trim();return ag(async()=>{let h;try{h=await sj(m,l,e)}catch(y){throw y.statusCode===401&&(t=!1),y}return h},a)};return async()=>{let a=await Bx();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let l;try{l=(await nj({...a,timeout:o})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[Ox]:l},timeout:o})}}},nj=async e=>_i({...e,path:ej,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),oj=async e=>(await _i({...e,path:Fx})).toString(),sj=async(e,t,r)=>{let n=JSON.parse((await _i({...t,path:Fx+e})).toString());if(!Lx(n))throw new sr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return Mx(n)};tt.DEFAULT_MAX_RETRIES=Ux;tt.DEFAULT_TIMEOUT=kx;tt.ENV_CMDS_AUTH_TOKEN=cg;tt.ENV_CMDS_FULL_URI=Fl;tt.ENV_CMDS_RELATIVE_URI=$l;tt.fromContainerMetadata=kG;tt.fromInstanceMetadata=tj;tt.getInstanceMetadataEndpoint=Bx;tt.httpRequest=_i;tt.providerConfigFromInit=dg});var $x=v(Gl=>{"use strict";c();Object.defineProperty(Gl,"__esModule",{value:!0});Gl.checkUrl=void 0;var ij=ut(),aj="169.254.170.2",cj="169.254.170.23",lj="[fd00:ec2::23]",uj=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===aj||e.hostname===cj||e.hostname===lj)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new ij.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Gl.checkUrl=uj});var Gx=v(jl=>{"use strict";c();Object.defineProperty(jl,"__esModule",{value:!0});jl.createGetRequest=mj;jl.getCredentials=hj;var pg=ut(),dj=_e(),pj=te(),fj=mc();function mj(e){return new dj.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function hj(e,t){let n=await(0,fj.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new pg.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,pj.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new pg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new pg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var jx=v(ql=>{"use strict";c();Object.defineProperty(ql,"__esModule",{value:!0});ql.retryWrapper=void 0;var gj=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};ql.retryWrapper=gj});var zx=v(Hl=>{"use strict";c();Object.defineProperty(Hl,"__esModule",{value:!0});Hl.fromHttp=void 0;var yj=(ei(),ae(Zs)),Ej=(qt(),ae(cn)),Sj=Wn(),qx=ut(),bj=yj.__importDefault(me("fs/promises")),_j=$x(),Hx=Gx(),Tj=jx(),wj="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Ij="http://169.254.170.2",Aj="AWS_CONTAINER_CREDENTIALS_FULL_URI",xj="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",Cj="AWS_CONTAINER_AUTHORIZATION_TOKEN",vj=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[wj],n=e.awsContainerCredentialsFullUri??process.env[Aj],o=e.awsContainerAuthorizationToken??process.env[Cj],s=e.awsContainerAuthorizationTokenFile??process.env[xj],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${Ij}${r}`;else throw new qx.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,_j.checkUrl)(a,e.logger);let l=Sj.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,Tj.retryWrapper)(async()=>{let u=(0,Hx.createGetRequest)(a);o?u.headers.Authorization=o:s&&(u.headers.Authorization=(await bj.default.readFile(s)).toString());try{let m=await l.handle(u);return(0,Hx.getCredentials)(m.response).then(h=>(0,Ej.setCredentialFeature)(h,"CREDENTIALS_HTTP","z"))}catch(m){throw new qx.CredentialsProviderError(String(m),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Hl.fromHttp=vj});var fg=v(zl=>{"use strict";c();Object.defineProperty(zl,"__esModule",{value:!0});zl.fromHttp=void 0;var Rj=zx();Object.defineProperty(zl,"fromHttp",{enumerable:!0,get:function(){return Rj.fromHttp}})});function Pj(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Dj(e){return{schemeId:"smithy.api#noAuth"}}var wi,Vx,Wx,Kx,mg=w(()=>{c();We();wi=A(st()),Vx=async(e,t,r)=>({operation:(0,wi.getSmithyContext)(t).operation,region:await(0,wi.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Wx=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(Dj(e));break}default:t.push(Pj(e))}return t},Kx=e=>{let t=io(e);return Object.assign(t,{authSchemePreference:(0,wi.normalizeProvider)(e.authSchemePreference??[])})}});var Yx,Xx,hg=w(()=>{c();Yx=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Xx={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Vl,gg=w(()=>{Vl={name:"@aws-sdk/nested-clients",version:"3.928.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.928.0","@aws-sdk/middleware-host-header":"3.922.0","@aws-sdk/middleware-logger":"3.922.0","@aws-sdk/middleware-recursion-detection":"3.922.0","@aws-sdk/middleware-user-agent":"3.928.0","@aws-sdk/region-config-resolver":"3.925.0","@aws-sdk/types":"3.922.0","@aws-sdk/util-endpoints":"3.922.0","@aws-sdk/util-user-agent-browser":"3.922.0","@aws-sdk/util-user-agent-node":"3.928.0","@smithy/config-resolver":"^4.4.2","@smithy/core":"^3.17.2","@smithy/fetch-http-handler":"^5.3.5","@smithy/hash-node":"^4.2.4","@smithy/invalid-dependency":"^4.2.4","@smithy/middleware-content-length":"^4.2.4","@smithy/middleware-endpoint":"^4.3.6","@smithy/middleware-retry":"^4.4.6","@smithy/middleware-serde":"^4.2.4","@smithy/middleware-stack":"^4.2.4","@smithy/node-config-provider":"^4.3.4","@smithy/node-http-handler":"^4.4.4","@smithy/protocol-http":"^5.3.4","@smithy/smithy-client":"^4.9.2","@smithy/types":"^4.8.1","@smithy/url-parser":"^4.2.4","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.5","@smithy/util-defaults-mode-node":"^4.2.8","@smithy/util-endpoints":"^3.2.4","@smithy/util-middleware":"^4.2.4","@smithy/util-retry":"^4.2.4","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var Ii=v(uo=>{"use strict";c();var Qx=me("os"),yg=me("process"),Oj=Vo(),Jx={isCrtAvailable:!1},Lj=()=>Jx.isCrtAvailable?["md/crt-avail"]:null,Zx=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${Qx.platform()}`,Qx.release()],["lang/js"],["md/nodejs",`${yg.versions.node}`]],o=Lj();o&&n.push(o),e&&n.push([`api/${e}`,t]),yg.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${yg.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},Mj=Zx,e0="AWS_SDK_UA_APP_ID",t0="sdk_ua_app_id",kj="sdk-ua-app-id",Uj={environmentVariableSelector:e=>e[e0],configFileSelector:e=>e[t0]??e[kj],default:Oj.DEFAULT_UA_APP_ID};uo.NODE_APP_ID_CONFIG_OPTIONS=Uj;uo.UA_APP_ID_ENV_NAME=e0;uo.UA_APP_ID_INI_NAME=t0;uo.createDefaultUserAgentProvider=Zx;uo.crtAvailability=Jx;uo.defaultUserAgent=Mj});var Ai=v(o0=>{"use strict";c();var Eg=ze(),Bj=Ce(),Fj=me("buffer"),r0=me("crypto"),Sg=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(Bj.toUint8Array(n0(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?r0.createHmac(this.algorithmIdentifier,n0(this.secret)):r0.createHash(this.algorithmIdentifier)}};function n0(e,t){return Fj.Buffer.isBuffer(e)?e:typeof e=="string"?Eg.fromString(e,t):ArrayBuffer.isView(e)?Eg.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Eg.fromArrayBuffer(e)}o0.Hash=Sg});var xi=v(s0=>{"use strict";c();var bg=me("node:fs"),$j=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof bg.ReadStream){if(e.path!=null)return bg.lstatSync(e.path).size;if(typeof e.fd=="number")return bg.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};s0.calculateBodyLength=$j});var i0=v(Wl=>{"use strict";c();Object.defineProperty(Wl,"__esModule",{value:!0});Wl.fromBase64=void 0;var Gj=ze(),jj=/^[A-Za-z0-9+/]*={0,2}$/,qj=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!jj.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Gj.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Wl.fromBase64=qj});var a0=v(Kl=>{"use strict";c();Object.defineProperty(Kl,"__esModule",{value:!0});Kl.toBase64=void 0;var Hj=ze(),zj=Ce(),Vj=e=>{let t;if(typeof e=="string"?t=(0,zj.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Hj.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Kl.toBase64=Vj});var _g=v(Ci=>{"use strict";c();var c0=i0(),l0=a0();Object.keys(c0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ci,e)&&Object.defineProperty(Ci,e,{enumerable:!0,get:function(){return c0[e]}})});Object.keys(l0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ci,e)&&Object.defineProperty(Ci,e,{enumerable:!0,get:function(){return l0[e]}})})});var S0,Nt,u0,vi,Jo,Zo,Ur,Tg,wg,d0,p0,f0,b0,_0,Dt,m0,T0,h0,g0,y0,E0,Wj,w0,I0=w(()=>{c();S0="required",Nt="argv",u0="isSet",vi="booleanEquals",Jo="error",Zo="endpoint",Ur="tree",Tg="PartitionResult",wg="getAttr",d0={[S0]:!1,type:"string"},p0={[S0]:!0,default:!1,type:"boolean"},f0={ref:"Endpoint"},b0={fn:vi,[Nt]:[{ref:"UseFIPS"},!0]},_0={fn:vi,[Nt]:[{ref:"UseDualStack"},!0]},Dt={},m0={fn:wg,[Nt]:[{ref:Tg},"supportsFIPS"]},T0={ref:Tg},h0={fn:vi,[Nt]:[!0,{fn:wg,[Nt]:[T0,"supportsDualStack"]}]},g0=[b0],y0=[_0],E0=[{ref:"Region"}],Wj={version:"1.0",parameters:{Region:d0,UseDualStack:p0,UseFIPS:p0,Endpoint:d0},rules:[{conditions:[{fn:u0,[Nt]:[f0]}],rules:[{conditions:g0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Jo},{conditions:y0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Jo},{endpoint:{url:f0,properties:Dt,headers:Dt},type:Zo}],type:Ur},{conditions:[{fn:u0,[Nt]:E0}],rules:[{conditions:[{fn:"aws.partition",[Nt]:E0,assign:Tg}],rules:[{conditions:[b0,_0],rules:[{conditions:[{fn:vi,[Nt]:[!0,m0]},h0],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Dt,headers:Dt},type:Zo}],type:Ur},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Jo}],type:Ur},{conditions:g0,rules:[{conditions:[{fn:vi,[Nt]:[m0,!0]}],rules:[{conditions:[{fn:"stringEquals",[Nt]:[{fn:wg,[Nt]:[T0,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Dt,headers:Dt},type:Zo},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Dt,headers:Dt},type:Zo}],type:Ur},{error:"FIPS is enabled but this partition does not support FIPS",type:Jo}],type:Ur},{conditions:y0,rules:[{conditions:[h0],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Dt,headers:Dt},type:Zo}],type:Ur},{error:"DualStack is enabled but this partition does not support DualStack",type:Jo}],type:Ur},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Dt,headers:Dt},type:Zo}],type:Ur}],type:Ur},{error:"Invalid Configuration: Missing Region",type:Jo}]},w0=Wj});var A0,es,Kj,x0,C0=w(()=>{c();A0=A(Po()),es=A(no());I0();Kj=new es.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),x0=(e,t={})=>Kj.get(e,()=>(0,es.resolveEndpoint)(w0,{endpointParams:e,logger:t.logger}));es.customEndpointFunctions.aws=A0.awsEndpointFunctions});var v0,R0,Yl,Xl,P0,D0=w(()=>{c();We();lt();v0=A(te()),R0=A(sn()),Yl=A(_g()),Xl=A(Ce());mg();C0();P0=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Yl.fromBase64,base64Encoder:e?.base64Encoder??Yl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??x0,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Wx,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new yt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Cr}],logger:e?.logger??new v0.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??R0.parseUrl,utf8Decoder:e?.utf8Decoder??Xl.fromUtf8,utf8Encoder:e?.utf8Encoder??Xl.toUtf8})});var Ri=v(M0=>{"use strict";c();var Yj=Pt(),N0=Lr(),Xj=ut(),Qj="AWS_EXECUTION_ENV",O0="AWS_REGION",L0="AWS_DEFAULT_REGION",Jj="AWS_EC2_METADATA_DISABLED",Zj=["in-region","cross-region","mobile","standard","legacy"],eq="/latest/meta-data/placement/region",tq="AWS_DEFAULTS_MODE",rq="defaults_mode",nq={environmentVariableSelector:e=>e[tq],configFileSelector:e=>e[rq],default:"legacy"},oq=({region:e=N0.loadConfig(Yj.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=N0.loadConfig(nq)}={})=>Xj.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return sq(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Zj.join(", ")}, got ${r}`)}}),sq=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await iq();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},iq=async()=>{if(process.env[Qj]&&(process.env[O0]||process.env[L0]))return process.env[O0]??process.env[L0];if(!process.env[Jj])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>A(Ti())),r=await e();return(await t({...r,path:eq})).toString()}catch{}};M0.resolveDefaultsModeConfig=oq});var Ql,vn,k0,Jl,Cn,Zl,U0,B0,F0,$0,G0,j0,q0=w(()=>{c();gg();We();Ql=A(Ii()),vn=A(Pt()),k0=A(Ai()),Jl=A(kr()),Cn=A(Lr()),Zl=A(Wn()),U0=A(xi()),B0=A(Yo());D0();F0=A(te()),$0=A(Ri()),G0=A(te()),j0=e=>{(0,G0.emitWarningIfUnsupportedVersion)(process.version);let t=(0,$0.resolveDefaultsModeConfig)(e),r=()=>t().then(F0.loadConfigsForDefaultMode),n=P0(e);Do(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Cn.loadConfig)(Lo,o),bodyLengthChecker:e?.bodyLengthChecker??U0.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Ql.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Vl.version}),maxAttempts:e?.maxAttempts??(0,Cn.loadConfig)(Jl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Cn.loadConfig)(vn.NODE_REGION_CONFIG_OPTIONS,{...vn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Zl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Cn.loadConfig)({...Jl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||B0.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??k0.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Zl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Cn.loadConfig)(vn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Cn.loadConfig)(vn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Cn.loadConfig)(Ql.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var z0=v(ts=>{"use strict";c();Object.defineProperty(ts,"__esModule",{value:!0});ts.warning=void 0;ts.stsRegionDefaultResolver=cq;var H0=Pt(),aq=Lr();function cq(e={}){return(0,aq.loadConfig)({...H0.NODE_REGION_CONFIG_OPTIONS,async default(){return ts.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...H0.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}ts.warning={silence:!1}});var rs=v(ir=>{"use strict";c();var Pi=Pt(),V0=z0(),lq=e=>({setRegion(t){e.region=t},region(){return e.region}}),uq=e=>({region:e.region()});Object.defineProperty(ir,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Pi.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(ir,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Pi.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(ir,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Pi.REGION_ENV_NAME}});Object.defineProperty(ir,"REGION_INI_NAME",{enumerable:!0,get:function(){return Pi.REGION_INI_NAME}});Object.defineProperty(ir,"resolveRegionConfig",{enumerable:!0,get:function(){return Pi.resolveRegionConfig}});ir.getAwsRegionExtensionConfiguration=lq;ir.resolveAwsRegionExtensionConfiguration=uq;Object.keys(V0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ir,e)&&Object.defineProperty(ir,e,{enumerable:!0,get:function(){return V0[e]}})})});var W0,K0,Y0=w(()=>{c();W0=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},K0=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var eu,tu,ru,X0,Q0=w(()=>{c();eu=A(rs()),tu=A(_e()),ru=A(te());Y0();X0=(e,t)=>{let r=Object.assign((0,eu.getAwsRegionExtensionConfiguration)(e),(0,ru.getDefaultExtensionConfiguration)(e),(0,tu.getHttpHandlerExtensionConfiguration)(e),W0(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,eu.resolveAwsRegionExtensionConfiguration)(r),(0,ru.resolveDefaultRuntimeConfig)(r),(0,tu.resolveHttpHandlerRuntimeConfig)(r),K0(r))}});var nu,J0,Z0,ou,eC,tC,rC,su,Ig,Di,Ag=w(()=>{c();nu=A(Ms()),J0=A(ks()),Z0=A(Us()),ou=A(Vo()),eC=A(Pt());lt();tC=A(gi()),rC=A(Tn()),su=A(kr()),Ig=A(te());mg();hg();q0();Q0();Di=class extends Ig.Client{config;constructor(...[t]){let r=j0(t||{});super(r),this.initConfig=r;let n=Yx(r),o=(0,ou.resolveUserAgentConfig)(n),s=(0,su.resolveRetryConfig)(o),i=(0,eC.resolveRegionConfig)(s),a=(0,nu.resolveHostHeaderConfig)(i),l=(0,rC.resolveEndpointConfig)(a),u=Kx(l),m=X0(u,t?.extensions||[]);this.config=m,this.middlewareStack.use((0,ou.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,su.getRetryPlugin)(this.config)),this.middlewareStack.use((0,tC.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,nu.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,J0.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Z0.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Fs(this.config,{httpAuthSchemeParametersProvider:Vx,identityProviderConfigProvider:async h=>new eo({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use($s(this.config))}destroy(){super.destroy()}}});var nC,Ke,iu=w(()=>{c();nC=A(te()),Ke=class e extends nC.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var po,dq,Ni,Oi,xg,Cg,Li,Mi,ki,Ui,pq,Bi,Fi,$i,Gi,ji,au=w(()=>{c();po=A(te());iu();dq={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Ni=class e extends Ke{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Oi=class e extends Ke{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},xg=e=>({...e,...e.clientSecret&&{clientSecret:po.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:po.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:po.SENSITIVE_STRING}}),Cg=e=>({...e,...e.accessToken&&{accessToken:po.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:po.SENSITIVE_STRING},...e.idToken&&{idToken:po.SENSITIVE_STRING}}),Li=class e extends Ke{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Mi=class e extends Ke{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ki=class e extends Ke{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ui=class e extends Ke{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},pq={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},Bi=class e extends Ke{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Fi=class e extends Ke{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},$i=class e extends Ke{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Gi=class e extends Ke{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ji=class e extends Ke{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var L,oC,sC,fq,mq,hq,gq,yq,Eq,Sq,bq,_q,Tq,wq,Iq,Aq,Ot,iC=w(()=>{c();We();lt();L=A(te());au();iu();oC=async(e,t)=>{let r=ni(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,L.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,L._json)(s)})),r.m("POST").h(n).b(o),r.build()},sC=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return fq(e,t);let r=(0,L.map)({$metadata:Ot(e)}),n=(0,L.expectNonNull)((0,L.expectObject)(await co(e.body,t)),"body"),o=(0,L.take)(n,{accessToken:L.expectString,expiresIn:L.expectInt32,idToken:L.expectString,refreshToken:L.expectString,tokenType:L.expectString});return Object.assign(r,o),r},fq=async(e,t)=>{let r={...e,body:await ll(e.body,t)},n=gn(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await hq(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await gq(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await yq(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Eq(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Sq(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await bq(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await _q(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Tq(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await wq(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Iq(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Aq(r,t);default:let o=r.body;return mq({output:e,parsedBody:o,errorCode:n})}},mq=(0,L.withBaseException)(Ke),hq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString,reason:L.expectString});Object.assign(r,o);let s=new Ni({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},gq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Oi({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},yq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Li({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},Eq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Mi({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},Sq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new ki({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},bq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Ui({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},_q=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString,reason:L.expectString});Object.assign(r,o);let s=new Bi({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},Tq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Fi({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},wq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new $i({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},Iq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new Gi({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},Aq=async(e,t)=>{let r=(0,L.map)({}),n=e.body,o=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,o);let s=new ji({$metadata:Ot(e),...r});return(0,L.decorateServiceException)(s,e.body)},Ot=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var aC,cC,vg,qi,Rg=w(()=>{c();aC=A(Tn()),cC=A(Vn()),vg=A(te());hg();au();iC();qi=class extends vg.Command.classBuilder().ep(Xx).m(function(t,r,n,o){return[(0,cC.getSerdePlugin)(n,this.serialize,this.deserialize),(0,aC.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(xg,Cg).ser(oC).de(sC).build(){}});var lC,xq,cu,uC=w(()=>{c();lC=A(te());Rg();Ag();xq={CreateTokenCommand:qi},cu=class extends Di{};(0,lC.createAggregatedClient)(xq,cu)});var dC=w(()=>{c();Rg()});var pC=w(()=>{c();au()});var Pg={};mt(Pg,{$Command:()=>vg.Command,AccessDeniedException:()=>Ni,AccessDeniedExceptionReason:()=>dq,AuthorizationPendingException:()=>Oi,CreateTokenCommand:()=>qi,CreateTokenRequestFilterSensitiveLog:()=>xg,CreateTokenResponseFilterSensitiveLog:()=>Cg,ExpiredTokenException:()=>Li,InternalServerException:()=>Mi,InvalidClientException:()=>ki,InvalidGrantException:()=>Ui,InvalidRequestException:()=>Bi,InvalidRequestExceptionReason:()=>pq,InvalidScopeException:()=>Fi,SSOOIDC:()=>cu,SSOOIDCClient:()=>Di,SSOOIDCServiceException:()=>Ke,SlowDownException:()=>$i,UnauthorizedClientException:()=>Gi,UnsupportedGrantTypeException:()=>ji,__Client:()=>Ig.Client});var Dg=w(()=>{c();Ag();uC();dC();pC();iu()});var gC=v(zi=>{"use strict";c();var Cq=(qt(),ae(cn)),vq=(eh(),ae(sI)),It=ut(),Hi=Or(),Rq=me("fs"),Pq=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new It.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=vq.getBearerTokenEnvKey(t);if(!(r in process.env))throw new It.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return Cq.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},Dq=300*1e3,Ng="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Nq=async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(Dg(),Pg)),n=s=>t.clientConfig?.[s]??t.parentClientConfig?.[s];return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:n("logger"),userAgentAppId:n("userAgentAppId")}))},Oq=async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Dg(),Pg));return(await Nq(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},fC=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new It.TokenProviderError(`Token is expired. ${Ng}`,!1)},fo=(e,t,r=!1)=>{if(typeof t>"u")throw new It.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Ng}`,!1)},{writeFile:Lq}=Rq.promises,Mq=(e,t)=>{let r=Hi.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return Lq(r,n)},mC=new Date(0),hC=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await Hi.parseKnownFiles(r),o=Hi.getProfileName({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new It.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new It.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,l=(await Hi.loadSsoSessionData(r))[i];if(!l)throw new It.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!l[S])throw new It.TokenProviderError(`Sso session '${i}' is missing required property '${S}'.`,!1);l.sso_start_url;let u=l.sso_region,m;try{m=await Hi.getSSOTokenFromFile(i)}catch{throw new It.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${Ng}`,!1)}fo("accessToken",m.accessToken),fo("expiresAt",m.expiresAt);let{accessToken:h,expiresAt:y}=m,g={token:h,expiration:new Date(y)};if(g.expiration.getTime()-Date.now()>Dq)return g;if(Date.now()-mC.getTime()<30*1e3)return fC(g),g;fo("clientId",m.clientId,!0),fo("clientSecret",m.clientSecret,!0),fo("refreshToken",m.refreshToken,!0);try{mC.setTime(Date.now());let S=await Oq(m,u,r);fo("accessToken",S.accessToken),fo("expiresIn",S.expiresIn);let x=new Date(Date.now()+S.expiresIn*1e3);try{await Mq(i,{...m,accessToken:S.accessToken,expiresAt:x.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:x}}catch{return fC(g),g}},kq=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new It.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},Uq=(e={})=>It.memoize(It.chain(hC(e),async()=>{throw new It.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);zi.fromEnvSigningName=Pq;zi.fromSso=hC;zi.fromStatic=kq;zi.nodeProvider=Uq});var Lg=v(Rn=>{"use strict";c();Object.defineProperty(Rn,"__esModule",{value:!0});Rn.resolveHttpAuthSchemeConfig=Rn.defaultSSOHttpAuthSchemeProvider=Rn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var Bq=(We(),ae(nr)),Og=st(),Fq=async(e,t,r)=>({operation:(0,Og.getSmithyContext)(t).operation,region:await(0,Og.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Rn.defaultSSOHttpAuthSchemeParametersProvider=Fq;function $q(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function lu(e){return{schemeId:"smithy.api#noAuth"}}var Gq=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(lu(e));break}case"ListAccountRoles":{t.push(lu(e));break}case"ListAccounts":{t.push(lu(e));break}case"Logout":{t.push(lu(e));break}default:t.push($q(e))}return t};Rn.defaultSSOHttpAuthSchemeProvider=Gq;var jq=e=>{let t=(0,Bq.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Og.normalizeProvider)(e.authSchemePreference??[])})};Rn.resolveHttpAuthSchemeConfig=jq});var yC=v((_he,qq)=>{qq.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.928.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.928.0","@aws-sdk/middleware-host-header":"3.922.0","@aws-sdk/middleware-logger":"3.922.0","@aws-sdk/middleware-recursion-detection":"3.922.0","@aws-sdk/middleware-user-agent":"3.928.0","@aws-sdk/region-config-resolver":"3.925.0","@aws-sdk/types":"3.922.0","@aws-sdk/util-endpoints":"3.922.0","@aws-sdk/util-user-agent-browser":"3.922.0","@aws-sdk/util-user-agent-node":"3.928.0","@smithy/config-resolver":"^4.4.2","@smithy/core":"^3.17.2","@smithy/fetch-http-handler":"^5.3.5","@smithy/hash-node":"^4.2.4","@smithy/invalid-dependency":"^4.2.4","@smithy/middleware-content-length":"^4.2.4","@smithy/middleware-endpoint":"^4.3.6","@smithy/middleware-retry":"^4.4.6","@smithy/middleware-serde":"^4.2.4","@smithy/middleware-stack":"^4.2.4","@smithy/node-config-provider":"^4.3.4","@smithy/node-http-handler":"^4.4.4","@smithy/protocol-http":"^5.3.4","@smithy/smithy-client":"^4.9.2","@smithy/types":"^4.8.1","@smithy/url-parser":"^4.2.4","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.5","@smithy/util-defaults-mode-node":"^4.2.8","@smithy/util-endpoints":"^3.2.4","@smithy/util-middleware":"^4.2.4","@smithy/util-retry":"^4.2.4","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var EC=v(uu=>{"use strict";c();Object.defineProperty(uu,"__esModule",{value:!0});uu.fromBase64=void 0;var Hq=ze(),zq=/^[A-Za-z0-9+/]*={0,2}$/,Vq=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!zq.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Hq.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};uu.fromBase64=Vq});var SC=v(du=>{"use strict";c();Object.defineProperty(du,"__esModule",{value:!0});du.toBase64=void 0;var Wq=ze(),Kq=Ce(),Yq=e=>{let t;if(typeof e=="string"?t=(0,Kq.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Wq.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};du.toBase64=Yq});var TC=v(Vi=>{"use strict";c();var bC=EC(),_C=SC();Object.keys(bC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Vi,e)&&Object.defineProperty(Vi,e,{enumerable:!0,get:function(){return bC[e]}})});Object.keys(_C).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Vi,e)&&Object.defineProperty(Vi,e,{enumerable:!0,get:function(){return _C[e]}})})});var UC=v(pu=>{"use strict";c();Object.defineProperty(pu,"__esModule",{value:!0});pu.ruleSet=void 0;var OC="required",Mt="fn",kt="argv",ss="ref",wC=!0,IC="isSet",Wi="booleanEquals",ns="error",os="endpoint",Br="tree",Mg="PartitionResult",kg="getAttr",AC={[OC]:!1,type:"string"},xC={[OC]:!0,default:!1,type:"boolean"},CC={[ss]:"Endpoint"},LC={[Mt]:Wi,[kt]:[{[ss]:"UseFIPS"},!0]},MC={[Mt]:Wi,[kt]:[{[ss]:"UseDualStack"},!0]},Lt={},vC={[Mt]:kg,[kt]:[{[ss]:Mg},"supportsFIPS"]},kC={[ss]:Mg},RC={[Mt]:Wi,[kt]:[!0,{[Mt]:kg,[kt]:[kC,"supportsDualStack"]}]},PC=[LC],DC=[MC],NC=[{[ss]:"Region"}],Xq={version:"1.0",parameters:{Region:AC,UseDualStack:xC,UseFIPS:xC,Endpoint:AC},rules:[{conditions:[{[Mt]:IC,[kt]:[CC]}],rules:[{conditions:PC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ns},{conditions:DC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ns},{endpoint:{url:CC,properties:Lt,headers:Lt},type:os}],type:Br},{conditions:[{[Mt]:IC,[kt]:NC}],rules:[{conditions:[{[Mt]:"aws.partition",[kt]:NC,assign:Mg}],rules:[{conditions:[LC,MC],rules:[{conditions:[{[Mt]:Wi,[kt]:[wC,vC]},RC],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Lt,headers:Lt},type:os}],type:Br},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ns}],type:Br},{conditions:PC,rules:[{conditions:[{[Mt]:Wi,[kt]:[vC,wC]}],rules:[{conditions:[{[Mt]:"stringEquals",[kt]:[{[Mt]:kg,[kt]:[kC,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Lt,headers:Lt},type:os},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Lt,headers:Lt},type:os}],type:Br},{error:"FIPS is enabled but this partition does not support FIPS",type:ns}],type:Br},{conditions:DC,rules:[{conditions:[RC],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Lt,headers:Lt},type:os}],type:Br},{error:"DualStack is enabled but this partition does not support DualStack",type:ns}],type:Br},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Lt,headers:Lt},type:os}],type:Br}],type:Br},{error:"Invalid Configuration: Missing Region",type:ns}]};pu.ruleSet=Xq});var BC=v(fu=>{"use strict";c();Object.defineProperty(fu,"__esModule",{value:!0});fu.defaultEndpointResolver=void 0;var Qq=Po(),Ug=no(),Jq=UC(),Zq=new Ug.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),eH=(e,t={})=>Zq.get(e,()=>(0,Ug.resolveEndpoint)(Jq.ruleSet,{endpointParams:e,logger:t.logger}));fu.defaultEndpointResolver=eH;Ug.customEndpointFunctions.aws=Qq.awsEndpointFunctions});var GC=v(mu=>{"use strict";c();Object.defineProperty(mu,"__esModule",{value:!0});mu.getRuntimeConfig=void 0;var tH=(We(),ae(nr)),rH=(lt(),ae(to)),nH=te(),oH=sn(),FC=TC(),$C=Ce(),sH=Lg(),iH=BC(),aH=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??FC.fromBase64,base64Encoder:e?.base64Encoder??FC.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??iH.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??sH.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new tH.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new rH.NoAuthSigner}],logger:e?.logger??new nH.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??oH.parseUrl,utf8Decoder:e?.utf8Decoder??$C.fromUtf8,utf8Encoder:e?.utf8Encoder??$C.toUtf8});mu.getRuntimeConfig=aH});var VC=v(gu=>{"use strict";c();Object.defineProperty(gu,"__esModule",{value:!0});gu.getRuntimeConfig=void 0;var cH=(ei(),ae(Zs)),lH=cH.__importDefault(yC()),jC=(We(),ae(nr)),qC=Ii(),hu=Pt(),uH=Ai(),HC=kr(),mo=Lr(),zC=Wn(),dH=xi(),pH=Yo(),fH=GC(),mH=te(),hH=Ri(),gH=te(),yH=e=>{(0,gH.emitWarningIfUnsupportedVersion)(process.version);let t=(0,hH.resolveDefaultsModeConfig)(e),r=()=>t().then(mH.loadConfigsForDefaultMode),n=(0,fH.getRuntimeConfig)(e);(0,jC.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,mo.loadConfig)(jC.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??dH.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,qC.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:lH.default.version}),maxAttempts:e?.maxAttempts??(0,mo.loadConfig)(HC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,mo.loadConfig)(hu.NODE_REGION_CONFIG_OPTIONS,{...hu.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:zC.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,mo.loadConfig)({...HC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||pH.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??uH.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??zC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,mo.loadConfig)(hu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,mo.loadConfig)(hu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,mo.loadConfig)(qC.NODE_APP_ID_CONFIG_OPTIONS,o)}};gu.getRuntimeConfig=yH});var dv=v(Ne=>{"use strict";c();var WC=Ms(),EH=ks(),SH=Us(),KC=Vo(),bH=Pt(),Fr=(lt(),ae(to)),_H=gi(),Qi=Tn(),YC=kr(),k=te(),XC=Lg(),TH=VC(),QC=rs(),JC=_e(),Iu=Vn(),Ki=(We(),ae(nr)),wH=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Au={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},IH=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},AH=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),xH=(e,t)=>{let r=Object.assign(QC.getAwsRegionExtensionConfiguration(e),k.getDefaultExtensionConfiguration(e),JC.getHttpHandlerExtensionConfiguration(e),IH(e));return t.forEach(n=>n.configure(r)),Object.assign(e,QC.resolveAwsRegionExtensionConfiguration(r),k.resolveDefaultRuntimeConfig(r),JC.resolveHttpHandlerRuntimeConfig(r),AH(r))},is=class extends k.Client{config;constructor(...[t]){let r=TH.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=wH(r),o=KC.resolveUserAgentConfig(n),s=YC.resolveRetryConfig(o),i=bH.resolveRegionConfig(s),a=WC.resolveHostHeaderConfig(i),l=Qi.resolveEndpointConfig(a),u=XC.resolveHttpAuthSchemeConfig(l),m=xH(u,t?.extensions||[]);this.config=m,this.middlewareStack.use(KC.getUserAgentPlugin(this.config)),this.middlewareStack.use(YC.getRetryPlugin(this.config)),this.middlewareStack.use(_H.getContentLengthPlugin(this.config)),this.middlewareStack.use(WC.getHostHeaderPlugin(this.config)),this.middlewareStack.use(EH.getLoggerPlugin(this.config)),this.middlewareStack.use(SH.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Fr.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:XC.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new Fr.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(Fr.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Pn=class e extends k.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},yu=class e extends Pn{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Eu=class e extends Pn{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Su=class e extends Pn{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bu=class e extends Pn{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ZC=e=>({...e,...e.accessToken&&{accessToken:k.SENSITIVE_STRING}}),ev=e=>({...e,...e.secretAccessKey&&{secretAccessKey:k.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:k.SENSITIVE_STRING}}),tv=e=>({...e,...e.roleCredentials&&{roleCredentials:ev(e.roleCredentials)}}),rv=e=>({...e,...e.accessToken&&{accessToken:k.SENSITIVE_STRING}}),nv=e=>({...e,...e.accessToken&&{accessToken:k.SENSITIVE_STRING}}),ov=e=>({...e,...e.accessToken&&{accessToken:k.SENSITIVE_STRING}}),CH=async(e,t)=>{let r=Fr.requestBuilder(e,t),n=k.map({},k.isSerializableHeaderValue,{[vu]:e[Cu]});r.bp("/federation/credentials");let o=k.map({[GH]:[,k.expectNonNull(e[$H],"roleName")],[iv]:[,k.expectNonNull(e[sv],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},vH=async(e,t)=>{let r=Fr.requestBuilder(e,t),n=k.map({},k.isSerializableHeaderValue,{[vu]:e[Cu]});r.bp("/assignment/roles");let o=k.map({[uv]:[,e[lv]],[cv]:[()=>e.maxResults!==void 0,()=>e[av].toString()],[iv]:[,k.expectNonNull(e[sv],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},RH=async(e,t)=>{let r=Fr.requestBuilder(e,t),n=k.map({},k.isSerializableHeaderValue,{[vu]:e[Cu]});r.bp("/assignment/accounts");let o=k.map({[uv]:[,e[lv]],[cv]:[()=>e.maxResults!==void 0,()=>e[av].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},PH=async(e,t)=>{let r=Fr.requestBuilder(e,t),n=k.map({},k.isSerializableHeaderValue,{[vu]:e[Cu]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},DH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return xu(e,t);let r=k.map({$metadata:Dn(e)}),n=k.expectNonNull(k.expectObject(await Ki.parseJsonBody(e.body,t)),"body"),o=k.take(n,{roleCredentials:k._json});return Object.assign(r,o),r},NH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return xu(e,t);let r=k.map({$metadata:Dn(e)}),n=k.expectNonNull(k.expectObject(await Ki.parseJsonBody(e.body,t)),"body"),o=k.take(n,{nextToken:k.expectString,roleList:k._json});return Object.assign(r,o),r},OH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return xu(e,t);let r=k.map({$metadata:Dn(e)}),n=k.expectNonNull(k.expectObject(await Ki.parseJsonBody(e.body,t)),"body"),o=k.take(n,{accountList:k._json,nextToken:k.expectString});return Object.assign(r,o),r},LH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return xu(e,t);let r=k.map({$metadata:Dn(e)});return await k.collectBody(e.body,t),r},xu=async(e,t)=>{let r={...e,body:await Ki.parseJsonErrorBody(e.body,t)},n=Ki.loadRestJsonErrorCode(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await kH(r);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await UH(r);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await BH(r);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await FH(r);default:let o=r.body;return MH({output:e,parsedBody:o,errorCode:n})}},MH=k.withBaseException(Pn),kH=async(e,t)=>{let r=k.map({}),n=e.body,o=k.take(n,{message:k.expectString});Object.assign(r,o);let s=new yu({$metadata:Dn(e),...r});return k.decorateServiceException(s,e.body)},UH=async(e,t)=>{let r=k.map({}),n=e.body,o=k.take(n,{message:k.expectString});Object.assign(r,o);let s=new Eu({$metadata:Dn(e),...r});return k.decorateServiceException(s,e.body)},BH=async(e,t)=>{let r=k.map({}),n=e.body,o=k.take(n,{message:k.expectString});Object.assign(r,o);let s=new Su({$metadata:Dn(e),...r});return k.decorateServiceException(s,e.body)},FH=async(e,t)=>{let r=k.map({}),n=e.body,o=k.take(n,{message:k.expectString});Object.assign(r,o);let s=new bu({$metadata:Dn(e),...r});return k.decorateServiceException(s,e.body)},Dn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),sv="accountId",Cu="accessToken",iv="account_id",av="maxResults",cv="max_result",lv="nextToken",uv="next_token",$H="roleName",GH="role_name",vu="x-amz-sso_bearer_token",_u=class extends k.Command.classBuilder().ep(Au).m(function(t,r,n,o){return[Iu.getSerdePlugin(n,this.serialize,this.deserialize),Qi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(ZC,tv).ser(CH).de(DH).build(){},Yi=class extends k.Command.classBuilder().ep(Au).m(function(t,r,n,o){return[Iu.getSerdePlugin(n,this.serialize,this.deserialize),Qi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(rv,void 0).ser(vH).de(NH).build(){},Xi=class extends k.Command.classBuilder().ep(Au).m(function(t,r,n,o){return[Iu.getSerdePlugin(n,this.serialize,this.deserialize),Qi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(nv,void 0).ser(RH).de(OH).build(){},Tu=class extends k.Command.classBuilder().ep(Au).m(function(t,r,n,o){return[Iu.getSerdePlugin(n,this.serialize,this.deserialize),Qi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(ov,void 0).ser(PH).de(LH).build(){},jH={GetRoleCredentialsCommand:_u,ListAccountRolesCommand:Yi,ListAccountsCommand:Xi,LogoutCommand:Tu},wu=class extends is{};k.createAggregatedClient(jH,wu);var qH=Fr.createPaginator(is,Yi,"nextToken","nextToken","maxResults"),HH=Fr.createPaginator(is,Xi,"nextToken","nextToken","maxResults");Object.defineProperty(Ne,"$Command",{enumerable:!0,get:function(){return k.Command}});Object.defineProperty(Ne,"__Client",{enumerable:!0,get:function(){return k.Client}});Ne.GetRoleCredentialsCommand=_u;Ne.GetRoleCredentialsRequestFilterSensitiveLog=ZC;Ne.GetRoleCredentialsResponseFilterSensitiveLog=tv;Ne.InvalidRequestException=yu;Ne.ListAccountRolesCommand=Yi;Ne.ListAccountRolesRequestFilterSensitiveLog=rv;Ne.ListAccountsCommand=Xi;Ne.ListAccountsRequestFilterSensitiveLog=nv;Ne.LogoutCommand=Tu;Ne.LogoutRequestFilterSensitiveLog=ov;Ne.ResourceNotFoundException=Eu;Ne.RoleCredentialsFilterSensitiveLog=ev;Ne.SSO=wu;Ne.SSOClient=is;Ne.SSOServiceException=Pn;Ne.TooManyRequestsException=Su;Ne.UnauthorizedException=bu;Ne.paginateListAccountRoles=qH;Ne.paginateListAccounts=HH});var fv=v(Bg=>{"use strict";c();var pv=dv();Object.defineProperty(Bg,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return pv.GetRoleCredentialsCommand}});Object.defineProperty(Bg,"SSOClient",{enumerable:!0,get:function(){return pv.SSOClient}})});var Fg=v(Pu=>{"use strict";c();var Ht=ut(),Ru=Or(),mv=(qt(),ae(cn)),zH=gC(),gv=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),Ji=!1,hv=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:l,filepath:u,configFilepath:m,ignoreCache:h,logger:y})=>{let g,S="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Me=await zH.fromSso({profile:l,filepath:u,configFilepath:m,ignoreCache:h})();g={accessToken:Me.token,expiresAt:new Date(Me.expiration).toISOString()}}catch(Me){throw new Ht.CredentialsProviderError(Me.message,{tryNextLink:Ji,logger:y})}else try{g=await Ru.getSSOTokenFromFile(e)}catch{throw new Ht.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${S}`,{tryNextLink:Ji,logger:y})}if(new Date(g.expiresAt).getTime()-Date.now()<=0)throw new Ht.CredentialsProviderError(`The SSO session associated with this profile has expired. ${S}`,{tryNextLink:Ji,logger:y});let{accessToken:x}=g,{SSOClient:R,GetRoleCredentialsCommand:P}=await Promise.resolve().then(function(){return fv()}),O=s||new R(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n,userAgentAppId:i?.userAgentAppId??a?.userAgentAppId})),z;try{z=await O.send(new P({accountId:r,roleName:o,accessToken:x}))}catch(Me){throw new Ht.CredentialsProviderError(Me,{tryNextLink:Ji,logger:y})}let{roleCredentials:{accessKeyId:W,secretAccessKey:Z,sessionToken:we,expiration:Le,credentialScope:ne,accountId:ue}={}}=z;if(!W||!Z||!we||!Le)throw new Ht.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Ji,logger:y});let be={accessKeyId:W,secretAccessKey:Z,sessionToken:we,expiration:new Date(Le),...ne&&{credentialScope:ne},...ue&&{accountId:ue}};return t?mv.setCredentialFeature(be,"CREDENTIALS_SSO","s"):mv.setCredentialFeature(be,"CREDENTIALS_SSO_LEGACY","u"),be},yv=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new Ht.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},VH=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,l=Ru.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let m=(await Ru.parseKnownFiles(e))[l];if(!m)throw new Ht.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!gv(m))throw new Ht.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(m?.sso_session){let P=(await Ru.loadSsoSessionData(e))[m.sso_session],O=` configurations in profile ${l} and sso-session ${m.sso_session}`;if(o&&o!==P.sso_region)throw new Ht.CredentialsProviderError("Conflicting SSO region"+O,{tryNextLink:!1,logger:e.logger});if(r&&r!==P.sso_start_url)throw new Ht.CredentialsProviderError("Conflicting SSO start_url"+O,{tryNextLink:!1,logger:e.logger});m.sso_region=P.sso_region,m.sso_start_url=P.sso_start_url}let{sso_start_url:h,sso_account_id:y,sso_region:g,sso_role_name:S,sso_session:x}=yv(m,e.logger);return hv({ssoStartUrl:h,ssoSession:x,ssoAccountId:y,ssoRegion:g,ssoRoleName:S,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!o||!s)throw new Ht.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return hv({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Pu.fromSSO=VH;Pu.isSsoProfile=gv;Pu.validateSsoProfile=yv});function WH(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function KH(e){return{schemeId:"smithy.api#noAuth"}}var Zi,Ev,Sv,YH,bv,$g=w(()=>{c();We();Zi=A(st());ea();Ev=async(e,t,r)=>({operation:(0,Zi.getSmithyContext)(t).operation,region:await(0,Zi.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Sv=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(KH(e));break}default:t.push(WH(e))}return t},YH=e=>Object.assign(e,{stsClientCtor:ar}),bv=e=>{let t=YH(e),r=io(t);return Object.assign(r,{authSchemePreference:(0,Zi.normalizeProvider)(e.authSchemePreference??[])})}});var _v,Du,Nu=w(()=>{c();_v=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Du={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Nv,J,he,Nn,Xe,Ov,Lv,Ae,Tv,cr,as,jg,wv,Gg,Mv,Iv,Qe,Av,kv,Uv,rt,At,xv,Bv,Fv,Cv,$v,vv,Rv,Pv,Dv,XH,Gv,jv=w(()=>{c();Nv="required",J="type",he="argv",Nn="booleanEquals",Xe="stringEquals",Ov="sigv4",Lv="us-east-1",Ae="endpoint",Tv="https://sts.{Region}.{PartitionResult#dnsSuffix}",cr="tree",as="error",jg="getAttr",wv={[Nv]:!1,[J]:"string"},Gg={[Nv]:!0,default:!1,[J]:"boolean"},Mv={ref:"Endpoint"},Iv={fn:"isSet",[he]:[{ref:"Region"}]},Qe={ref:"Region"},Av={fn:"aws.partition",[he]:[Qe],assign:"PartitionResult"},kv={ref:"UseFIPS"},Uv={ref:"UseDualStack"},rt={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Ov,signingName:"sts",signingRegion:Lv}]},headers:{}},At={},xv={conditions:[{fn:Xe,[he]:[Qe,"aws-global"]}],[Ae]:rt,[J]:Ae},Bv={fn:Nn,[he]:[kv,!0]},Fv={fn:Nn,[he]:[Uv,!0]},Cv={fn:jg,[he]:[{ref:"PartitionResult"},"supportsFIPS"]},$v={ref:"PartitionResult"},vv={fn:Nn,[he]:[!0,{fn:jg,[he]:[$v,"supportsDualStack"]}]},Rv=[{fn:"isSet",[he]:[Mv]}],Pv=[Bv],Dv=[Fv],XH={version:"1.0",parameters:{Region:wv,UseDualStack:Gg,UseFIPS:Gg,Endpoint:wv,UseGlobalEndpoint:Gg},rules:[{conditions:[{fn:Nn,[he]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[he]:Rv},Iv,Av,{fn:Nn,[he]:[kv,!1]},{fn:Nn,[he]:[Uv,!1]}],rules:[{conditions:[{fn:Xe,[he]:[Qe,"ap-northeast-1"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"ap-south-1"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"ap-southeast-1"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"ap-southeast-2"]}],endpoint:rt,[J]:Ae},xv,{conditions:[{fn:Xe,[he]:[Qe,"ca-central-1"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"eu-central-1"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"eu-north-1"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"eu-west-1"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"eu-west-2"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"eu-west-3"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"sa-east-1"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,Lv]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"us-east-2"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"us-west-1"]}],endpoint:rt,[J]:Ae},{conditions:[{fn:Xe,[he]:[Qe,"us-west-2"]}],endpoint:rt,[J]:Ae},{endpoint:{url:Tv,properties:{authSchemes:[{name:Ov,signingName:"sts",signingRegion:"{Region}"}]},headers:At},[J]:Ae}],[J]:cr},{conditions:Rv,rules:[{conditions:Pv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[J]:as},{conditions:Dv,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[J]:as},{endpoint:{url:Mv,properties:At,headers:At},[J]:Ae}],[J]:cr},{conditions:[Iv],rules:[{conditions:[Av],rules:[{conditions:[Bv,Fv],rules:[{conditions:[{fn:Nn,[he]:[!0,Cv]},vv],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},[J]:Ae}],[J]:cr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[J]:as}],[J]:cr},{conditions:Pv,rules:[{conditions:[{fn:Nn,[he]:[Cv,!0]}],rules:[{conditions:[{fn:Xe,[he]:[{fn:jg,[he]:[$v,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:At,headers:At},[J]:Ae},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},[J]:Ae}],[J]:cr},{error:"FIPS is enabled but this partition does not support FIPS",[J]:as}],[J]:cr},{conditions:Dv,rules:[{conditions:[vv],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},[J]:Ae}],[J]:cr},{error:"DualStack is enabled but this partition does not support DualStack",[J]:as}],[J]:cr},xv,{endpoint:{url:Tv,properties:At,headers:At},[J]:Ae}],[J]:cr}],[J]:cr},{error:"Invalid Configuration: Missing Region",[J]:as}]},Gv=XH});var qv,cs,QH,Hv,zv=w(()=>{c();qv=A(Po()),cs=A(no());jv();QH=new cs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),Hv=(e,t={})=>QH.get(e,()=>(0,cs.resolveEndpoint)(Gv,{endpointParams:e,logger:t.logger}));cs.customEndpointFunctions.aws=qv.awsEndpointFunctions});var Vv,Wv,Ou,Lu,Kv,Yv=w(()=>{c();We();lt();Vv=A(te()),Wv=A(sn()),Ou=A(_g()),Lu=A(Ce());$g();zv();Kv=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Ou.fromBase64,base64Encoder:e?.base64Encoder??Ou.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Hv,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Sv,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new yt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Cr}],logger:e?.logger??new Vv.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??Wv.parseUrl,utf8Decoder:e?.utf8Decoder??Lu.fromUtf8,utf8Encoder:e?.utf8Encoder??Lu.toUtf8})});var Mu,Ln,Xv,ku,On,Uu,Qv,Jv,Zv,eR,tR,rR,nR=w(()=>{c();gg();We();Mu=A(Ii()),Ln=A(Pt());lt();Xv=A(Ai()),ku=A(kr()),On=A(Lr()),Uu=A(Wn()),Qv=A(xi()),Jv=A(Yo());Yv();Zv=A(te()),eR=A(Ri()),tR=A(te()),rR=e=>{(0,tR.emitWarningIfUnsupportedVersion)(process.version);let t=(0,eR.resolveDefaultsModeConfig)(e),r=()=>t().then(Zv.loadConfigsForDefaultMode),n=Kv(e);Do(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,On.loadConfig)(Lo,o),bodyLengthChecker:e?.bodyLengthChecker??Qv.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Mu.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Vl.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new yt},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Cr}],maxAttempts:e?.maxAttempts??(0,On.loadConfig)(ku.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,On.loadConfig)(Ln.NODE_REGION_CONFIG_OPTIONS,{...Ln.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Uu.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,On.loadConfig)({...ku.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Jv.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Xv.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Uu.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,On.loadConfig)(Ln.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,On.loadConfig)(Ln.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,On.loadConfig)(Mu.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var oR,sR,iR=w(()=>{c();oR=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},sR=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Bu,Fu,$u,aR,cR=w(()=>{c();Bu=A(rs()),Fu=A(_e()),$u=A(te());iR();aR=(e,t)=>{let r=Object.assign((0,Bu.getAwsRegionExtensionConfiguration)(e),(0,$u.getDefaultExtensionConfiguration)(e),(0,Fu.getHttpHandlerExtensionConfiguration)(e),oR(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Bu.resolveAwsRegionExtensionConfiguration)(r),(0,$u.resolveDefaultRuntimeConfig)(r),(0,Fu.resolveHttpHandlerRuntimeConfig)(r),sR(r))}});var Gu,lR,uR,ju,dR,pR,fR,qu,qg,ar,ea=w(()=>{c();Gu=A(Ms()),lR=A(ks()),uR=A(Us()),ju=A(Vo()),dR=A(Pt());lt();pR=A(gi()),fR=A(Tn()),qu=A(kr()),qg=A(te());$g();Nu();nR();cR();ar=class extends qg.Client{config;constructor(...[t]){let r=rR(t||{});super(r),this.initConfig=r;let n=_v(r),o=(0,ju.resolveUserAgentConfig)(n),s=(0,qu.resolveRetryConfig)(o),i=(0,dR.resolveRegionConfig)(s),a=(0,Gu.resolveHostHeaderConfig)(i),l=(0,fR.resolveEndpointConfig)(a),u=bv(l),m=aR(u,t?.extensions||[]);this.config=m,this.middlewareStack.use((0,ju.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,qu.getRetryPlugin)(this.config)),this.middlewareStack.use((0,pR.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Gu.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,lR.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,uR.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Fs(this.config,{httpAuthSchemeParametersProvider:Ev,identityProviderConfigProvider:async h=>new eo({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use($s(this.config))}destroy(){super.destroy()}}});var mR,Et,Hu=w(()=>{c();mR=A(te()),Et=class e extends mR.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Hg,zg,Vg,ta,ra,na,oa,sa,ia,Wg,Kg,aa,ca=w(()=>{c();Hg=A(te());Hu();zg=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Hg.SENSITIVE_STRING}}),Vg=e=>({...e,...e.Credentials&&{Credentials:zg(e.Credentials)}}),ta=class e extends Et{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ra=class e extends Et{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},na=class e extends Et{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},oa=class e extends Et{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sa=class e extends Et{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ia=class e extends Et{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Wg=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Hg.SENSITIVE_STRING}}),Kg=e=>({...e,...e.Credentials&&{Credentials:zg(e.Credentials)}}),aa=class e extends Et{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var hR,re,gR,yR,ER,SR,bR,JH,ZH,e3,t3,r3,n3,o3,s3,i3,_R,a3,c3,l3,u3,d3,p3,TR,f3,m3,wR,h3,g3,y3,E3,S3,b3,_3,Gr,T3,IR,AR,xR,CR,Yg,w3,Xg,ls,I3,Qg,Jg,us,Zg,ds,ey,ty,ry,ps,fs,ny,oy,sy,ms,iy,hs,gs,ay,cy,$r,ly,uy,dy,py,fy,vR,my,hy,gy,Ue,RR,A3,yy=w(()=>{c();We();hR=A(_e()),re=A(te());ca();Hu();gR=async(e,t)=>{let r=AR,n;return n=RR({...s3(e,t),[CR]:w3,[vR]:xR}),IR(t,r,"/",void 0,n)},yR=async(e,t)=>{let r=AR,n;return n=RR({...i3(e,t),[CR]:I3,[vR]:xR}),IR(t,r,"/",void 0,n)},ER=async(e,t)=>{if(e.statusCode>=300)return bR(e,t);let r=await jo(e.body,t),n={};return n=f3(r.AssumeRoleResult,t),{$metadata:Gr(e),...n}},SR=async(e,t)=>{if(e.statusCode>=300)return bR(e,t);let r=await jo(e.body,t),n={};return n=m3(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Gr(e),...n}},bR=async(e,t)=>{let r={...e,body:await Tl(e.body,t)},n=A3(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await JH(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await r3(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await n3(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await o3(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await ZH(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await e3(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await t3(r,t);default:let o=r.body;return T3({output:e,parsedBody:o.Error,errorCode:n})}},JH=async(e,t)=>{let r=e.body,n=h3(r.Error,t),o=new ta({$metadata:Gr(e),...n});return(0,re.decorateServiceException)(o,r)},ZH=async(e,t)=>{let r=e.body,n=g3(r.Error,t),o=new aa({$metadata:Gr(e),...n});return(0,re.decorateServiceException)(o,r)},e3=async(e,t)=>{let r=e.body,n=y3(r.Error,t),o=new sa({$metadata:Gr(e),...n});return(0,re.decorateServiceException)(o,r)},t3=async(e,t)=>{let r=e.body,n=E3(r.Error,t),o=new ia({$metadata:Gr(e),...n});return(0,re.decorateServiceException)(o,r)},r3=async(e,t)=>{let r=e.body,n=S3(r.Error,t),o=new ra({$metadata:Gr(e),...n});return(0,re.decorateServiceException)(o,r)},n3=async(e,t)=>{let r=e.body,n=b3(r.Error,t),o=new na({$metadata:Gr(e),...n});return(0,re.decorateServiceException)(o,r)},o3=async(e,t)=>{let r=e.body,n=_3(r.Error,t),o=new oa({$metadata:Gr(e),...n});return(0,re.decorateServiceException)(o,r)},s3=(e,t)=>{let r={};if(e[hs]!=null&&(r[hs]=e[hs]),e[gs]!=null&&(r[gs]=e[gs]),e[fs]!=null){let n=_R(e[fs],t);e[fs]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[ps]!=null&&(r[ps]=e[ps]),e[ds]!=null&&(r[ds]=e[ds]),e[dy]!=null){let n=p3(e[dy],t);e[dy]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[fy]!=null){let n=d3(e[fy],t);e[fy]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[ty]!=null&&(r[ty]=e[ty]),e[ly]!=null&&(r[ly]=e[ly]),e[py]!=null&&(r[py]=e[py]),e[$r]!=null&&(r[$r]=e[$r]),e[oy]!=null){let n=l3(e[oy],t);e[oy]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},i3=(e,t)=>{let r={};if(e[hs]!=null&&(r[hs]=e[hs]),e[gs]!=null&&(r[gs]=e[gs]),e[hy]!=null&&(r[hy]=e[hy]),e[sy]!=null&&(r[sy]=e[sy]),e[fs]!=null){let n=_R(e[fs],t);e[fs]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[ps]!=null&&(r[ps]=e[ps]),e[ds]!=null&&(r[ds]=e[ds]),r},_R=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=a3(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},a3=(e,t)=>{let r={};return e[gy]!=null&&(r[gy]=e[gy]),r},c3=(e,t)=>{let r={};return e[ny]!=null&&(r[ny]=e[ny]),e[Zg]!=null&&(r[Zg]=e[Zg]),r},l3=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=c3(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},u3=(e,t)=>{let r={};return e[ry]!=null&&(r[ry]=e[ry]),e[my]!=null&&(r[my]=e[my]),r},d3=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},p3=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=u3(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},TR=(e,t)=>{let r={};return e[Xg]!=null&&(r[Xg]=(0,re.expectString)(e[Xg])),e[Qg]!=null&&(r[Qg]=(0,re.expectString)(e[Qg])),r},f3=(e,t)=>{let r={};return e[us]!=null&&(r[us]=wR(e[us],t)),e[ls]!=null&&(r[ls]=TR(e[ls],t)),e[ms]!=null&&(r[ms]=(0,re.strictParseInt32)(e[ms])),e[$r]!=null&&(r[$r]=(0,re.expectString)(e[$r])),r},m3=(e,t)=>{let r={};return e[us]!=null&&(r[us]=wR(e[us],t)),e[cy]!=null&&(r[cy]=(0,re.expectString)(e[cy])),e[ls]!=null&&(r[ls]=TR(e[ls],t)),e[ms]!=null&&(r[ms]=(0,re.strictParseInt32)(e[ms])),e[iy]!=null&&(r[iy]=(0,re.expectString)(e[iy])),e[Jg]!=null&&(r[Jg]=(0,re.expectString)(e[Jg])),e[$r]!=null&&(r[$r]=(0,re.expectString)(e[$r])),r},wR=(e,t)=>{let r={};return e[Yg]!=null&&(r[Yg]=(0,re.expectString)(e[Yg])),e[ay]!=null&&(r[ay]=(0,re.expectString)(e[ay])),e[uy]!=null&&(r[uy]=(0,re.expectString)(e[uy])),e[ey]!=null&&(r[ey]=(0,re.expectNonNull)((0,re.parseRfc3339DateTimeWithOffset)(e[ey]))),r},h3=(e,t)=>{let r={};return e[Ue]!=null&&(r[Ue]=(0,re.expectString)(e[Ue])),r},g3=(e,t)=>{let r={};return e[Ue]!=null&&(r[Ue]=(0,re.expectString)(e[Ue])),r},y3=(e,t)=>{let r={};return e[Ue]!=null&&(r[Ue]=(0,re.expectString)(e[Ue])),r},E3=(e,t)=>{let r={};return e[Ue]!=null&&(r[Ue]=(0,re.expectString)(e[Ue])),r},S3=(e,t)=>{let r={};return e[Ue]!=null&&(r[Ue]=(0,re.expectString)(e[Ue])),r},b3=(e,t)=>{let r={};return e[Ue]!=null&&(r[Ue]=(0,re.expectString)(e[Ue])),r},_3=(e,t)=>{let r={};return e[Ue]!=null&&(r[Ue]=(0,re.expectString)(e[Ue])),r},Gr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),T3=(0,re.withBaseException)(Et),IR=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:l}=await e.endpoint(),u={protocol:i,hostname:s,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+r:l+r,headers:t};return n!==void 0&&(u.hostname=n),o!==void 0&&(u.body=o),new hR.HttpRequest(u)},AR={"content-type":"application/x-www-form-urlencoded"},xR="2011-06-15",CR="Action",Yg="AccessKeyId",w3="AssumeRole",Xg="AssumedRoleId",ls="AssumedRoleUser",I3="AssumeRoleWithWebIdentity",Qg="Arn",Jg="Audience",us="Credentials",Zg="ContextAssertion",ds="DurationSeconds",ey="Expiration",ty="ExternalId",ry="Key",ps="Policy",fs="PolicyArns",ny="ProviderArn",oy="ProvidedContexts",sy="ProviderId",ms="PackedPolicySize",iy="Provider",hs="RoleArn",gs="RoleSessionName",ay="SecretAccessKey",cy="SubjectFromWebIdentityToken",$r="SourceIdentity",ly="SerialNumber",uy="SessionToken",dy="Tags",py="TokenCode",fy="TransitiveTagKeys",vR="Version",my="Value",hy="WebIdentityToken",gy="arn",Ue="message",RR=e=>Object.entries(e).map(([t,r])=>(0,re.extendedEncodeURIComponent)(t)+"="+(0,re.extendedEncodeURIComponent)(r)).join("&"),A3=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var PR,DR,NR,ho,zu=w(()=>{c();PR=A(Tn()),DR=A(Vn()),NR=A(te());Nu();ca();yy();ho=class extends NR.Command.classBuilder().ep(Du).m(function(t,r,n,o){return[(0,DR.getSerdePlugin)(n,this.serialize,this.deserialize),(0,PR.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Vg).ser(gR).de(ER).build(){}});var OR,LR,MR,go,Vu=w(()=>{c();OR=A(Tn()),LR=A(Vn()),MR=A(te());Nu();ca();yy();go=class extends MR.Command.classBuilder().ep(Du).m(function(t,r,n,o){return[(0,LR.getSerdePlugin)(n,this.serialize,this.deserialize),(0,OR.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Wg,Kg).ser(yR).de(SR).build(){}});var kR,x3,Wu,UR=w(()=>{c();kR=A(te());zu();Vu();ea();x3={AssumeRoleCommand:ho,AssumeRoleWithWebIdentityCommand:go},Wu=class extends ar{};(0,kR.createAggregatedClient)(x3,Wu)});var BR=w(()=>{c();zu();Vu()});var FR=w(()=>{c();ca()});var $R,GR,jR,qR,HR,zR,VR=w(()=>{c();qt();$R=A(rs());zu();Vu();GR=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},jR=async(e,t,r,n={})=>{let o=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t,i=await(0,$R.stsRegionDefaultResolver)(n)();return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),o??s??i},qR=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:m=e?.parentClientConfig?.logger,profile:h=e?.parentClientConfig?.profile,region:y,requestHandler:g=e?.parentClientConfig?.requestHandler,credentialProviderLogger:S,userAgentAppId:x=e?.parentClientConfig?.userAgentAppId}=e,R=await jR(y,e?.parentClientConfig?.region,S,{logger:m,profile:h}),P=!zR(g);r=new t({...e,userAgentAppId:x,profile:h,credentialDefaultProvider:()=>async()=>n,region:R,requestHandler:P?g:void 0,logger:m})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new ho(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let l=GR(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return an(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},HR=(e,t)=>{let r;return async n=>{if(!r){let{logger:l=e?.parentClientConfig?.logger,profile:u=e?.parentClientConfig?.profile,region:m,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y,userAgentAppId:g=e?.parentClientConfig?.userAgentAppId}=e,S=await jR(m,e?.parentClientConfig?.region,y,{logger:l,profile:u}),x=!zR(h);r=new t({...e,userAgentAppId:g,profile:u,region:S,requestHandler:x?h:void 0,logger:l})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new go(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=GR(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&an(a,"RESOLVED_ACCOUNT_ID","T"),an(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},zR=e=>e?.metadata?.handlerProtocol==="h2"});var WR,KR,YR,C3,XR=w(()=>{c();VR();ea();WR=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,KR=(e={},t)=>qR(e,WR(ar,t)),YR=(e={},t)=>HR(e,WR(ar,t)),C3=e=>t=>e({roleAssumer:KR(t),roleAssumerWithWebIdentity:YR(t),...t})});var Ey={};mt(Ey,{AssumeRoleCommand:()=>ho,AssumeRoleResponseFilterSensitiveLog:()=>Vg,AssumeRoleWithWebIdentityCommand:()=>go,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Wg,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Kg,CredentialsFilterSensitiveLog:()=>zg,ExpiredTokenException:()=>ta,IDPCommunicationErrorException:()=>aa,IDPRejectedClaimException:()=>sa,InvalidIdentityTokenException:()=>ia,MalformedPolicyDocumentException:()=>ra,PackedPolicyTooLargeException:()=>na,RegionDisabledException:()=>oa,STS:()=>Wu,STSClient:()=>ar,STSServiceException:()=>Et,__Client:()=>qg.Client,decorateDefaultCredentialProvider:()=>C3,getDefaultRoleAssumer:()=>KR,getDefaultRoleAssumerWithWebIdentity:()=>YR});var Sy=w(()=>{c();ea();UR();BR();FR();XR();Hu()});var Ty=v(QR=>{"use strict";c();var _y=Or(),by=ut(),v3=me("child_process"),R3=me("util"),P3=(qt(),ae(cn)),D3=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return P3.setCredentialFeature(o,"CREDENTIALS_PROCESS","w"),o},N3=async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=R3.promisify(_y.externalDataInterceptor?.getTokenRecord?.().exec??v3.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return D3(e,a,t)}catch(i){throw new by.CredentialsProviderError(i.message,{logger:r})}}else throw new by.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new by.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},O3=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await _y.parseKnownFiles(e);return N3(_y.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};QR.fromProcess=O3});var wy=v(lr=>{"use strict";c();var L3=lr&&lr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),M3=lr&&lr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),k3=lr&&lr.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&L3(r,t,n[o]);return M3(r,t),r}})();Object.defineProperty(lr,"__esModule",{value:!0});lr.fromWebToken=void 0;var U3=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:l}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:m}=await Promise.resolve().then(()=>k3((Sy(),ae(Ey))));u=m({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:l})};lr.fromWebToken=U3});var ZR=v(Ku=>{"use strict";c();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.fromTokenFile=void 0;var B3=(qt(),ae(cn)),F3=ut(),$3=Or(),G3=me("fs"),j3=wy(),JR="AWS_WEB_IDENTITY_TOKEN_FILE",q3="AWS_ROLE_ARN",H3="AWS_ROLE_SESSION_NAME",z3=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[JR],n=e?.roleArn??process.env[q3],o=e?.roleSessionName??process.env[H3];if(!r||!n)throw new F3.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,j3.fromWebToken)({...e,webIdentityToken:$3.externalDataInterceptor?.getTokenRecord?.()[r]??(0,G3.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:o})(t);return r===process.env[JR]&&(0,B3.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};Ku.fromTokenFile=z3});var Iy=v(la=>{"use strict";c();var eP=ZR(),tP=wy();Object.keys(eP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(la,e)&&Object.defineProperty(la,e,{enumerable:!0,get:function(){return eP[e]}})});Object.keys(tP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(la,e)&&Object.defineProperty(la,e,{enumerable:!0,get:function(){return tP[e]}})})});var aP=v(iP=>{"use strict";c();var xy=Or(),ua=ut(),Mn=(qt(),ae(cn)),V3=(e,t,r)=>{let n={EcsContainer:async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>A(fg())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>A(Ti()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>ua.chain(s(o??{}),i(o))().then(Ay)},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>A(Ti()));return async()=>s(o)().then(Ay)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>A(sg()));return async()=>s(o)().then(Ay)}};if(e in n)return n[e];throw new ua.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},Ay=e=>Mn.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),W3=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(K3(e,{profile:t,logger:r})||Y3(e,{profile:t,logger:r})),K3=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},Y3=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},X3=async(e,t,r,n={},o)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:a}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:u}=await Promise.resolve().then(()=>(Sy(),Ey));r.roleAssumer=u({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:a??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new ua.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${xy.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let l=i?o(i,t,r,{...n,[i]:!0},rP(t[i]??{})):(await V3(s.credential_source,e,r.logger)(r))();if(rP(s))return l.then(u=>Mn.setCredentialFeature(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let u={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:m}=s;if(m){if(!r.mfaCodeProvider)throw new ua.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});u.SerialNumber=m,u.TokenCode=await r.mfaCodeProvider(m)}let h=await l;return r.roleAssumer(h,u).then(y=>Mn.setCredentialFeature(y,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},rP=e=>!e.role_arn&&!!e.credential_source,Q3=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",J3=async(e,t)=>Promise.resolve().then(()=>A(Ty())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>Mn.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),Z3=async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>A(Fg()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?Mn.setCredentialFeature(o,"CREDENTIALS_PROFILE_SSO","r"):Mn.setCredentialFeature(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},e4=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),nP=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,oP=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Mn.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},t4=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,r4=async(e,t)=>Promise.resolve().then(()=>A(Iy())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>Mn.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),sP=async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&nP(s))return oP(s,r);if(o||W3(s,{profile:e,logger:r.logger}))return X3(e,t,r,n,sP);if(nP(s))return oP(s,r);if(t4(s))return r4(s,r);if(Q3(s))return J3(r,e);if(e4(s))return await Z3(e,s,r);throw new ua.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},n4=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await xy.parseKnownFiles(r);return sP(xy.getProfileName({profile:e.profile??t?.profile}),n,r)};iP.fromIni=n4});var dP=v(Yu=>{"use strict";c();var Cy=sg(),da=ut(),o4=Or(),cP="AWS_EC2_METADATA_DISABLED",s4=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>A(Ti()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>A(fg()));return da.chain(s(e),n(e))}return process.env[cP]&&process.env[cP]!=="false"?async()=>{throw new da.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))};function i4(e,t){let r=a4(e),n,o,s,i=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),n)await n;else if(!s||t?.(s))if(s)o||(o=r(a).then(l=>{s=l,o=void 0}));else return n=r(a).then(l=>{s=l,n=void 0}),i(a);return s};return i}var a4=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(o){if(r=o,o?.tryNextLink)continue;throw o}throw r},lP=!1,c4=(e={})=>i4([async()=>{if(e.profile??process.env[o4.ENV_PROFILE])throw process.env[Cy.ENV_KEY]&&process.env[Cy.ENV_SECRET]&&(lP||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),lP=!0)),new da.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),Cy.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e;if(!r&&!n&&!o&&!s&&!i)throw new da.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>A(Fg()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>A(aP()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>A(Ty()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>A(Iy()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await s4(e))()),async()=>{throw new da.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],uP),l4=e=>e?.expiration!==void 0,uP=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;Yu.credentialsTreatedAsExpired=uP;Yu.credentialsWillNeedRefresh=l4;Yu.defaultProvider=c4});var pP=v(Xu=>{"use strict";c();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.fromBase64=void 0;var u4=ze(),d4=/^[A-Za-z0-9+/]*={0,2}$/,p4=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!d4.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,u4.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Xu.fromBase64=p4});var fP=v(Qu=>{"use strict";c();Object.defineProperty(Qu,"__esModule",{value:!0});Qu.toBase64=void 0;var f4=ze(),m4=Ce(),h4=e=>{let t;if(typeof e=="string"?t=(0,m4.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,f4.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Qu.toBase64=h4});var gP=v(pa=>{"use strict";c();var mP=pP(),hP=fP();Object.keys(mP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pa,e)&&Object.defineProperty(pa,e,{enumerable:!0,get:function(){return mP[e]}})});Object.keys(hP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pa,e)&&Object.defineProperty(pa,e,{enumerable:!0,get:function(){return hP[e]}})})});var GP=v(Zu=>{"use strict";c();Object.defineProperty(Zu,"__esModule",{value:!0});Zu.ruleSet=void 0;var Py="required",V="type",Be="rules",Se="conditions",B="fn",F="argv",ce="ref",Ju="assign",ur="url",dr="properties",pr="headers",BP="metricValues",g4=!1,Fe="error",nt="stringEquals",yP="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",St="endpoint",je="tree",Dy="dynamodb",fa={[Py]:!1,[V]:"string"},EP={[Py]:!0,default:!1,[V]:"boolean"},SP={[B]:"isSet",[F]:[{[ce]:"Endpoint"}]},y4={[ce]:"Endpoint"},bP={[B]:"isSet",[F]:[{[ce]:"Region"}]},FP={[ce]:"Region"},_P={[B]:"aws.partition",[F]:[FP],[Ju]:"PartitionResult"},TP={[Se]:[{[B]:"booleanEquals",[F]:[{[ce]:"UseFIPS"},!0]}],[Fe]:"Invalid Configuration: FIPS and custom endpoint are not supported",[V]:Fe},ys={[B]:"booleanEquals",[F]:[{[ce]:"UseFIPS"},!0]},wP={[Se]:[{[B]:"booleanEquals",[F]:[{[ce]:"UseDualStack"},!0]}],[Fe]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[V]:Fe},$P={[B]:"booleanEquals",[F]:[{[ce]:"UseDualStack"},!0]},IP={[St]:{[ur]:"{Endpoint}",[dr]:{},[pr]:{}},[V]:St},jr={},AP={[B]:"booleanEquals",[F]:[{[B]:"getAttr",[F]:[{[ce]:"PartitionResult"},"supportsFIPS"]},!0]},xP={[B]:"booleanEquals",[F]:[{[B]:"getAttr",[F]:[{[ce]:"PartitionResult"},"supportsDualStack"]},!0]},vy={[Se]:[{[B]:"isSet",[F]:[{[ce]:"AccountIdEndpointMode"}]},{[B]:nt,[F]:[{[ce]:"AccountIdEndpointMode"},"required"]}],[Be]:[{[Fe]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:Fe}],[V]:je},ma={[B]:"getAttr",[F]:[{[ce]:"PartitionResult"},"name"]},CP={[St]:{[ur]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[dr]:{},[pr]:{}},[V]:St},vP={[ur]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[dr]:{[BP]:["O"]},[pr]:{}},Ry={[BP]:["O"]},RP={[Fe]:"Credentials-sourced account ID parameter is invalid",[V]:Fe},PP={[Se]:[{[B]:"isSet",[F]:[{[ce]:"AccountIdEndpointMode"}]},{[B]:nt,[F]:[{[ce]:"AccountIdEndpointMode"},"required"]}],[Be]:[{[Se]:[{[B]:"not",[F]:[ys]}],[Be]:[{[Se]:[{[B]:nt,[F]:[ma,"aws"]}],[Be]:[{[Fe]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[V]:Fe}],[V]:je},{[Fe]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[V]:Fe}],[V]:je},{[Fe]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:Fe}],[V]:je},DP={[ur]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[dr]:Ry,[pr]:{}},NP=[ys],OP=[$P],LP=[{[B]:"isSet",[F]:[{[ce]:"AccountIdEndpointMode"}]},{[B]:"not",[F]:[{[B]:nt,[F]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[B]:nt,[F]:[ma,"aws"]},{[B]:"not",[F]:[ys]},{[B]:"isSet",[F]:[{[ce]:"ResourceArn"}]},{[B]:"aws.parseArn",[F]:[{[ce]:"ResourceArn"}],[Ju]:"ParsedArn"},{[B]:nt,[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"service"]},Dy]},{[B]:"isValidHostLabel",[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"region"]},!1]},{[B]:nt,[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"region"]},"{Region}"]},{[B]:"isValidHostLabel",[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"accountId"]},!1]}],MP=[{[B]:"isSet",[F]:[{[ce]:"AccountIdEndpointMode"}]},{[B]:"not",[F]:[{[B]:nt,[F]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[B]:nt,[F]:[ma,"aws"]},{[B]:"not",[F]:[ys]},{[B]:"isSet",[F]:[{[ce]:"ResourceArnList"}]},{[B]:"getAttr",[F]:[{[ce]:"ResourceArnList"},"[0]"],[Ju]:"FirstArn"},{[B]:"aws.parseArn",[F]:[{[ce]:"FirstArn"}],[Ju]:"ParsedArn"},{[B]:nt,[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"service"]},Dy]},{[B]:"isValidHostLabel",[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"region"]},!1]},{[B]:nt,[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"region"]},"{Region}"]},{[B]:"isValidHostLabel",[F]:[{[B]:"getAttr",[F]:[{[ce]:"ParsedArn"},"accountId"]},!1]}],kP=[{[B]:"isSet",[F]:[{[ce]:"AccountIdEndpointMode"}]},{[B]:"not",[F]:[{[B]:nt,[F]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[B]:nt,[F]:[ma,"aws"]},{[B]:"not",[F]:[ys]},{[B]:"isSet",[F]:[{[ce]:"AccountId"}]}],UP=[{[B]:"isValidHostLabel",[F]:[{[ce]:"AccountId"},!1]}],E4={version:"1.0",parameters:{Region:fa,UseDualStack:EP,UseFIPS:EP,Endpoint:fa,AccountId:fa,AccountIdEndpointMode:fa,ResourceArn:fa,ResourceArnList:{[Py]:g4,[V]:"stringArray"}},[Be]:[{[Se]:[SP,bP,_P],[Be]:[TP,wP,{[Se]:[{[B]:nt,[F]:[y4,yP]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[V]:Fe},IP],[V]:je},{[Se]:[SP],[Be]:[TP,wP,IP],[V]:je},{[Se]:[bP],[Be]:[{[Se]:[_P],[Be]:[{[Se]:[{[B]:nt,[F]:[FP,"local"]}],[Be]:[{[Se]:NP,error:"Invalid Configuration: FIPS and local endpoint are not supported",[V]:Fe},{[Se]:OP,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[V]:Fe},{endpoint:{[ur]:"http://localhost:8000",[dr]:{authSchemes:[{name:"sigv4",signingName:Dy,signingRegion:"us-east-1"}]},[pr]:jr},[V]:St}],[V]:je},{[Se]:[ys,$P],[Be]:[{[Se]:[AP,xP],[Be]:[vy,{endpoint:{[ur]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[dr]:jr,[pr]:jr},[V]:St}],[V]:je},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[V]:Fe}],[V]:je},{[Se]:NP,[Be]:[{[Se]:[AP],[Be]:[{[Se]:[{[B]:nt,[F]:[ma,"aws-us-gov"]}],[Be]:[vy,CP],[V]:je},vy,{endpoint:{[ur]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[dr]:jr,[pr]:jr},[V]:St}],[V]:je},{error:"FIPS is enabled but this partition does not support FIPS",[V]:Fe}],[V]:je},{[Se]:OP,[Be]:[{[Se]:[xP],[Be]:[{[Se]:LP,endpoint:vP,[V]:St},{[Se]:MP,endpoint:vP,[V]:St},{[Se]:kP,[Be]:[{[Se]:UP,[Be]:[{endpoint:{[ur]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[dr]:Ry,[pr]:jr},[V]:St}],[V]:je},RP],[V]:je},PP,{endpoint:{[ur]:yP,[dr]:jr,[pr]:jr},[V]:St}],[V]:je},{error:"DualStack is enabled but this partition does not support DualStack",[V]:Fe}],[V]:je},{[Se]:LP,endpoint:DP,[V]:St},{[Se]:MP,endpoint:DP,[V]:St},{[Se]:kP,[Be]:[{[Se]:UP,[Be]:[{endpoint:{[ur]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[dr]:Ry,[pr]:jr},[V]:St}],[V]:je},RP],[V]:je},PP,CP],[V]:je}],[V]:je},{error:"Invalid Configuration: Missing Region",[V]:Fe}]};Zu.ruleSet=E4});var jP=v(ed=>{"use strict";c();Object.defineProperty(ed,"__esModule",{value:!0});ed.defaultEndpointResolver=void 0;var S4=Po(),Ny=no(),b4=GP(),_4=new Ny.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),T4=(e,t={})=>_4.get(e,()=>(0,Ny.resolveEndpoint)(b4.ruleSet,{endpointParams:e,logger:t.logger}));ed.defaultEndpointResolver=T4;Ny.customEndpointFunctions.aws=S4.awsEndpointFunctions});var zP=v(td=>{"use strict";c();Object.defineProperty(td,"__esModule",{value:!0});td.getRuntimeConfig=void 0;var w4=(We(),ae(nr)),I4=(Bh(),ae(hA)),A4=te(),x4=sn(),qP=gP(),HP=Ce(),C4=og(),v4=jP(),R4=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??qP.fromBase64,base64Encoder:e?.base64Encoder??qP.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??v4.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??C4.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new w4.AwsSdkSigV4Signer}],logger:e?.logger??new A4.NoOpLogger,protocol:e?.protocol??new I4.AwsJson1_0Protocol({defaultNamespace:"com.amazonaws.dynamodb",serviceTarget:"DynamoDB_20120810",awsQueryCompatible:!1}),serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??x4.parseUrl,utf8Decoder:e?.utf8Decoder??HP.fromUtf8,utf8Encoder:e?.utf8Encoder??HP.toUtf8});td.getRuntimeConfig=R4});var XP=v(nd=>{"use strict";c();Object.defineProperty(nd,"__esModule",{value:!0});nd.getRuntimeConfig=void 0;var P4=(ei(),ae(Zs)),D4=P4.__importDefault(Ix()),VP=(We(),ae(nr)),N4=(Fp(),ae(Bp)),O4=dP(),L4=Xp(),WP=Ii(),rd=Pt(),M4=Ai(),KP=kr(),qr=Lr(),YP=Wn(),k4=xi(),U4=Yo(),B4=zP(),F4=te(),$4=Ri(),G4=te(),j4=e=>{(0,G4.emitWarningIfUnsupportedVersion)(process.version);let t=(0,$4.resolveDefaultsModeConfig)(e),r=()=>t().then(F4.loadConfigsForDefaultMode),n=(0,B4.getRuntimeConfig)(e);(0,VP.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,qr.loadConfig)(N4.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,qr.loadConfig)(VP.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??k4.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??O4.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,WP.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:D4.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,qr.loadConfig)(L4.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,qr.loadConfig)(KP.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,qr.loadConfig)(rd.NODE_REGION_CONFIG_OPTIONS,{...rd.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:YP.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,qr.loadConfig)({...KP.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||U4.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??M4.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??YP.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,qr.loadConfig)(rd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,qr.loadConfig)(rd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,qr.loadConfig)(WP.NODE_APP_ID_CONFIG_OPTIONS,o)}};nd.getRuntimeConfig=j4});var eD=v(pt=>{"use strict";c();var od=()=>{let e=new WeakSet;return(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r}},q4=e=>new Promise(t=>setTimeout(t,e*1e3)),ZP={minDelay:2,maxDelay:120};pt.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(pt.WaiterState||(pt.WaiterState={}));var H4=e=>{if(e.state===pt.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},od())}`);throw t.name="AbortError",t}else if(e.state===pt.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},od())}`);throw t.name="TimeoutError",t}else if(e.state!==pt.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,od())}`);return e},z4=(e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return V4(e,o)},V4=(e,t)=>e+Math.random()*(t-e),W4=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let l={},{state:u,reason:m}=await a(o,i);if(m){let S=QP(m);l[S]|=0,l[S]+=1}if(u!==pt.WaiterState.RETRY)return{state:u,reason:m,observedResponses:l};let h=1,y=Date.now()+r*1e3,g=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let P="AbortController signal aborted.";return l[P]|=0,l[P]+=1,{state:pt.WaiterState.ABORTED,observedResponses:l}}let S=z4(e,t,g,h);if(Date.now()+S*1e3>y)return{state:pt.WaiterState.TIMEOUT,observedResponses:l};await q4(S);let{state:x,reason:R}=await a(o,i);if(R){let P=QP(R);l[P]|=0,l[P]+=1}if(x!==pt.WaiterState.RETRY)return{state:x,reason:R,observedResponses:l};h+=1}},QP=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e,od())??"Unknown"),K4=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},JP=e=>{let t,r=new Promise(n=>{t=()=>n({state:pt.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},Y4=async(e,t,r)=>{let n={...ZP,...e};K4(n);let o=[W4(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=JP(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=JP(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})};pt.checkExceptions=H4;pt.createWaiter=Y4;pt.waiterServiceDefaults=ZP});var ME=v(I=>{"use strict";c();var X4=(Fp(),ae(Bp)),Q4=Xp(),tD=Ms(),J4=ks(),Z4=Us(),rD=Vo(),ez=Pt(),Hr=(lt(),ae(to)),se=(ve(),ae(Gf)),tz=gi(),$=Tn(),nD=kr(),U=te(),oD=og(),rz=XP(),sD=rs(),iD=_e(),zt=eD(),nz=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),G={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},ie=class cD extends U.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,cD.prototype)}},oz={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},sz={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},iz={B:"B",N:"N",S:"S"},az={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},cz={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},lz={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},uz={HASH:"HASH",RANGE:"RANGE"},dz={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},pz={AES256:"AES256",KMS:"KMS"},fz={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},mz={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},hz={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},lD=class uD extends ie{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,uD.prototype)}},dD=class pD extends ie{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,pD.prototype)}},gz={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},yz={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},Ez={ALL_OLD:"ALL_OLD",NONE:"NONE"},Sz={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},fD=class mD extends ie{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,mD.prototype)}},hD=class gD extends ie{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,gD.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},yD=class ED extends ie{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,ED.prototype),this.throttlingReasons=t.throttlingReasons}},SD=class bD extends ie{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,bD.prototype),this.Message=t.Message}},_D=class TD extends ie{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,TD.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},wD=class ID extends ie{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,ID.prototype)}},bz={NONE:"NONE",SIZE:"SIZE"},AD=class xD extends ie{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,xD.prototype)}},CD=class vD extends ie{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,vD.prototype)}},_z={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},Tz={AND:"AND",OR:"OR"},wz={DISABLED:"DISABLED",ENABLED:"ENABLED"},Iz={DISABLED:"DISABLED",ENABLED:"ENABLED"},RD=class PD extends ie{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,PD.prototype)}},Az={DISABLE:"DISABLE",ENABLE:"ENABLE"},xz={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},Cz={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},DD=class ND extends ie{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,ND.prototype)}},OD=class LD extends ie{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,LD.prototype)}},MD=class kD extends ie{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,kD.prototype)}},vz={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Rz={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Pz={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Dz={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},Nz={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},UD=class BD extends ie{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,BD.prototype)}},Oz={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},Lz={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},FD=class $D extends ie{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,$D.prototype)}},Mz={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},GD=class jD extends ie{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,jD.prototype)}},qD=class HD extends ie{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,HD.prototype)}},kz={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Uz={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Bz={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},Fz={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},$z={AES256:"AES256",KMS:"KMS"},zD=class VD extends ie{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,VD.prototype)}},WD=class KD extends ie{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,KD.prototype)}},Gz={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},jz={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},qz={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},YD=class XD extends ie{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,XD.prototype)}},Hz={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},QD=class JD extends ie{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,JD.prototype)}},ZD=class eN extends ie{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,eN.prototype),this.Message=t.Message}},tN=class rN extends ie{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,rN.prototype),this.Message=t.Message}},nN=class oN extends ie{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,oN.prototype)}},sN=class iN extends ie{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,iN.prototype)}},aN=class cN extends ie{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,cN.prototype)}},lN=class uN extends ie{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,uN.prototype)}},zz={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},dN=class pN extends ie{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,pN.prototype)}},fN=class mN extends ie{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,mN.prototype)}},hN=class gN extends ie{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,gN.prototype)}},yN=class EN extends ie{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,EN.prototype)}},SN=class bN extends ie{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,bN.prototype)}};I.AttributeValue=void 0;(function(e){e.visit=(t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1])})(I.AttributeValue||(I.AttributeValue={}));var _N=class TN extends ie{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,TN.prototype),this.Item=t.Item}},wN=class IN extends ie{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,IN.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},Vz="Action",Wz="ArchivalBackupArn",Oy="ApproximateCreationDateTimePrecision",Kz="AttributeDefinition",Yz="ArchivalDateTime",Ta="AttributeDefinitions",Xz="AttributeMap",Qz="AccountMaxReadCapacityUnits",Jz="AccountMaxWriteCapacityUnits",tp="AttributeName",Zz="ArchivalReason",AN="ArchivalSummary",xN="AutoScalingDisabled",eV="AutoScalingPolicyDescription",tV="AutoScalingPolicyDescriptionList",rV="AutoScalingPolicyUpdate",CN="AutoScalingRoleArn",nV="AutoScalingSettingsDescription",oV="AutoScalingSettingsUpdate",sV="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",iV="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",aV="AttributeType",rp="AttributesToGet",vN="AttributeUpdates",cV="AttributeValue",Ly="AttributeValueList",lV="AttributeValueUpdate",uV="Address",My="Attributes",dV="Backfilling",wa="BackupArn",RN="BackupCreationDateTime",ky="BackupDescription",Uy="BackupDetails",PN="BackupExpiryDateTime",pV="BatchExecuteStatement",fV="BatchExecuteStatementInput",mV="BatchExecuteStatementOutput",hV="BatchGetItem",gV="BatchGetItemInput",yV="BatchGetItemOutput",EV="BatchGetResponseMap",SV="BatchGetRequestMap",bV="BackupInUseException",Ia="BillingMode",DN="BillingModeOverride",NN="BillingModeSummary",By="BackupName",_V="BackupNotFoundException",TV="BOOL",ON="BackupStatus",LN="BackupSizeBytes",wV="BilledSizeBytes",IV="BatchStatementError",AV="BatchStatementRequest",xV="BatchStatementResponse",CV="BS",vV="BackupSummary",MN="BackupSummaries",Fy="BackupType",RV="BatchWriteItem",PV="BatchWriteItemInput",DV="BatchWriteItemOutput",NV="BatchWriteItemRequestMap",OV="B",kN="Code",LV="CreateBackup",$y="ContinuousBackupsDescription",MV="CreateBackupInput",kV="CreateBackupOutput",UV="ContinuousBackupsStatus",BV="ContinuousBackupsUnavailableException",bt="ConsumedCapacity",FV="ConditionalCheckFailedException",$V="ConsumedCapacityMultiple",UN="ConditionCheck",BN="CreationDateTime",yo="ConditionExpression",GV="CreateGlobalSecondaryIndexAction",jV="CreateGlobalTable",qV="CreateGlobalTableInput",HV="CreateGlobalTableOutput",zV="CreateGlobalTableWitnessGroupMemberAction",VV="ContributorInsightsAction",np="ContributorInsightsMode",WV="ContributorInsightsRuleList",KV="ContributorInsightsSummary",Gy="ContributorInsightsStatus",FN="ContributorInsightsSummaries",$N="ComparisonOperator",Aa="ConditionalOperator",YV="CsvOptions",XV="CachePeriodInMinutes",Ss="ConsistentRead",QV="CreateReplicaAction",JV="CreateReplicationGroupMemberAction",ZV="CancellationReasonList",eW="ConfirmRemoveSelfResourceAccess",GN="ClientRequestToken",tW="CancellationReason",rW="CancellationReasons",op="ClientToken",nW="CreateTableInput",oW="CreateTableOutput",sW="CreateTable",jN="CapacityUnits",qN="CloudWatchLogGroupArn",iW="Capacity",aW="Condition",HN="Count",sp="Create",cW="Csv",lW="Delimiter",uW="DeleteBackup",dW="DeleteBackupInput",pW="DescribeBackupInput",fW="DeleteBackupOutput",mW="DescribeBackupOutput",hW="DescribeBackup",gW="DescribeContinuousBackups",yW="DescribeContinuousBackupsInput",EW="DescribeContinuousBackupsOutput",SW="DescribeContributorInsights",bW="DescribeContributorInsightsInput",_W="DescribeContributorInsightsOutput",TW="DescribeEndpoints",wW="DescribeExportInput",IW="DescribeExportOutput",AW="DescribeEndpointsRequest",xW="DescribeEndpointsResponse",CW="DescribeExport",vW="DeleteGlobalSecondaryIndexAction",RW="DescribeGlobalTable",PW="DescribeGlobalTableInput",DW="DescribeGlobalTableOutput",NW="DescribeGlobalTableSettings",OW="DescribeGlobalTableSettingsInput",LW="DescribeGlobalTableSettingsOutput",MW="DeleteGlobalTableWitnessGroupMemberAction",kW="DeleteItem",UW="DuplicateItemException",BW="DeleteItemInput",FW="DescribeImportInput",$W="DeleteItemOutput",GW="DescribeImportOutput",jW="DescribeImport",qW="DescribeKinesisStreamingDestination",HW="DescribeKinesisStreamingDestinationInput",zW="DescribeKinesisStreamingDestinationOutput",VW="DisableKinesisStreamingDestination",WW="DescribeLimits",KW="DescribeLimitsInput",YW="DescribeLimitsOutput",jy="DeletionProtectionEnabled",zN="DeleteRequest",XW="DeleteReplicaAction",QW="DeleteReplicationGroupMemberAction",JW="DeleteResourcePolicy",ZW="DeleteResourcePolicyInput",eK="DeleteResourcePolicyOutput",qy="DestinationStatus",tK="DestinationStatusDescription",VN="DisableScaleIn",rK="DeleteTable",nK="DeleteTableInput",oK="DescribeTableInput",sK="DeleteTableOutput",iK="DescribeTableOutput",aK="DescribeTableReplicaAutoScaling",cK="DescribeTableReplicaAutoScalingInput",lK="DescribeTableReplicaAutoScalingOutput",uK="DescribeTimeToLive",dK="DescribeTimeToLiveInput",pK="DescribeTimeToLiveOutput",fK="DescribeTable",bs="Delete",mK="Error",Hy="ExportArn",hK="ExpectedAttributeMap",Ut="ExpressionAttributeNames",zr="ExpressionAttributeValues",gK="ExpressionAttributeValueMap",yK="ExpectedAttributeValue",EK="ErrorCount",SK="ExportConflictException",zy="ExportDescription",bK="ExceptionDescription",WN="ExportFormat",_K="ExportFromTime",Vy="EnableKinesisStreamingConfiguration",TK="EnableKinesisStreamingDestination",wK="ExportManifest",IK="ExceptionName",AK="ExportNotFoundException",xK="EarliestRestorableDateTime",KN="ExpectedRevisionId",YN="ExportStatus",CK="ExclusiveStartBackupArn",vK="ExclusiveStartGlobalTableName",RK="ExecuteStatementInput",XN="ExclusiveStartKey",PK="ExecuteStatementOutput",DK="ExclusiveStartTableName",NK="ExportSummary",OK="ExecuteStatement",QN="ExportSummaries",Wy="EndTime",LK="ExecuteTransactionInput",MK="ExecuteTransactionOutput",kK="ExportToTime",UK="ExportTableToPointInTime",BK="ExportTableToPointInTimeInput",FK="ExportTableToPointInTimeOutput",JN="ExportTime",$K="ExecuteTransaction",Ky="ExportType",GK="ExportViewType",ZN="Endpoints",eO="Enabled",jK="Endpoint",Yy="Expected",qK="Exists",tO="FailureCode",HK="FilterConditionMap",rO="FailureException",nO="FilterExpression",oO="FailureMessage",sO="Get",zK="GetItem",VK="GetItemInput",WK="GetItemOutput",KK="GetResourcePolicy",YK="GetResourcePolicyInput",XK="GetResourcePolicyOutput",mr="GlobalSecondaryIndexes",QK="GlobalSecondaryIndexAutoScalingUpdate",JK="GlobalSecondaryIndexAutoScalingUpdateList",ZK="GlobalSecondaryIndexDescription",e6="GlobalSecondaryIndexDescriptionList",t6="GlobalSecondaryIndexInfo",r6="GlobalSecondaryIndexList",iO="GlobalSecondaryIndexOverride",n6="GlobalSecondaryIndexUpdate",o6="GlobalSecondaryIndexUpdateList",aO="GlobalSecondaryIndexUpdates",s6="GlobalSecondaryIndexWarmThroughputDescription",i6="GlobalSecondaryIndex",a6="GlobalTable",c6="GlobalTableArn",l6="GlobalTableAlreadyExistsException",u6="GlobalTableBillingMode",ip="GlobalTableDescription",cO="GlobalTableGlobalSecondaryIndexSettingsUpdate",d6="GlobalTableGlobalSecondaryIndexSettingsUpdateList",p6="GlobalTableList",Vr="GlobalTableName",f6="GlobalTableNotFoundException",m6="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",h6="GlobalTableProvisionedWriteCapacityUnits",g6="GlobalTableStatus",y6="GlobalTableVersion",E6="GlobalTableWitnesses",S6="GlobalTableWitnessDescription",b6="GlobalTableWitnessDescriptionList",_6="GlobalTableWitnessGroupUpdate",T6="GlobalTableWitnessGroupUpdateList",w6="GlobalTableWitnessUpdates",I6="GlobalTables",A6="HeaderList",Wr="Item",Xy="ImportArn",lO="IndexArn",xa="ItemCount",x6="ImportConflictException",C6="ItemCollectionKey",v6="ItemCollectionKeyAttributeMap",_s="ItemCollectionMetrics",R6="ItemCollectionMetricsMultiple",P6="ItemCollectionMetricsPerTable",D6="ItemCollectionSizeLimitExceededException",uO="InputCompressionType",N6="InaccessibleEncryptionDateTime",O6="InvalidEndpointException",Qy="IncrementalExportSpecification",L6="InvalidExportTimeException",Jy="InputFormat",Zy="InputFormatOptions",M6="ImportedItemCount",k6="ItemList",xe="IndexName",U6="ImportNotFoundException",B6="IndexNotFoundException",F6="IdempotentParameterMismatchException",$6="ItemResponse",G6="ItemResponseList",j6="InvalidRestoreTimeException",eE="IndexStatus",dO="IndexSizeBytes",q6="InternalServerError",pO="ImportSummaryList",H6="ImportSummary",fO="ImportStatus",z6="ImportTable",tE="ImportTableDescription",V6="ImportTableInput",W6="ImportTableOutput",rE="Items",hr="Key",K6="KeysAndAttributes",mO="KeyConditions",Y6="KeyConditionExpression",hO="KinesisDataStreamDestinations",X6="KinesisDataStreamDestination",Q6="KeyList",J6="KMSMasterKeyArn",ap="KMSMasterKeyId",Bt="KeySchema",Z6="KinesisStreamingDestinationInput",e8="KinesisStreamingDestinationOutput",t8="KeySchemaElement",r8="KeyType",n8="Keys",Ts="Limit",o8="ListAttributeValue",s8="ListBackups",i8="ListBackupsInput",a8="ListBackupsOutput",c8="ListContributorInsights",l8="ListContributorInsightsInput",u8="ListContributorInsightsOutput",d8="LastDecreaseDateTime",p8="ListExports",f8="LastEvaluatedBackupArn",m8="LimitExceededException",h8="LastEvaluatedGlobalTableName",g8="ListExportsInput",nE="LastEvaluatedKey",y8="ListExportsOutput",E8="LastEvaluatedTableName",S8="ListGlobalTables",b8="ListGlobalTablesInput",_8="ListGlobalTablesOutput",T8="ListImports",w8="LastIncreaseDateTime",I8="ListImportsInput",A8="ListImportsOutput",x8="LatestRestorableDateTime",C8="LatestStreamArn",Ca="LocalSecondaryIndexes",v8="LocalSecondaryIndexDescription",R8="LocalSecondaryIndexDescriptionList",P8="LocalSecondaryIndexInfo",D8="LocalSecondaryIndexList",gO="LocalSecondaryIndexOverride",N8="LocalSecondaryIndex",O8="LatestStreamLabel",L8="ListTables",M8="ListTablesInput",k8="ListTablesOutput",U8="ListTagsOfResource",B8="ListTagsOfResourceInput",F8="ListTagsOfResourceOutput",yO="LastUpdateDateTime",$8="LastUpdateToPayPerRequestDateTime",G8="L",ws="Message",j8="MapAttributeValue",EO="MaxResults",SO="MultiRegionConsistency",bO="MaxReadRequestUnits",_O="MinimumUnits",TO="MaximumUnits",q8="MaxWriteRequestUnits",H8="M",z8="N",V8="NonKeyAttributes",W8="NumberOfDecreasesToday",K8="NS",gr="NextToken",Y8="NULL",Vt="OnDemandThroughput",Un="OnDemandThroughputOverride",oE="Parameters",va="ProjectionExpression",X8="PutItem",Q8="ProcessedItemCount",J8="PutItemInput",Z8="PutItemInputAttributeMap",e5="PutItemOutput",wO="PointInTimeRecoveryDescription",t5="PointInTimeRecoveryEnabled",r5="PointInTimeRecoveryStatus",IO="PointInTimeRecoverySpecification",n5="PointInTimeRecoveryUnavailableException",AO="PolicyName",o5="PolicyNotFoundException",s5="PartiQLBatchRequest",i5="PartiQLBatchResponse",xO="PutRequest",CO="ProvisionedReadCapacityAutoScalingSettings",a5="ProvisionedReadCapacityAutoScalingSettingsUpdate",c5="ProvisionedReadCapacityAutoScalingUpdate",vO="ProvisionedReadCapacityUnits",l5="PutResourcePolicy",u5="PutResourcePolicyInput",d5="PutResourcePolicyOutput",p5="PageSize",f5="ProcessedSizeBytes",m5="PreparedStatementParameters",h5="ParameterizedStatement",g5="ParameterizedStatements",Wt="ProvisionedThroughput",y5="ProvisionedThroughputDescription",E5="ProvisionedThroughputExceededException",Bn="ProvisionedThroughputOverride",S5="ProjectionType",RO="ProvisionedWriteCapacityAutoScalingSettings",b5="ProvisionedWriteCapacityAutoScalingSettingsUpdate",PO="ProvisionedWriteCapacityAutoScalingUpdate",DO="ProvisionedWriteCapacityUnits",NO="Policy",Fn="Projection",OO="Put",_5="Query",T5="QueryFilter",w5="QueryInput",I5="QueryOutput",cp="Responses",Is="ResourceArn",A5="ReplicaAlreadyExistsException",x5="ReplicaAutoScalingDescription",C5="ReplicaAutoScalingDescriptionList",v5="ReplicaAutoScalingUpdate",R5="ReplicaAutoScalingUpdateList",P5="ReplicaBillingModeSummary",xt="ReturnConsumedCapacity",Ra="ReadCapacityUnits",D5="ReplicaDescription",N5="ReplicaDescriptionList",LO="RestoreDateTime",sE="ReplicationGroup",O5="ReplicaGlobalSecondaryIndex",L5="ReplicaGlobalSecondaryIndexAutoScalingDescription",M5="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",k5="ReplicaGlobalSecondaryIndexAutoScalingUpdate",U5="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",B5="ReplicaGlobalSecondaryIndexDescription",F5="ReplicaGlobalSecondaryIndexDescriptionList",$5="ReplicaGlobalSecondaryIndexList",G5="ReplicaGlobalSecondaryIndexSettings",j5="ReplicaGlobalSecondaryIndexSettingsDescription",q5="ReplicaGlobalSecondaryIndexSettingsDescriptionList",MO="ReplicaGlobalSecondaryIndexSettingsUpdate",H5="ReplicaGlobalSecondaryIndexSettingsUpdateList",z5="ReplicaGlobalSecondaryIndexUpdates",V5="ReplicationGroupUpdate",W5="ReplicationGroupUpdateList",kO="RequestItems",Pa="ReturnItemCollectionMetrics",K5="ReplicaInaccessibleDateTime",Y5="RestoreInProgress",X5="ResourceInUseException",iE="RevisionId",Q5="ReplicaList",J5="RequestLimitExceeded",ft="RegionName",Z5="ReplicaNotFoundException",eY="ResourceNotFoundException",tY="ResourcePolicy",UO="RecoveryPeriodInDays",BO="ReplicaProvisionedReadCapacityAutoScalingSettings",rY="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",nY="ReplicaProvisionedReadCapacityAutoScalingUpdate",FO="ReplicaProvisionedReadCapacityUnits",$O="ReplicaProvisionedWriteCapacityAutoScalingSettings",oY="ReplicaProvisionedWriteCapacityUnits",GO="ReplicaSettings",sY="ReplicaStatusDescription",iY="ReplicaSettingsDescriptionList",aY="ReplicaSettingsDescription",cY="ReplicaStatusPercentProgress",jO="ReplicaSettingsUpdate",lY="ReplicaSettingsUpdateList",aE="ReplicaStatus",qO="RestoreSummary",uY="ReplicaTableClass",HO="ReplicaTableClassSummary",dY="RestoreTableFromBackup",pY="RestoreTableFromBackupInput",fY="RestoreTableFromBackupOutput",mY="RestoreTableToPointInTime",hY="RestoreTableToPointInTimeInput",gY="RestoreTableToPointInTimeOutput",yY="ReplicaUpdate",EY="ReplicaUpdateList",cE="ReadUnitsPerSecond",lE="ReplicaUpdates",uE="ReturnValues",yr="ReturnValuesOnConditionCheckFailure",SY="ReplicatedWriteConflictException",bY="Replica",zO="Replicas",_Y="Statements",Da="StreamArn",dE="S3Bucket",TY="SourceBackupArn",pE="S3BucketOwner",lp="S3BucketSource",VO="ScannedCount",wY="StreamDescription",IY="StreamEnabled",AY="SizeEstimateRangeGB",xY="ScanFilter",CY="ScanInput",WO="ScaleInCooldown",vY="SecondaryIndexesCapacityMap",RY="ScanIndexForward",PY="S3KeyPrefix",DY="ScanOutput",KO="ScaleOutCooldown",NY="ScalingPolicies",OY="ScalingPolicyUpdate",YO="S3Prefix",up="StreamSpecification",XO="S3SseAlgorithm",fE="SSEDescription",dp="SSESpecification",QO="SSESpecificationOverride",JO="SSEType",ZO="S3SseKmsKeyId",LY="SS",mE="StartTime",e1="SourceTableArn",t1="SourceTableDetails",r1="SourceTableFeatureDetails",MY="SourceTableName",kY="StreamViewType",UY="S",BY="Scan",n1="Select",FY="Segment",hE="Statement",gE="Status",o1="Table",Kr="TableArn",$Y="TableAlreadyExistsException",yE="TableAutoScalingDescription",EE="TableClass",GY="TableCreationDateTime",jY="TransactionCanceledException",qY="TransactionConflictException",s1="TableClassOverride",SE="TableCreationParameters",i1="TableClassSummary",As="TableDescription",HY="ThrottlingException",zY="TransactGetItem",VY="TransactGetItemsInput",WY="TransactGetItemList",KY="TransactGetItemsOutput",YY="TransactGetItems",Na="TableId",XY="TransactionInProgressException",QY="TableInUseException",a1="TransactItems",JY="TagKeys",ZY="TagList",e9="TableMaxReadCapacityUnits",t9="TableMaxWriteCapacityUnits",Q="TableName",r9="TableNotFoundException",n9="TableNames",c1="ThrottlingReasons",o9="TagResourceInput",s9="ThrottlingReasonList",i9="TimeRangeLowerBound",a9="TimeRangeUpperBound",c9="TagResource",l9="ThrottlingReason",u9="TransactStatements",l1="TableSizeBytes",u1="TableStatus",d9="TotalSegments",bE="TimeToLiveDescription",p9="TimeToLiveStatus",_E="TimeToLiveSpecification",d1="TargetTableName",p1="TargetTrackingScalingPolicyConfiguration",f1="TargetValue",f9="TransactWriteItem",m9="TransactWriteItemsInput",h9="TransactWriteItemList",g9="TransactWriteItemsOutput",y9="TransactWriteItems",E9="TableWarmThroughputDescription",TE="Tags",S9="Tag",pp="Update",b9="UpdateContinuousBackups",_9="UpdateContinuousBackupsInput",T9="UpdateContinuousBackupsOutput",w9="UpdateContributorInsights",I9="UpdateContributorInsightsInput",A9="UpdateContributorInsightsOutput",m1="UpdateExpression",x9="UpdateGlobalSecondaryIndexAction",C9="UpdateGlobalTable",v9="UpdateGlobalTableInput",R9="UpdateGlobalTableOutput",P9="UpdateGlobalTableSettings",D9="UpdateGlobalTableSettingsInput",N9="UpdateGlobalTableSettingsOutput",O9="UnprocessedItems",L9="UpdateItemInput",M9="UpdateItemOutput",k9="UpdateItem",U9="UnprocessedKeys",wE="UpdateKinesisStreamingConfiguration",B9="UpdateKinesisStreamingDestination",F9="UpdateKinesisStreamingDestinationInput",$9="UpdateKinesisStreamingDestinationOutput",G9="UseLatestRestorableTime",j9="UntagResource",q9="UpdateReplicationGroupMemberAction",H9="UntagResourceInput",z9="UpdateTable",V9="UpdateTableInput",W9="UpdateTableOutput",K9="UpdateTableReplicaAutoScaling",Y9="UpdateTableReplicaAutoScalingInput",X9="UpdateTableReplicaAutoScalingOutput",Q9="UpdateTimeToLive",J9="UpdateTimeToLiveInput",Z9="UpdateTimeToLiveOutput",IE="Value",fp="WriteCapacityUnits",eX="WriteRequest",tX="WriteRequests",rX="WitnessStatus",Er="WarmThroughput",AE="WriteUnitsPerSecond",nX="awsQueryError",pe="client",le="error",h1="httpError",oX="httpHeader",ge="message",sX="reason",iX="resource",aX="server",g1="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",cX="throttlingReasons",lX="x-amz-confirm-remove-self-resource-access",d="com.amazonaws.dynamodb",uX=[3,d,AN,0,[Yz,Zz,Wz],[4,0,0]],dX=[3,d,Kz,0,[tp,aV],[0,0]],pX=[3,d,lV,0,[IE,Vz],[()=>Yt,0]],fX=[3,d,eV,0,[AO,p1],[0,()=>hX]],mX=[3,d,rV,0,[AO,p1],[0,()=>gX]],kn=[3,d,nV,0,[_O,TO,xN,CN,NY],[1,1,2,0,()=>hZ]],$n=[3,d,oV,0,[_O,TO,xN,CN,OY],[1,1,2,0,()=>mX]],hX=[3,d,sV,0,[VN,WO,KO,f1],[2,1,1,1]],gX=[3,d,iV,0,[VN,WO,KO,f1],[2,1,1,1]],y1=[3,d,ky,0,[Uy,t1,r1],[()=>E1,()=>C7,()=>v7]],E1=[3,d,Uy,0,[wa,By,LN,ON,Fy,RN,PN],[0,0,1,0,0,4,4]],yX=[-3,d,bV,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(yX,lD);var EX=[-3,d,_V,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(EX,dD);var SX=[3,d,vV,0,[Q,Na,Kr,wa,By,RN,PN,ON,Fy,LN],[0,0,0,0,0,4,4,0,0,1]],bX=[3,d,fV,0,[_Y,xt],[()=>UZ,0]],_X=[3,d,mV,0,[cp,bt],[()=>BZ,()=>Cs]],TX=[3,d,gV,0,[kO,xt],[()=>V1,0]],wX=[3,d,yV,0,[cp,U9,bt],[()=>ZZ,()=>V1,()=>Cs]],IX=[3,d,IV,0,[kN,ws,Wr],[0,0,()=>br]],AX=[3,d,AV,0,[hE,oE,Ss,yr],[0,()=>PE,2,0]],xX=[3,d,xV,0,[mK,Q,Wr],[()=>IX,0,()=>br]],CX=[3,d,PV,0,[kO,xt,Pa],[()=>W1,0,0]],vX=[3,d,DV,0,[O9,_s,bt],[()=>W1,()=>Y1,()=>Cs]],S1=[3,d,NN,0,[Ia,$8],[0,4]],RX=[3,d,tW,0,[Wr,kN,ws],[()=>br,0,0]],b1=[3,d,iW,0,[Ra,fp,jN],[1,1,1]],_1=[3,d,aW,0,[Ly,$N],[()=>$1,0]],PX=[-3,d,FV,{[le]:pe},[ge,Wr],[0,()=>br]];se.TypeRegistry.for(d).registerError(PX,_N);var DX=[3,d,UN,0,[hr,Q,yo,Ut,zr,yr],[()=>_t,0,0,128,()=>Yr,0]],Gn=[3,d,bt,0,[Q,jN,Ra,fp,o1,Ca,mr],[0,1,1,1,()=>b1,()=>aD,()=>aD]],T1=[3,d,$y,0,[UV,wO],[0,()=>GJ]],NX=[-3,d,BV,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(NX,RD);var OX=[3,d,KV,0,[Q,xe,Gy,np],[0,0,0,0]],LX=[3,d,MV,0,[Q,By],[0,0]],MX=[3,d,kV,0,[Uy],[()=>E1]],kX=[3,d,GV,0,[xe,Bt,Fn,Wt,Vt,Er],[0,()=>Kt,()=>Eo,()=>Sr,()=>Ft,()=>ka]],UX=[3,d,qV,0,[Vr,sE],[0,()=>H1]],BX=[3,d,HV,0,[ip],[()=>xE]],FX=[3,d,zV,0,[ft],[0]],$X=[3,d,QV,0,[ft],[0]],GX=[3,d,JV,0,[ft,ap,Bn,Un,mr,s1],[0,0,()=>La,()=>Oa,()=>q1,0]],jX=[3,d,nW,0,[Ta,Q,Bt,Ca,mr,Ia,Wt,up,dp,TE,EE,jy,Er,tY,Vt],[()=>gp,0,()=>Kt,()=>RE,()=>yp,0,()=>Sr,()=>hp,()=>Ma,()=>DE,0,2,()=>ka,0,()=>Ft]],qX=[3,d,oW,0,[As],[()=>xs]],HX=[3,d,YV,0,[lW,A6],[0,64]],zX=[3,d,bs,0,[hr,Q,yo,Ut,zr,yr],[()=>_t,0,0,128,()=>Yr,0]],VX=[3,d,dW,0,[wa],[0]],WX=[3,d,fW,0,[ky],[()=>y1]],KX=[3,d,vW,0,[xe],[0]],YX=[3,d,MW,0,[ft],[0]],XX=[3,d,BW,0,[Q,hr,Yy,Aa,uE,xt,Pa,yo,Ut,zr,yr],[0,()=>_t,()=>OE,0,0,0,0,0,128,()=>Yr,0]],QX=[3,d,$W,0,[My,bt,_s],[()=>br,()=>Gn,()=>mp]],JX=[3,d,XW,0,[ft],[0]],ZX=[3,d,QW,0,[ft],[0]],eQ=[3,d,zN,0,[hr],[()=>_t]],tQ=[3,d,ZW,0,[Is,KN],[0,0]],rQ=[3,d,eK,0,[iE],[0]],nQ=[3,d,nK,0,[Q],[0]],oQ=[3,d,sK,0,[As],[()=>xs]],sQ=[3,d,pW,0,[wa],[0]],iQ=[3,d,mW,0,[ky],[()=>y1]],aQ=[3,d,yW,0,[Q],[0]],cQ=[3,d,EW,0,[$y],[()=>T1]],lQ=[3,d,bW,0,[Q,xe],[0,0]],uQ=[3,d,_W,0,[Q,xe,WV,Gy,yO,rO,np],[0,0,64,0,4,()=>qQ,0]],dQ=[3,d,AW,0,[],[]],pQ=[3,d,xW,0,[ZN],[()=>SZ]],fQ=[3,d,wW,0,[Hy],[0]],mQ=[3,d,IW,0,[zy],[()=>I1]],hQ=[3,d,PW,0,[Vr],[0]],gQ=[3,d,DW,0,[ip],[()=>xE]],yQ=[3,d,OW,0,[Vr],[0]],EQ=[3,d,LW,0,[Vr,GO],[0,()=>z1]],SQ=[3,d,FW,0,[Xy],[0]],bQ=[3,d,GW,0,[tE],[()=>x1]],_Q=[3,d,HW,0,[Q],[0]],TQ=[3,d,zW,0,[Q,hO],[0,()=>NZ]],wQ=[3,d,KW,0,[],[]],IQ=[3,d,YW,0,[Qz,Jz,e9,t9],[1,1,1,1]],AQ=[3,d,oK,0,[Q],[0]],xQ=[3,d,iK,0,[o1],[()=>xs]],CQ=[3,d,cK,0,[Q],[0]],vQ=[3,d,lK,0,[yE],[()=>O1]],RQ=[3,d,dK,0,[Q],[0]],PQ=[3,d,pK,0,[bE],[()=>k1]],DQ=[-3,d,UW,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(DQ,QD);var w1=[3,d,Vy,0,[Oy],[0]],NQ=[3,d,jK,0,[uV,XV],[0,1]],OQ=[3,d,RK,0,[hE,oE,Ss,gr,xt,Ts,yr],[0,()=>PE,2,0,0,1,0]],LQ=[3,d,PK,0,[rE,gr,bt,nE],[()=>Ep,0,()=>Gn,()=>_t]],MQ=[3,d,LK,0,[u9,GN,xt],[()=>kZ,[0,4],0]],kQ=[3,d,MK,0,[cp,bt],[()=>G1,()=>Cs]],UQ=[3,d,yK,0,[IE,qK,$N,Ly],[()=>Yt,2,0,()=>$1]],BQ=[-3,d,SK,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(BQ,nN);var I1=[3,d,zy,0,[Hy,YN,mE,Wy,wK,Kr,Na,JN,op,dE,pE,YO,XO,ZO,tO,oO,WN,wV,xa,Ky,Qy],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>C1]],FQ=[-3,d,AK,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(FQ,zD);var $Q=[3,d,NK,0,[Hy,YN,Ky],[0,0,0]],GQ=[3,d,BK,0,[Kr,JN,op,dE,pE,YO,XO,ZO,WN,Ky,Qy],[0,4,[0,4],0,0,0,0,0,0,0,()=>C1]],jQ=[3,d,FK,0,[zy],[()=>I1]],qQ=[3,d,rO,0,[IK,bK],[0,0]],HQ=[3,d,sO,0,[hr,Q,va,Ut],[()=>_t,0,0,128]],zQ=[3,d,VK,0,[Q,hr,rp,Ss,xt,va,Ut],[0,()=>_t,64,2,0,0,128]],VQ=[3,d,WK,0,[Wr,bt],[()=>br,()=>Gn]],WQ=[3,d,YK,0,[Is],[0]],KQ=[3,d,XK,0,[NO,iE],[0,0]],YQ=[3,d,i6,0,[xe,Bt,Fn,Wt,Vt,Er],[0,()=>Kt,()=>Eo,()=>Sr,()=>Ft,()=>ka]],XQ=[3,d,QK,0,[xe,PO],[0,()=>$n]],QQ=[3,d,ZK,0,[xe,Bt,Fn,eE,dV,Wt,dO,xa,lO,Vt,Er],[0,()=>Kt,()=>Eo,0,2,()=>D1,1,1,0,()=>Ft,()=>A1]],JQ=[3,d,t6,0,[xe,Bt,Fn,Wt,Vt],[0,()=>Kt,()=>Eo,()=>Sr,()=>Ft]],ZQ=[3,d,n6,0,[pp,sp,bs],[()=>Q7,()=>kX,()=>KX]],A1=[3,d,s6,0,[cE,AE,gE],[1,1,0]],eJ=[3,d,a6,0,[Vr,sE],[0,()=>H1]],tJ=[-3,d,l6,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(tJ,UD);var xE=[3,d,ip,0,[sE,c6,BN,g6,Vr],[()=>j1,0,4,0,0]],rJ=[3,d,cO,0,[xe,DO,b5],[0,1,()=>$n]],nJ=[-3,d,f6,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(nJ,WD);var oJ=[3,d,S6,0,[ft,rX],[0,0]],sJ=[3,d,_6,0,[sp,bs],[()=>FX,()=>YX]],iJ=[-3,d,F6,{[le]:pe},[ws],[0]];se.TypeRegistry.for(d).registerError(iJ,ZD);var aJ=[-3,d,x6,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(aJ,lN);var cJ=[-3,d,U6,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(cJ,YD);var lJ=[3,d,H6,0,[Xy,fO,Kr,lp,qN,Jy,mE,Wy],[0,0,0,()=>CE,0,0,4,4]],x1=[3,d,tE,0,[Xy,fO,Kr,Na,op,lp,EK,qN,Jy,Zy,uO,SE,mE,Wy,f5,Q8,M6,tO,oO],[0,0,0,0,0,()=>CE,1,0,0,()=>v1,0,()=>L1,4,4,1,1,1,0,0]],uJ=[3,d,V6,0,[op,lp,Jy,Zy,uO,SE],[[0,4],()=>CE,0,()=>v1,0,()=>L1]],dJ=[3,d,W6,0,[tE],[()=>x1]],C1=[3,d,Qy,0,[_K,kK,GK],[4,4,0]],pJ=[-3,d,B6,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(pJ,SN);var v1=[3,d,Zy,0,[cW],[()=>HX]],fJ=[-3,d,q6,{[le]:aX},[ge],[0]];se.TypeRegistry.for(d).registerError(fJ,fD);var mJ=[-3,d,O6,{[le]:pe,[h1]:421},[ws],[0]];se.TypeRegistry.for(d).registerError(mJ,SD);var hJ=[-3,d,L6,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(hJ,sN);var gJ=[-3,d,j6,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(gJ,fN);var mp=[3,d,_s,0,[C6,AY],[()=>eee,65]],yJ=[-3,d,D6,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(yJ,AD);var EJ=[3,d,$6,0,[Wr],[()=>br]],SJ=[3,d,K6,0,[n8,rp,Ss,va,Ut],[()=>DZ,64,2,0,128]],bJ=[3,d,t8,0,[tp,r8],[0,0]],_J=[3,d,X6,0,[Da,qy,tK,Oy],[0,0,0,0]],R1=[3,d,Z6,0,[Q,Da,Vy],[0,0,()=>w1]],P1=[3,d,e8,0,[Q,Da,qy,Vy],[0,0,0,()=>w1]],TJ=[-3,d,m8,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(TJ,DD);var wJ=[3,d,i8,0,[Q,Ts,i9,a9,CK,Fy],[0,1,4,4,0,0]],IJ=[3,d,a8,0,[MN,f8],[()=>gZ,0]],AJ=[3,d,l8,0,[Q,gr,EO],[0,0,1]],xJ=[3,d,u8,0,[FN,gr],[()=>EZ,0]],CJ=[3,d,g8,0,[Kr,EO,gr],[0,1,0]],vJ=[3,d,y8,0,[QN,gr],[()=>bZ,0]],RJ=[3,d,b8,0,[vK,Ts,ft],[0,1,0]],PJ=[3,d,_8,0,[I6,h8],[()=>xZ,0]],DJ=[3,d,I8,0,[Kr,p5,gr],[0,1,0]],NJ=[3,d,A8,0,[pO,gr],[()=>RZ,0]],OJ=[3,d,M8,0,[DK,Ts],[0,1]],LJ=[3,d,k8,0,[n9,E8],[64,0]],MJ=[3,d,B8,0,[Is,gr],[0,0]],kJ=[3,d,F8,0,[TE,gr],[()=>DE,0]],UJ=[3,d,N8,0,[xe,Bt,Fn],[0,()=>Kt,()=>Eo]],BJ=[3,d,v8,0,[xe,Bt,Fn,dO,xa,lO],[0,()=>Kt,()=>Eo,1,1,0]],FJ=[3,d,P8,0,[xe,Bt,Fn],[0,()=>Kt,()=>Eo]],Ft=[3,d,Vt,0,[bO,q8],[1,1]],Oa=[3,d,Un,0,[bO],[1]],$J=[3,d,h5,0,[hE,oE,yr],[0,()=>PE,0]],GJ=[3,d,wO,0,[r5,UO,xK,x8],[0,1,4,4]],jJ=[3,d,IO,0,[t5,UO],[2,1]],qJ=[-3,d,n5,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(qJ,aN);var HJ=[-3,d,o5,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(HJ,qD);var Eo=[3,d,Fn,0,[S5,V8],[0,64]],Sr=[3,d,Wt,0,[Ra,fp],[1,1]],D1=[3,d,y5,0,[w8,d8,W8,Ra,fp],[4,4,1,1,1]],zJ=[-3,d,E5,{[le]:pe},[ge,c1],[0,()=>NE]];se.TypeRegistry.for(d).registerError(zJ,_D);var La=[3,d,Bn,0,[Ra],[1]],VJ=[3,d,OO,0,[Wr,Q,yo,Ut,zr,yr],[()=>LE,0,0,128,()=>Yr,0]],WJ=[3,d,J8,0,[Q,Wr,Yy,uE,xt,Pa,Aa,yo,Ut,zr,yr],[0,()=>LE,()=>OE,0,0,0,0,0,128,()=>Yr,0]],KJ=[3,d,e5,0,[My,bt,_s],[()=>br,()=>Gn,()=>mp]],YJ=[3,d,xO,0,[Wr],[()=>LE]],XJ=[3,d,u5,0,[Is,NO,KN,eW],[0,0,0,[2,{[oX]:lX}]]],QJ=[3,d,d5,0,[iE],[0]],JJ=[3,d,w5,0,[Q,xe,n1,rp,Ts,Ss,mO,T5,Aa,RY,XN,xt,va,nO,Y6,Ut,zr],[0,0,0,64,1,2,()=>tee,()=>K1,0,2,()=>_t,0,0,0,0,128,()=>Yr]],ZJ=[3,d,I5,0,[rE,HN,VO,nE,bt],[()=>Ep,1,1,()=>_t,()=>Gn]],e7=[3,d,bY,0,[ft],[0]],t7=[-3,d,A5,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(t7,hN);var r7=[3,d,x5,0,[ft,mr,BO,$O,aE],[0,()=>GZ,()=>kn,()=>kn,0]],n7=[3,d,v5,0,[ft,z5,nY],[0,()=>jZ,()=>$n]],o7=[3,d,D5,0,[ft,aE,sY,cY,ap,Bn,Un,Er,mr,K5,HO],[0,0,0,0,0,()=>La,()=>Oa,()=>M1,()=>qZ,4,()=>vE]],s7=[3,d,O5,0,[xe,Bn,Un],[0,()=>La,()=>Oa]],i7=[3,d,L5,0,[xe,eE,CO,RO],[0,0,()=>kn,()=>kn]],a7=[3,d,k5,0,[xe,c5],[0,()=>$n]],c7=[3,d,B5,0,[xe,Bn,Un,Er],[0,()=>La,()=>Oa,()=>A1]],l7=[3,d,j5,0,[xe,eE,vO,CO,DO,RO],[0,0,1,()=>kn,1,()=>kn]],u7=[3,d,MO,0,[xe,vO,a5],[0,1,()=>$n]],d7=[-3,d,Z5,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(d7,yN);var p7=[3,d,aY,0,[ft,aE,P5,FO,BO,oY,$O,G5,HO],[0,0,()=>S1,1,()=>kn,1,()=>kn,()=>HZ,()=>vE]],f7=[3,d,jO,0,[ft,FO,rY,MO,uY],[0,1,()=>$n,()=>zZ,0]],m7=[-3,d,SY,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(m7,CD);var h7=[3,d,V5,0,[sp,pp,bs],[()=>GX,()=>iZ,()=>ZX]],g7=[3,d,yY,0,[sp,bs],[()=>$X,()=>JX]],y7=[-3,d,J5,{[le]:pe},[ge,c1],[0,()=>NE]];se.TypeRegistry.for(d).registerError(y7,hD);var E7=[-3,d,X5,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(E7,FD);var S7=[-3,d,eY,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(S7,wD);var b7=[3,d,qO,0,[TY,e1,LO,Y5],[0,0,4,2]],_7=[3,d,pY,0,[d1,wa,DN,iO,gO,Bn,Un,QO],[0,0,0,()=>yp,()=>RE,()=>Sr,()=>Ft,()=>Ma]],T7=[3,d,fY,0,[As],[()=>xs]],w7=[3,d,hY,0,[e1,MY,d1,G9,LO,DN,iO,gO,Bn,Un,QO],[0,0,0,2,4,0,()=>yp,()=>RE,()=>Sr,()=>Ft,()=>Ma]],I7=[3,d,gY,0,[As],[()=>xs]],CE=[3,d,lp,0,[pE,dE,PY],[0,0,0]],A7=[3,d,CY,0,[Q,xe,rp,Ts,n1,xY,Aa,XN,xt,d9,FY,va,nO,Ut,zr,Ss],[0,0,64,1,0,()=>K1,0,()=>_t,0,1,1,0,0,128,()=>Yr,2]],x7=[3,d,DY,0,[rE,HN,VO,nE,bt],[()=>Ep,1,1,()=>_t,()=>Gn]],C7=[3,d,t1,0,[Q,Na,Kr,l1,Bt,GY,Wt,Vt,xa,Ia],[0,0,0,1,()=>Kt,4,()=>Sr,()=>Ft,1,0]],v7=[3,d,r1,0,[Ca,mr,wY,bE,fE],[()=>MZ,()=>wZ,()=>hp,()=>k1,()=>N1]],N1=[3,d,fE,0,[gE,JO,J6,N6],[0,0,0,4]],Ma=[3,d,dp,0,[eO,JO,ap],[2,0,0]],hp=[3,d,up,0,[IY,kY],[2,0]],R7=[-3,d,$Y,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(R7,dN);var O1=[3,d,yE,0,[Q,u1,zO],[0,0,()=>FZ]],vE=[3,d,i1,0,[EE,yO],[0,4]],L1=[3,d,SE,0,[Q,Ta,Bt,Ia,Wt,Vt,dp,mr],[0,()=>gp,()=>Kt,0,()=>Sr,()=>Ft,()=>Ma,()=>yp]],xs=[3,d,As,0,[Ta,Q,Bt,u1,BN,Wt,l1,xa,Kr,Na,NN,Ca,mr,up,O8,C8,y6,zO,E6,qO,fE,AN,i1,jy,Vt,Er,SO],[()=>gp,0,()=>Kt,0,4,()=>D1,1,1,0,0,()=>S1,()=>LZ,()=>TZ,()=>hp,0,0,0,()=>j1,()=>CZ,()=>b7,()=>N1,()=>uX,()=>vE,2,()=>Ft,()=>M1,0]],P7=[-3,d,QY,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(P7,OD);var D7=[-3,d,r9,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError(D7,MD);var M1=[3,d,E9,0,[cE,AE,gE],[1,1,0]],N7=[3,d,S9,0,[hr,IE],[0,0]],O7=[3,d,o9,0,[Is,TE],[0,()=>DE]],L7=[-3,d,HY,{[le]:pe,[h1]:400,[nX]:["Throttling",400]},[ge,cX],[0,()=>NE]];se.TypeRegistry.for(d).registerError(L7,yD);var M7=[3,d,l9,0,[sX,iX],[0,0]],k1=[3,d,bE,0,[p9,tp],[0,0]],U1=[3,d,_E,0,[eO,tp],[2,0]],k7=[3,d,zY,0,[sO],[()=>HQ]],U7=[3,d,VY,0,[a1,xt],[()=>YZ,0]],B7=[3,d,KY,0,[bt,cp],[()=>Cs,()=>G1]],F7=[-3,d,jY,{[le]:pe},[ws,rW],[0,()=>yZ]];se.TypeRegistry.for(d).registerError(F7,wN);var $7=[-3,d,qY,{[le]:pe},[ge],[0]];se.TypeRegistry.for(d).registerError($7,GD);var G7=[-3,d,XY,{[le]:pe},[ws],[0]];se.TypeRegistry.for(d).registerError(G7,tN);var j7=[3,d,f9,0,[UN,OO,bs,pp],[()=>DX,()=>VJ,()=>zX,()=>V7]],q7=[3,d,m9,0,[a1,xt,Pa,GN],[()=>XZ,0,0,[0,4]]],H7=[3,d,g9,0,[bt,_s],[()=>Cs,()=>Y1]],z7=[3,d,H9,0,[Is,JY],[0,64]],V7=[3,d,pp,0,[hr,m1,Q,yo,Ut,zr,yr],[()=>_t,0,0,0,128,()=>Yr,0]],W7=[3,d,_9,0,[Q,IO],[0,()=>jJ]],K7=[3,d,T9,0,[$y],[()=>T1]],Y7=[3,d,I9,0,[Q,xe,VV,np],[0,0,0,0]],X7=[3,d,A9,0,[Q,xe,Gy,np],[0,0,0,0]],Q7=[3,d,x9,0,[xe,Wt,Vt,Er],[0,()=>Sr,()=>Ft,()=>ka]],J7=[3,d,v9,0,[Vr,lE],[0,()=>KZ]],Z7=[3,d,R9,0,[ip],[()=>xE]],eZ=[3,d,D9,0,[Vr,u6,h6,m6,cO,jO],[0,0,1,()=>$n,()=>AZ,()=>VZ]],tZ=[3,d,N9,0,[Vr,GO],[0,()=>z1]],rZ=[3,d,L9,0,[Q,hr,vN,Yy,Aa,uE,xt,Pa,m1,yo,Ut,zr,yr],[0,()=>_t,()=>JZ,()=>OE,0,0,0,0,0,0,128,()=>Yr,0]],nZ=[3,d,M9,0,[My,bt,_s],[()=>br,()=>Gn,()=>mp]],B1=[3,d,wE,0,[Oy],[0]],oZ=[3,d,F9,0,[Q,Da,wE],[0,0,()=>B1]],sZ=[3,d,$9,0,[Q,Da,qy,wE],[0,0,0,()=>B1]],iZ=[3,d,q9,0,[ft,ap,Bn,Un,mr,s1],[0,0,()=>La,()=>Oa,()=>q1,0]],aZ=[3,d,V9,0,[Ta,Q,Ia,Wt,aO,up,dp,lE,EE,jy,SO,w6,Vt,Er],[()=>gp,0,0,()=>Sr,()=>IZ,()=>hp,()=>Ma,()=>WZ,0,2,0,()=>vZ,()=>Ft,()=>ka]],cZ=[3,d,W9,0,[As],[()=>xs]],lZ=[3,d,Y9,0,[aO,Q,PO,lE],[()=>_Z,0,()=>$n,()=>$Z]],uZ=[3,d,X9,0,[yE],[()=>O1]],dZ=[3,d,J9,0,[Q,_E],[0,()=>U1]],pZ=[3,d,Z9,0,[_E],[()=>U1]],ka=[3,d,Er,0,[cE,AE],[1,1]],fZ=[3,d,eX,0,[xO,zN],[()=>YJ,()=>eQ]],F1="unit",mZ=[-3,g1,"DynamoDBServiceException",0,[],[]];se.TypeRegistry.for(g1).registerError(mZ,ie);var gp=[1,d,Ta,0,()=>dX],$1=[1,d,Ly,0,()=>Yt],hZ=[1,d,tV,0,()=>fX],gZ=[1,d,MN,0,()=>SX],yZ=[1,d,ZV,0,()=>RX],Cs=[1,d,$V,0,()=>Gn],EZ=[1,d,FN,0,()=>OX],SZ=[1,d,ZN,0,()=>NQ],bZ=[1,d,QN,0,()=>$Q],_Z=[1,d,JK,0,()=>XQ],TZ=[1,d,e6,0,()=>QQ],wZ=[1,d,mr,0,()=>JQ],yp=[1,d,r6,0,()=>YQ],IZ=[1,d,o6,0,()=>ZQ],AZ=[1,d,d6,0,()=>rJ],xZ=[1,d,p6,0,()=>eJ],CZ=[1,d,b6,0,()=>oJ],vZ=[1,d,T6,0,()=>sJ],RZ=[1,d,pO,0,()=>lJ],PZ=[1,d,R6,0,()=>mp],Ep=[1,d,k6,0,()=>br],G1=[1,d,G6,0,()=>EJ],DZ=[1,d,Q6,0,()=>_t],Kt=[1,d,Bt,0,()=>bJ],NZ=[1,d,hO,0,()=>_J],OZ=[1,d,o8,0,()=>Yt],LZ=[1,d,R8,0,()=>BJ],MZ=[1,d,Ca,0,()=>FJ],RE=[1,d,D8,0,()=>UJ],kZ=[1,d,g5,0,()=>$J],UZ=[1,d,s5,0,()=>AX],BZ=[1,d,i5,0,()=>xX],PE=[1,d,m5,0,()=>Yt],FZ=[1,d,C5,0,()=>r7],$Z=[1,d,R5,0,()=>n7],j1=[1,d,N5,0,()=>o7],GZ=[1,d,M5,0,()=>i7],jZ=[1,d,U5,0,()=>a7],qZ=[1,d,F5,0,()=>c7],q1=[1,d,$5,0,()=>s7],HZ=[1,d,q5,0,()=>l7],zZ=[1,d,H5,0,()=>u7],H1=[1,d,Q5,0,()=>e7],z1=[1,d,iY,0,()=>p7],VZ=[1,d,lY,0,()=>f7],WZ=[1,d,W5,0,()=>h7],KZ=[1,d,EY,0,()=>g7],DE=[1,d,ZY,0,()=>N7],NE=[1,d,s9,0,()=>M7],YZ=[1,d,WY,0,()=>k7],XZ=[1,d,h9,0,()=>j7],QZ=[1,d,tX,0,()=>fZ],br=[2,d,Xz,0,0,()=>Yt],JZ=[2,d,vN,0,0,()=>pX],V1=[2,d,SV,0,0,()=>SJ],ZZ=[2,d,EV,0,0,()=>Ep],W1=[2,d,NV,0,0,()=>QZ],OE=[2,d,hK,0,0,()=>UQ],Yr=[2,d,gK,0,0,()=>Yt],K1=[2,d,HK,0,0,()=>_1],eee=[2,d,v6,0,0,()=>Yt],Y1=[2,d,P6,0,0,()=>PZ],_t=[2,d,hr,0,0,()=>Yt],tee=[2,d,mO,0,0,()=>_1],ree=[2,d,j8,0,0,()=>Yt],LE=[2,d,Z8,0,0,()=>Yt],aD=[2,d,vY,0,0,()=>b1],Yt=[3,d,cV,0,[UY,z8,OV,LY,K8,CV,H8,G8,Y8,TV],[0,0,21,64,64,85,()=>ree,()=>OZ,2,2]],nee=[9,d,pV,0,()=>bX,()=>_X],oee=[9,d,hV,0,()=>TX,()=>wX],see=[9,d,RV,0,()=>CX,()=>vX],iee=[9,d,LV,0,()=>LX,()=>MX],aee=[9,d,jV,0,()=>UX,()=>BX],cee=[9,d,sW,0,()=>jX,()=>qX],lee=[9,d,uW,0,()=>VX,()=>WX],uee=[9,d,kW,0,()=>XX,()=>QX],dee=[9,d,JW,0,()=>tQ,()=>rQ],pee=[9,d,rK,0,()=>nQ,()=>oQ],fee=[9,d,hW,0,()=>sQ,()=>iQ],mee=[9,d,gW,0,()=>aQ,()=>cQ],hee=[9,d,SW,0,()=>lQ,()=>uQ],gee=[9,d,TW,0,()=>dQ,()=>pQ],yee=[9,d,CW,0,()=>fQ,()=>mQ],Eee=[9,d,RW,0,()=>hQ,()=>gQ],See=[9,d,NW,0,()=>yQ,()=>EQ],bee=[9,d,jW,0,()=>SQ,()=>bQ],_ee=[9,d,qW,0,()=>_Q,()=>TQ],Tee=[9,d,WW,0,()=>wQ,()=>IQ],wee=[9,d,fK,0,()=>AQ,()=>xQ],Iee=[9,d,aK,0,()=>CQ,()=>vQ],Aee=[9,d,uK,0,()=>RQ,()=>PQ],xee=[9,d,VW,0,()=>R1,()=>P1],Cee=[9,d,TK,0,()=>R1,()=>P1],vee=[9,d,OK,0,()=>OQ,()=>LQ],Ree=[9,d,$K,0,()=>MQ,()=>kQ],Pee=[9,d,UK,0,()=>GQ,()=>jQ],Dee=[9,d,zK,0,()=>zQ,()=>VQ],Nee=[9,d,KK,0,()=>WQ,()=>KQ],Oee=[9,d,z6,0,()=>uJ,()=>dJ],Lee=[9,d,s8,0,()=>wJ,()=>IJ],Mee=[9,d,c8,0,()=>AJ,()=>xJ],kee=[9,d,p8,0,()=>CJ,()=>vJ],Uee=[9,d,S8,0,()=>RJ,()=>PJ],Bee=[9,d,T8,0,()=>DJ,()=>NJ],Fee=[9,d,L8,0,()=>OJ,()=>LJ],$ee=[9,d,U8,0,()=>MJ,()=>kJ],Gee=[9,d,X8,0,()=>WJ,()=>KJ],jee=[9,d,l5,0,()=>XJ,()=>QJ],qee=[9,d,_5,0,()=>JJ,()=>ZJ],Hee=[9,d,dY,0,()=>_7,()=>T7],zee=[9,d,mY,0,()=>w7,()=>I7],Vee=[9,d,BY,0,()=>A7,()=>x7],Wee=[9,d,c9,0,()=>O7,()=>F1],Kee=[9,d,YY,0,()=>U7,()=>B7],Yee=[9,d,y9,0,()=>q7,()=>H7],Xee=[9,d,j9,0,()=>z7,()=>F1],Qee=[9,d,b9,0,()=>W7,()=>K7],Jee=[9,d,w9,0,()=>Y7,()=>X7],Zee=[9,d,C9,0,()=>J7,()=>Z7],ete=[9,d,P9,0,()=>eZ,()=>tZ],tte=[9,d,k9,0,()=>rZ,()=>nZ],rte=[9,d,B9,0,()=>oZ,()=>sZ],nte=[9,d,z9,0,()=>aZ,()=>cZ],ote=[9,d,K9,0,()=>lZ,()=>uZ],ste=[9,d,Q9,0,()=>dZ,()=>pZ],ha=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(gee).build(){},ite=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},ate=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),cte=(e,t)=>{let r=Object.assign(sD.getAwsRegionExtensionConfiguration(e),U.getDefaultExtensionConfiguration(e),iD.getHttpHandlerExtensionConfiguration(e),ite(e));return t.forEach(n=>n.configure(r)),Object.assign(e,sD.resolveAwsRegionExtensionConfiguration(r),U.resolveDefaultRuntimeConfig(r),iD.resolveHttpHandlerRuntimeConfig(r),ate(r))},fr=class extends U.Client{config;constructor(...[t]){let r=rz.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=nz(r),o=X4.resolveAccountIdEndpointModeConfig(n),s=rD.resolveUserAgentConfig(o),i=nD.resolveRetryConfig(s),a=ez.resolveRegionConfig(i),l=tD.resolveHostHeaderConfig(a),u=$.resolveEndpointConfig(l),m=oD.resolveHttpAuthSchemeConfig(u),h=Q4.resolveEndpointDiscoveryConfig(m,{endpointDiscoveryCommandCtor:ha}),y=cte(h,t?.extensions||[]);this.config=y,this.middlewareStack.use(se.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(rD.getUserAgentPlugin(this.config)),this.middlewareStack.use(nD.getRetryPlugin(this.config)),this.middlewareStack.use(tz.getContentLengthPlugin(this.config)),this.middlewareStack.use(tD.getHostHeaderPlugin(this.config)),this.middlewareStack.use(J4.getLoggerPlugin(this.config)),this.middlewareStack.use(Z4.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Hr.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:oD.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new Hr.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Hr.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},sd=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(nee).build(){},id=class extends U.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc(oee).build(){},ad=class extends U.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(see).build(){},cd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(iee).build(){},ld=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(aee).build(){},ud=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc(cee).build(){},dd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(lee).build(){},pd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(uee).build(){},fd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc(dee).build(){},md=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(pee).build(){},hd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(fee).build(){},gd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc(mee).build(){},yd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(hee).build(){},Ed=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(yee).build(){},Sd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc(Eee).build(){},bd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(See).build(){},_d=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(bee).build(){},Td=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(_ee).build(){},wd=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(Tee).build(){},Es=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(wee).build(){},Id=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(Iee).build(){},Ad=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(Aee).build(){},xd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(xee).build(){},Cd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(Cee).build(){},vd=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(vee).build(){},Rd=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(Ree).build(){},Pd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(Pee).build(){},Dd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(Dee).build(){},Nd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(Nee).build(){},Od=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"operationContextParams",get:t=>t?.TableCreationParameters?.TableName}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(Oee).build(){},Ld=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(Lee).build(){},ga=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc(Mee).build(){},ya=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(kee).build(){},Md=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(Uee).build(){},Ea=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(Bee).build(){},Sa=class extends U.Command.classBuilder().ep(G).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(Fee).build(){},kd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc($ee).build(){},Ud=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(Gee).build(){},Bd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(jee).build(){},ba=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(qee).build(){},Fd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(Hee).build(){},$d=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(zee).build(){},_a=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(Vee).build(){},Gd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(Wee).build(){},jd=class extends U.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(Kee).build(){},qd=class extends U.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(Yee).build(){},Hd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc(Xee).build(){},zd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(Qee).build(){},Vd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(Jee).build(){},Wd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(Zee).build(){},Kd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(ete).build(){},Yd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(tte).build(){},Xd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc(rte).build(){},Qd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(nte).build(){},Jd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc(ote).build(){},Zd=class extends U.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[$.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(ste).build(){},lte={BatchExecuteStatementCommand:sd,BatchGetItemCommand:id,BatchWriteItemCommand:ad,CreateBackupCommand:cd,CreateGlobalTableCommand:ld,CreateTableCommand:ud,DeleteBackupCommand:dd,DeleteItemCommand:pd,DeleteResourcePolicyCommand:fd,DeleteTableCommand:md,DescribeBackupCommand:hd,DescribeContinuousBackupsCommand:gd,DescribeContributorInsightsCommand:yd,DescribeEndpointsCommand:ha,DescribeExportCommand:Ed,DescribeGlobalTableCommand:Sd,DescribeGlobalTableSettingsCommand:bd,DescribeImportCommand:_d,DescribeKinesisStreamingDestinationCommand:Td,DescribeLimitsCommand:wd,DescribeTableCommand:Es,DescribeTableReplicaAutoScalingCommand:Id,DescribeTimeToLiveCommand:Ad,DisableKinesisStreamingDestinationCommand:xd,EnableKinesisStreamingDestinationCommand:Cd,ExecuteStatementCommand:vd,ExecuteTransactionCommand:Rd,ExportTableToPointInTimeCommand:Pd,GetItemCommand:Dd,GetResourcePolicyCommand:Nd,ImportTableCommand:Od,ListBackupsCommand:Ld,ListContributorInsightsCommand:ga,ListExportsCommand:ya,ListGlobalTablesCommand:Md,ListImportsCommand:Ea,ListTablesCommand:Sa,ListTagsOfResourceCommand:kd,PutItemCommand:Ud,PutResourcePolicyCommand:Bd,QueryCommand:ba,RestoreTableFromBackupCommand:Fd,RestoreTableToPointInTimeCommand:$d,ScanCommand:_a,TagResourceCommand:Gd,TransactGetItemsCommand:jd,TransactWriteItemsCommand:qd,UntagResourceCommand:Hd,UpdateContinuousBackupsCommand:zd,UpdateContributorInsightsCommand:Vd,UpdateGlobalTableCommand:Wd,UpdateGlobalTableSettingsCommand:Kd,UpdateItemCommand:Yd,UpdateKinesisStreamingDestinationCommand:Xd,UpdateTableCommand:Qd,UpdateTableReplicaAutoScalingCommand:Jd,UpdateTimeToLiveCommand:Zd},ep=class extends fr{};U.createAggregatedClient(lte,ep);var ute=Hr.createPaginator(fr,ga,"NextToken","NextToken","MaxResults"),dte=Hr.createPaginator(fr,ya,"NextToken","NextToken","MaxResults"),pte=Hr.createPaginator(fr,Ea,"NextToken","NextToken","PageSize"),fte=Hr.createPaginator(fr,Sa,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),mte=Hr.createPaginator(fr,ba,"ExclusiveStartKey","LastEvaluatedKey","Limit"),hte=Hr.createPaginator(fr,_a,"ExclusiveStartKey","LastEvaluatedKey","Limit"),X1=async(e,t)=>{let r;try{let n=await e.send(new Es(t));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:zt.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:zt.WaiterState.RETRY,reason:r}}return{state:zt.WaiterState.RETRY,reason:r}},gte=async(e,t)=>{let r={minDelay:20,maxDelay:120};return zt.createWaiter({...r,...e},t,X1)},yte=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await zt.createWaiter({...r,...e},t,X1);return zt.checkExceptions(n)},Q1=async(e,t)=>{let r;try{r=await e.send(new Es(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:zt.WaiterState.SUCCESS,reason:r}}return{state:zt.WaiterState.RETRY,reason:r}},Ete=async(e,t)=>{let r={minDelay:20,maxDelay:120};return zt.createWaiter({...r,...e},t,Q1)},Ste=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await zt.createWaiter({...r,...e},t,Q1);return zt.checkExceptions(n)};Object.defineProperty(I,"$Command",{enumerable:!0,get:function(){return U.Command}});Object.defineProperty(I,"__Client",{enumerable:!0,get:function(){return U.Client}});I.ApproximateCreationDateTimePrecision=oz;I.AttributeAction=sz;I.BackupInUseException=lD;I.BackupNotFoundException=dD;I.BackupStatus=az;I.BackupType=cz;I.BackupTypeFilter=gz;I.BatchExecuteStatementCommand=sd;I.BatchGetItemCommand=id;I.BatchStatementErrorCodeEnum=Sz;I.BatchWriteItemCommand=ad;I.BillingMode=lz;I.ComparisonOperator=_z;I.ConditionalCheckFailedException=_N;I.ConditionalOperator=Tz;I.ContinuousBackupsStatus=wz;I.ContinuousBackupsUnavailableException=RD;I.ContributorInsightsAction=Az;I.ContributorInsightsMode=xz;I.ContributorInsightsStatus=Cz;I.CreateBackupCommand=cd;I.CreateGlobalTableCommand=ld;I.CreateTableCommand=ud;I.DeleteBackupCommand=dd;I.DeleteItemCommand=pd;I.DeleteResourcePolicyCommand=fd;I.DeleteTableCommand=md;I.DescribeBackupCommand=hd;I.DescribeContinuousBackupsCommand=gd;I.DescribeContributorInsightsCommand=yd;I.DescribeEndpointsCommand=ha;I.DescribeExportCommand=Ed;I.DescribeGlobalTableCommand=Sd;I.DescribeGlobalTableSettingsCommand=bd;I.DescribeImportCommand=_d;I.DescribeKinesisStreamingDestinationCommand=Td;I.DescribeLimitsCommand=wd;I.DescribeTableCommand=Es;I.DescribeTableReplicaAutoScalingCommand=Id;I.DescribeTimeToLiveCommand=Ad;I.DestinationStatus=Hz;I.DisableKinesisStreamingDestinationCommand=xd;I.DuplicateItemException=QD;I.DynamoDB=ep;I.DynamoDBClient=fr;I.DynamoDBServiceException=ie;I.EnableKinesisStreamingDestinationCommand=Cd;I.ExecuteStatementCommand=vd;I.ExecuteTransactionCommand=Rd;I.ExportConflictException=nN;I.ExportFormat=kz;I.ExportNotFoundException=zD;I.ExportStatus=Uz;I.ExportTableToPointInTimeCommand=Pd;I.ExportType=Bz;I.ExportViewType=Fz;I.GetItemCommand=Dd;I.GetResourcePolicyCommand=Nd;I.GlobalTableAlreadyExistsException=UD;I.GlobalTableNotFoundException=WD;I.GlobalTableStatus=vz;I.IdempotentParameterMismatchException=ZD;I.ImportConflictException=lN;I.ImportNotFoundException=YD;I.ImportStatus=Gz;I.ImportTableCommand=Od;I.IndexNotFoundException=SN;I.IndexStatus=Rz;I.InputCompressionType=jz;I.InputFormat=qz;I.InternalServerError=fD;I.InvalidEndpointException=SD;I.InvalidExportTimeException=sN;I.InvalidRestoreTimeException=fN;I.ItemCollectionSizeLimitExceededException=AD;I.KeyType=uz;I.LimitExceededException=DD;I.ListBackupsCommand=Ld;I.ListContributorInsightsCommand=ga;I.ListExportsCommand=ya;I.ListGlobalTablesCommand=Md;I.ListImportsCommand=Ea;I.ListTablesCommand=Sa;I.ListTagsOfResourceCommand=kd;I.MultiRegionConsistency=Lz;I.PointInTimeRecoveryStatus=Iz;I.PointInTimeRecoveryUnavailableException=aN;I.PolicyNotFoundException=qD;I.ProjectionType=dz;I.ProvisionedThroughputExceededException=_D;I.PutItemCommand=Ud;I.PutResourcePolicyCommand=Bd;I.QueryCommand=ba;I.ReplicaAlreadyExistsException=hN;I.ReplicaNotFoundException=yN;I.ReplicaStatus=Pz;I.ReplicatedWriteConflictException=CD;I.RequestLimitExceeded=hD;I.ResourceInUseException=FD;I.ResourceNotFoundException=wD;I.RestoreTableFromBackupCommand=Fd;I.RestoreTableToPointInTimeCommand=$d;I.ReturnConsumedCapacity=yz;I.ReturnItemCollectionMetrics=bz;I.ReturnValue=Mz;I.ReturnValuesOnConditionCheckFailure=Ez;I.S3SseAlgorithm=$z;I.SSEStatus=fz;I.SSEType=pz;I.ScalarAttributeType=iz;I.ScanCommand=_a;I.Select=zz;I.StreamViewType=mz;I.TableAlreadyExistsException=dN;I.TableClass=Dz;I.TableInUseException=OD;I.TableNotFoundException=MD;I.TableStatus=Nz;I.TagResourceCommand=Gd;I.ThrottlingException=yD;I.TimeToLiveStatus=hz;I.TransactGetItemsCommand=jd;I.TransactWriteItemsCommand=qd;I.TransactionCanceledException=wN;I.TransactionConflictException=GD;I.TransactionInProgressException=tN;I.UntagResourceCommand=Hd;I.UpdateContinuousBackupsCommand=zd;I.UpdateContributorInsightsCommand=Vd;I.UpdateGlobalTableCommand=Wd;I.UpdateGlobalTableSettingsCommand=Kd;I.UpdateItemCommand=Yd;I.UpdateKinesisStreamingDestinationCommand=Xd;I.UpdateTableCommand=Qd;I.UpdateTableReplicaAutoScalingCommand=Jd;I.UpdateTimeToLiveCommand=Zd;I.WitnessStatus=Oz;I.paginateListContributorInsights=ute;I.paginateListExports=dte;I.paginateListImports=pte;I.paginateListTables=fte;I.paginateQuery=mte;I.paginateScan=hte;I.waitForTableExists=gte;I.waitForTableNotExists=Ete;I.waitUntilTableExists=yte;I.waitUntilTableNotExists=Ste});var cL=v(Rs=>{"use strict";c();var vs=class e{value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new e(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}},Ba=(e,t)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return Sp();if(Array.isArray(e))return bte(e,t);if(e?.constructor?.name==="Set")return _te(e,t);if(e?.constructor?.name==="Map")return Tte(e,t);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return J1(e,t);if(aL(e))return e.length===0&&t?.convertEmptyValues?Sp():nL(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return iL(e,t);if(e instanceof vs)return e.toAttributeValue();if(typeof e=="bigint")return sL(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&t?.convertEmptyValues?Sp():oL(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return J1(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},bte=(e,t)=>({L:e.filter(r=>typeof r!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&r!==void 0)).map(r=>Ba(r,t))}),_te=(e,t)=>{let r=t?.removeUndefinedValues?new Set([...e].filter(o=>o!==void 0)):e;if(!t?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t?.convertEmptyValues)return Sp();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof vs)return{NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return{NS:Array.from(r).map(o=>iL(o,t)).map(o=>o.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(sL).map(o=>o.N)};if(typeof n=="string")return{SS:Array.from(r).map(oL).map(o=>o.S)};if(aL(n))return{BS:Array.from(r).map(nL).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},Tte=(e,t)=>({M:(r=>{let n={};for(let[o,s]of r)typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=Ba(s,t));return n})(e)}),J1=(e,t)=>({M:(r=>{let n={};for(let o in r){let s=r[o];typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=Ba(s,t))}return n})(e)}),Sp=()=>({NULL:!0}),nL=e=>({B:e}),oL=e=>({S:e.toString()}),sL=e=>({N:e.toString()}),Z1=e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},iL=(e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t?.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?Z1(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&Z1(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},aL=e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1},Ua=(e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return eL(n,t);case"B":return rL(n);case"S":return tL(n);case"L":return wte(n,t);case"M":return Ite(n,t);case"NS":return new Set(n.map(o=>eL(o,t)));case"BS":return new Set(n.map(rL));case"SS":return new Set(n.map(tL));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},eL=(e,t)=>{if(typeof t?.wrapNumbers=="function")return t?.wrapNumbers(e);if(t?.wrapNumbers)return vs.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},tL=e=>e,rL=e=>e,wte=(e,t)=>e.map(r=>Ua(r,t)),Ite=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(r[n]=Ua(o,t),r),{});function Ate(e,t){let r=Ba(e,t),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return t?.convertTopLevelContainer?r:o;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}var xte=(e,t)=>t?.convertWithoutMapWrapper?Ua(e,t):Ua({M:e},t);Rs.NumberValueImpl=vs;Rs.convertToAttr=Ba;Rs.convertToNative=Ua;Rs.marshall=Ate;Rs.unmarshall=xte});var dL=v(Oe=>{"use strict";c();var Ct=ME(),Np=te(),Cte=(We(),ae(nr)),UE=cL(),uL=(lt(),ae(to)),Fa=null,Y={},Xr=[],lL="*",bp=(e,t,r)=>{if(e!==void 0){if(r==null)return t(e);{let n=Object.keys(r),o=n.length===1&&n[0]===lL,s=n.length>=1&&!o,i=n.length===0;if(s)return BE(e,t,r);if(i)return vte(e,t,Fa);if(o)return Object.entries(e??{}).reduce((a,[l,u])=>(typeof u!="function"&&(a[l]=bp(u,t,r[lL])),a),Array.isArray(e)?[]:{})}}},BE=(e,t,r)=>{let n;if(Array.isArray(e))n=e.filter(o=>typeof o!="function");else{n={};for(let[o,s]of Object.entries(e))typeof s!="function"&&(n[o]=s)}for(let[o,s]of Object.entries(r)){if(typeof e[o]=="function")continue;let i=bp(e[o],t,s);i!==void 0&&typeof i!="function"&&(n[o]=i)}return n},vte=(e,t,r)=>Array.isArray(e)?e.filter(n=>typeof n!="function").map(n=>bp(n,t,r)):Object.entries(e).reduce((n,[o,s])=>{if(typeof s=="function")return n;let i=bp(s,t,r);return i!==void 0&&typeof i!="function"&&(n[o]=i),n},{}),Rte=(e,t,r)=>BE(e,o=>UE.marshall(o,r),t),Pte=(e,t,r)=>BE(e,o=>UE.unmarshall(o,r),t),ot=class extends Np.Command{addMarshallingMiddleware(t){let{marshallOptions:r={},unmarshallOptions:n={}}=t.translateConfig||{};r.convertTopLevelContainer=r.convertTopLevelContainer??!0,n.convertWithoutMapWrapper=n.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((o,s)=>async i=>(Cte.setFeature(s,"DDB_MAPPER","d"),o({...i,input:Rte(i.input,this.inputKeyNodes,r)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((o,s)=>async i=>{let a=await o(i);return a.output=Pte(a.output,this.outputKeyNodes,n),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}},_p=class extends ot{input;inputKeyNodes={Statements:{"*":{Parameters:Xr}}};outputKeyNodes={Responses:{"*":{Error:{Item:Y},Item:Y}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.BatchExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Tp=class extends ot{input;inputKeyNodes={RequestItems:{"*":{Keys:{"*":Y}}}};outputKeyNodes={Responses:{"*":{"*":Y}},UnprocessedKeys:{"*":{Keys:{"*":Y}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.BatchGetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},wp=class extends ot{input;inputKeyNodes={RequestItems:{"*":{"*":{PutRequest:{Item:Y},DeleteRequest:{Key:Y}}}}};outputKeyNodes={UnprocessedItems:{"*":{"*":{PutRequest:{Item:Y},DeleteRequest:{Key:Y}}}},ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:Y}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.BatchWriteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Ip=class extends ot{input;inputKeyNodes={Key:Y,Expected:{"*":{Value:Fa,AttributeValueList:Xr}},ExpressionAttributeValues:Y};outputKeyNodes={Attributes:Y,ItemCollectionMetrics:{ItemCollectionKey:Y}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.DeleteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Ap=class extends ot{input;inputKeyNodes={Parameters:Xr};outputKeyNodes={Items:{"*":Y},LastEvaluatedKey:Y};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.ExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},xp=class extends ot{input;inputKeyNodes={TransactStatements:{"*":{Parameters:Xr}}};outputKeyNodes={Responses:{"*":{Item:Y}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.ExecuteTransactionCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Cp=class extends ot{input;inputKeyNodes={Key:Y};outputKeyNodes={Item:Y};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.GetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},vp=class extends ot{input;inputKeyNodes={Item:Y,Expected:{"*":{Value:Fa,AttributeValueList:Xr}},ExpressionAttributeValues:Y};outputKeyNodes={Attributes:Y,ItemCollectionMetrics:{ItemCollectionKey:Y}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.PutItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},$a=class extends ot{input;inputKeyNodes={KeyConditions:{"*":{AttributeValueList:Xr}},QueryFilter:{"*":{AttributeValueList:Xr}},ExclusiveStartKey:Y,ExpressionAttributeValues:Y};outputKeyNodes={Items:{"*":Y},LastEvaluatedKey:Y};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.QueryCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Ga=class extends ot{input;inputKeyNodes={ScanFilter:{"*":{AttributeValueList:Xr}},ExclusiveStartKey:Y,ExpressionAttributeValues:Y};outputKeyNodes={Items:{"*":Y},LastEvaluatedKey:Y};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.ScanCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Rp=class extends ot{input;inputKeyNodes={TransactItems:{"*":{Get:{Key:Y}}}};outputKeyNodes={Responses:{"*":{Item:Y}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.TransactGetItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Pp=class extends ot{input;inputKeyNodes={TransactItems:{"*":{ConditionCheck:{Key:Y,ExpressionAttributeValues:Y},Put:{Item:Y,ExpressionAttributeValues:Y},Delete:{Key:Y,ExpressionAttributeValues:Y},Update:{Key:Y,ExpressionAttributeValues:Y}}}};outputKeyNodes={ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:Y}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.TransactWriteItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Dp=class extends ot{input;inputKeyNodes={Key:Y,AttributeUpdates:{"*":{Value:Fa}},Expected:{"*":{Value:Fa,AttributeValueList:Xr}},ExpressionAttributeValues:Y};outputKeyNodes={Attributes:Y,ItemCollectionMetrics:{ItemCollectionKey:Y}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Ct.UpdateItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Ps=class e extends Np.Client{config;constructor(t,r){if(super(t.config),this.config=t.config,this.config.translateConfig=r,this.middlewareStack=t.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(t,r){return new e(t,r)}destroy(){}},kE=class e extends Ps{static from(t,r){return new e(t,r)}batchExecuteStatement(t,r,n){let o=new _p(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}batchGet(t,r,n){let o=new Tp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}batchWrite(t,r,n){let o=new wp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}delete(t,r,n){let o=new Ip(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}executeStatement(t,r,n){let o=new Ap(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}executeTransaction(t,r,n){let o=new xp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}get(t,r,n){let o=new Cp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}put(t,r,n){let o=new vp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}query(t,r,n){let o=new $a(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}scan(t,r,n){let o=new Ga(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}transactGet(t,r,n){let o=new Rp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}transactWrite(t,r,n){let o=new Pp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}update(t,r,n){let o=new Dp(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}},Dte=uL.createPaginator(Ps,$a,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Nte=uL.createPaginator(Ps,Ga,"ExclusiveStartKey","LastEvaluatedKey","Limit");Object.defineProperty(Oe,"$Command",{enumerable:!0,get:function(){return Np.Command}});Object.defineProperty(Oe,"__Client",{enumerable:!0,get:function(){return Np.Client}});Object.defineProperty(Oe,"NumberValue",{enumerable:!0,get:function(){return UE.NumberValueImpl}});Oe.BatchExecuteStatementCommand=_p;Oe.BatchGetCommand=Tp;Oe.BatchWriteCommand=wp;Oe.DeleteCommand=Ip;Oe.DynamoDBDocument=kE;Oe.DynamoDBDocumentClient=Ps;Oe.DynamoDBDocumentClientCommand=ot;Oe.ExecuteStatementCommand=Ap;Oe.ExecuteTransactionCommand=xp;Oe.GetCommand=Cp;Oe.PutCommand=vp;Oe.QueryCommand=$a;Oe.ScanCommand=Ga;Oe.TransactGetCommand=Rp;Oe.TransactWriteCommand=Pp;Oe.UpdateCommand=Dp;Oe.paginateQuery=Dte;Oe.paginateScan=Nte});c();var pL=A(ME(),1),jn=A(dL(),1),fL=process.env.AWS_REGION||"us-east-1";console.log("[init] Initializing DynamoDB client");console.log(`[init] AWS_REGION from env: ${process.env.AWS_REGION||"not set"}`);console.log(`[init] Using region: ${fL}`);var Op=jn.DynamoDBDocumentClient.from(new pL.DynamoDBClient({region:fL}));async function Ote(e){let t=process.env.EIA_API_KEY;if(!t)return console.warn("EIA_API_KEY not configured, skipping EIA data"),null;try{let r=e.toUpperCase(),n=`https://api.eia.gov/v2/electricity/retail-sales/data/?api_key=${t}&frequency=monthly&data[0]=price&facets[stateid][]=${r}&sort[0][column]=period&sort[0][direction]=desc&length=1`,o=await fetch(n);if(!o.ok)return console.warn(`EIA API v2 failed, trying v1 fallback for ${e}`),await FE(e,t);let s=await o.json();if(s.response?.data&&s.response.data.length>0){let i=s.response.data[0].price;if(i&&i>0)return i/100}return await FE(e,t)}catch(r){return console.error(`Error fetching EIA rates for ${e}:`,r),await FE(e,process.env.EIA_API_KEY||"")}}async function FE(e,t){if(!t)return null;try{let o=`https://api.eia.gov/v2/seriesid/${`ELEC.PRICE.${e.toUpperCase()}-ALL.A`}/?api_key=${t}&out=json`,s=await fetch(o);if(!s.ok)return null;let i=await s.json();if(i.series&&i.series.length>0&&i.series[0].data){let a=i.series[0].data.filter(([,l])=>l!=null).map(([,l])=>l);if(a.length>0){let l=a.slice(-3);return l.reduce((m,h)=>m+h,0)/l.length/100}}return null}catch(r){return console.error(`Error fetching EIA v1 rates for ${e}:`,r),null}}async function Lte(e){let t=process.env.OPENEI_API_KEY;if(!t)return console.warn("OPENEI_API_KEY not configured, skipping OpenEI data"),null;try{let r=`https://api.openei.org/utility_rates?version=7&format=json&api_key=${t}&state=${e}&limit=1`,n=await fetch(r);if(!n.ok)throw new Error(`OpenEI API error: ${n.statusText}`);let o=await n.json();if(o.items&&o.items.length>0){let s=o.items.map(i=>i.rate).filter(i=>i>0);if(s.length>0)return s.reduce((a,l)=>a+l,0)/s.length}return null}catch(r){return console.error(`Error fetching OpenEI rates for ${e}:`,r),null}}function Mte(e,t,r){let n=["Green Energy Co","Budget Power","Eco Power Solutions","Reliable Energy","Smart Energy","Clean Power Co","Value Energy","Premium Power"],o=n[r%n.length],s=[];return[{planName:"Fixed Rate 12 Month",contractType:"fixed",contractLengthMonths:12,ratePerKwh:e*(.95+Math.random()*.1),renewablePercentage:Math.random()>.5?100:0,earlyTerminationFee:Math.random()>.5?0:50+Math.random()*100,supplierRating:3.5+Math.random()*1.5},{planName:"Fixed Rate 24 Month",contractType:"fixed",contractLengthMonths:24,ratePerKwh:e*(.9+Math.random()*.1),renewablePercentage:Math.random()>.5?50:0,earlyTerminationFee:100+Math.random()*150,supplierRating:3.5+Math.random()*1.5},{planName:"Variable Rate",contractType:"variable",contractLengthMonths:0,ratePerKwh:e*(.85+Math.random()*.15),renewablePercentage:Math.random()>.5?25:0,earlyTerminationFee:0,supplierRating:3+Math.random()*2},{planName:"Green Energy Plus",contractType:"fixed",contractLengthMonths:12,ratePerKwh:e*(1.05+Math.random()*.1),renewablePercentage:100,earlyTerminationFee:0,supplierRating:4+Math.random()*1}].forEach((a,l)=>{s.push({planId:`plan-${t}-${r}-${l}-${Date.now()}`,supplierName:o,planName:`${o} ${a.planName}`,ratePerKwh:Math.round(a.ratePerKwh*1e3)/1e3,contractType:a.contractType,contractLengthMonths:a.contractLengthMonths,renewablePercentage:a.renewablePercentage,earlyTerminationFee:Math.round(a.earlyTerminationFee||0),supplierRating:Math.round(a.supplierRating*10)/10,state:t})}),s}function kte(){let e=process.env.ENERGY_PLAN_TABLE_NAME;if(e)return console.log(`[getTableName] Using table name from environment: ${e}`),e;let n=(process.env.AMPLIFY_DATA_GRAPHQL_ENDPOINT||"").match(/https:\/\/([^.]+)\.appsync-api/)?.[1]||"";if(n){let o=`EnergyPlan-${n}-NONE`;return console.log(`[getTableName] Constructed table name from GraphQL endpoint: ${o}`),o}throw new Error("Unable to determine table name. ENERGY_PLAN_TABLE_NAME environment variable is not set and AMPLIFY_DATA_GRAPHQL_ENDPOINT is not available.")}async function Ute(e){let t=0,r=new Date().toISOString(),n=kte(),o=process.env.AWS_REGION||"us-east-1";console.log(`[storePlans] Attempting to store ${e.length} plans`),console.log(`[storePlans] Table name: ${n}`),console.log(`[storePlans] Region: ${o}`),console.log(`[storePlans] DynamoDB client region: ${Op.config.region||"not set"}`);for(let s of e)try{let i=s.planId;console.log(`[storePlans] Processing plan: ${s.planId} (id: ${i})`),console.log(`[storePlans] Checking if plan exists: ${i}`);let a=await Op.send(new jn.GetCommand({TableName:n,Key:{id:i}}));console.log(`[storePlans] GetItem result: ${a.Item?"exists":"not found"}`);let l={id:i,planId:s.planId,supplierName:s.supplierName,planName:s.planName,ratePerKwh:s.ratePerKwh,contractType:s.contractType,contractLengthMonths:s.contractLengthMonths??null,renewablePercentage:s.renewablePercentage??null,earlyTerminationFee:s.earlyTerminationFee??null,supplierRating:s.supplierRating??null,state:s.state,utilityTerritory:null,updatedAt:r};a.Item?(console.log(`[storePlans] Updating existing plan: ${s.planId}`),await Op.send(new jn.UpdateCommand({TableName:n,Key:{id:i},UpdateExpression:"SET planId = :planId, supplierName = :supplierName, planName = :planName, ratePerKwh = :ratePerKwh, contractType = :contractType, contractLengthMonths = :contractLengthMonths, renewablePercentage = :renewablePercentage, earlyTerminationFee = :earlyTerminationFee, supplierRating = :supplierRating, state = :state, updatedAt = :updatedAt",ExpressionAttributeValues:{":planId":s.planId,":supplierName":s.supplierName,":planName":s.planName,":ratePerKwh":s.ratePerKwh,":contractType":s.contractType,":contractLengthMonths":s.contractLengthMonths??null,":renewablePercentage":s.renewablePercentage??null,":earlyTerminationFee":s.earlyTerminationFee??null,":supplierRating":s.supplierRating??null,":state":s.state,":updatedAt":r}})),console.log(`[storePlans] Successfully updated plan: ${s.planId}`),t++):(console.log(`[storePlans] Creating new plan: ${s.planId}`),await Op.send(new jn.PutCommand({TableName:n,Item:{...l,createdAt:r}})),console.log(`[storePlans] Successfully created plan: ${s.planId}`),t++)}catch(i){console.error(`[storePlans] Error storing plan ${s.planId}:`,i),console.error("[storePlans] Error details:",{message:i instanceof Error?i.message:String(i),name:i instanceof Error?i.name:"Unknown",tableName:n,region:process.env.AWS_REGION||"us-east-1"})}return console.log(`[storePlans] Completed: stored ${t} out of ${e.length} plans`),t}var Jye=async e=>{console.log("[handler] Starting plan catalog update"),console.log("[handler] Event:",JSON.stringify(e,null,2)),console.log("[handler] Environment variables:",{AWS_REGION:process.env.AWS_REGION,AMPLIFY_DATA_GRAPHQL_ENDPOINT:process.env.AMPLIFY_DATA_GRAPHQL_ENDPOINT?.substring(0,50)+"...",ENERGY_PLAN_TABLE_NAME:process.env.ENERGY_PLAN_TABLE_NAME});try{let{sources:t=["eia","openei"],states:r=["CA","TX","NY","FL"]}=e;console.log(`[handler] Processing states: ${r.join(", ")}`),console.log(`[handler] Using sources: ${t.join(", ")}`);let n=0;for(let o of r){let s=null;t.includes("eia")&&(s=await Ote(o)),!s&&t.includes("openei")&&(s=await Lte(o)),s||(s={CA:.22,TX:.12,NY:.18,FL:.12,IL:.12,PA:.14,OH:.12,GA:.11}[o.toUpperCase()]||.13,console.warn(`Using default rate for ${o}: $${s}/kWh`));let i=3+Math.floor(Math.random()*2),a=[];for(let u=0;u<i;u++){let m=Mte(s,o,u);a.push(...m)}let l=await Ute(a);n+=l,console.log(`Generated ${a.length} plans for ${o}, stored ${l}`)}return{success:!0,plansUpdated:n}}catch(t){return console.error("Error updating plan catalog:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}};export{Jye as handler};
//# sourceMappingURL=index.mjs.map
